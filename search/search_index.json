{"config":{"lang":["en","ja"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"cli/","title":"CLI Usage","text":"<p>YomiToku \u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\uff08CLI\uff09\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u521d\u56de\u306e\u5b9f\u884c\u6642\u306e\u307f\u3001Hugging Face Hub \u304b\u3089\u30e2\u30c7\u30eb\u306e\u91cd\u307f\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u6587\u66f8\u753b\u50cf\u3092\u89e3\u6790\u3057\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} -v -o results\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u8aac\u660e <code>${path_data}</code> \u89e3\u6790\u5bfe\u8c61\u306e\u753b\u50cf\u304c\u542b\u307e\u308c\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <code>-o</code>, <code>--outdir</code> \u51fa\u529b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u307e\u3059\uff08\u306a\u3051\u308c\u3070\u4f5c\u6210\uff09\u3002 <code>-v</code>, <code>--vis</code> \u89e3\u6790\u7d50\u679c\u306e\u53ef\u8996\u5316\u753b\u50cf\u3092\u51fa\u529b\u3057\u307e\u3059\u3002 <p>\u88dc\u8db3: <code>${path_data}</code> \u306b\u3064\u3044\u3066</p> <ul> <li>\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</li> <li>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5834\u5408\u306f\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u3082\u542b\u3081\u3066\u518d\u5e30\u7684\u306b\u51e6\u7406\u3057\u307e\u3059\u3002</li> <li>\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u306f <code>pdf</code>\u3001 <code>jpeg</code>\u3001 <code>png</code>\u3001 <code>bmp</code>\u3001 <code>tiff</code> \u3067\u3059\u3002</li> </ul> <p>Note</p> <ul> <li>\u6d3b\u5b57\u306e\u307f\u306e\u8b58\u5225\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u307e\u3059\u3002\u624b\u66f8\u304d\u6587\u5b57\u306b\u95a2\u3057\u3066\u306f\u3001\u8aad\u307f\u53d6\u308c\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u307e\u305b\u3093\u3002</li> <li>OCR \u306f\u6587\u66f8 OCR \u3068\u60c5\u666f OCR(\u770b\u677f\u306a\u3069\u7d19\u4ee5\u5916\u306b\u30d7\u30ea\u30f3\u30c8\u3055\u308c\u305f\u6587\u5b57)\u306b\u5927\u5225\u3055\u308c\u307e\u3059\u304c\u3001YomiToku \u306f\u6587\u66f8 OCR \u5411\u3051\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> <li>AI-OCR \u306e\u8b58\u5225\u7cbe\u5ea6\u3092\u9ad8\u3081\u308b\u305f\u3081\u306b\u3001\u5165\u529b\u753b\u50cf\u306e\u89e3\u50cf\u5ea6\u304c\u91cd\u8981\u3067\u3059\u3002\u4f4e\u89e3\u50cf\u5ea6\u753b\u50cf\u3067\u306f\u8b58\u5225\u7cbe\u5ea6\u304c\u4f4e\u4e0b\u3057\u307e\u3059\u3002\u753b\u50cf\u306e\u77ed\u8fba\u3092 1000px \u4ee5\u4e0a\u306e\u753b\u50cf\u3067\u63a8\u8ad6\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"cli/#_1","title":"\u30d8\u30eb\u30d7\u306e\u53c2\u7167","text":"<p><code>--help</code>, <code>-h</code>\u306b\u3066 CLI \u306b\u6307\u5b9a\u53ef\u80fd\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"cli/#_2","title":"\u8efd\u91cf\u30e2\u30fc\u30c9\u3067\u306e\u5b9f\u884c","text":"<p><code>--lite</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u4e0e\u3059\u308b\u3053\u3068\u3067\u3001\u8efd\u91cf\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u63a8\u8ad6\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3088\u308a\u9ad8\u901f\u306b\u89e3\u6790\u304c\u5b9f\u884c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u6587\u5b57\u306e\u8a8d\u8b58\u7cbe\u5ea6\u304c\u4f4e\u4e0b\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --lite -v\n</code></pre>"},{"location":"cli/#_3","title":"\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6307\u5b9a","text":"<p><code>-f</code>, <code>--format</code> \u51fa\u529b\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002(json, csv, html, md, pdf(searchable-pdf) \u3092\u30b5\u30dd\u30fc\u30c8)</p> <pre><code>yomitoku ${path_data} -f md\n</code></pre> <p><code>pdf</code> \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u753b\u50cf\u5185\u306e\u6587\u5b57\u60c5\u5831\u3092\u8a8d\u8b58\u3057\u3001\u6587\u5b57\u60c5\u5831\u3092\u900f\u660e\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u57cb\u3081\u8fbc\u3080\u3053\u3068\u3067\u30b5\u30fc\u30c1\u30e3\u30d6\u30eb PDF \u306b\u5909\u63db\u3057\u307e\u3059\u3002</p>"},{"location":"cli/#_4","title":"\u51fa\u529b\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a","text":"<p><code>-d</code>, <code>--device</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30e2\u30c7\u30eb\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002(cuda | cpu | mps)\u3002gpu \u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f cpu \u3067\u63a8\u8ad6\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8: cuda)</p> <pre><code>yomitoku ${path_data} -d cpu\n</code></pre>"},{"location":"cli/#_5","title":"\u6539\u884c\u306e\u7121\u8996","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u753b\u50cf\u5185\u3067\u8a18\u8ff0\u3055\u308c\u305f\u60c5\u5831\u306b\u5f93\u3044\u3001\u6539\u884c\u3092\u884c\u3044\u307e\u3059\u3002 <code>--ignore_line_break</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u753b\u50cf\u306e\u6539\u884c\u4f4d\u7f6e\u3092\u7121\u8996\u3057\u3066\u3001\u6bb5\u843d\u5185\u306e\u540c\u4e00\u6587\u7ae0\u3092\u9023\u7d50\u3057\u3066\u8fd4\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>yomitoku ${path_data} --ignore_line_break\n</code></pre>"},{"location":"cli/#_6","title":"\u56f3\u3084\u30b0\u30e9\u30d5\u753b\u50cf\u306e\u51fa\u529b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u6587\u66f8\u753b\u50cf\u5185\u306e\u542b\u307e\u308c\u308b\u56f3\u3084\u753b\u50cf\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u305b\u3093\u3002<code>--figure</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u6587\u66f8\u753b\u50cf\u306b\u542b\u307e\u308c\u308b\u3001\u56f3\u3084\u753b\u50cf\u3092\u5207\u308a\u51fa\u3057\u3001\u500b\u5225\u306e\u753b\u50cf\u3068\u3057\u3066\u4fdd\u5b58\u3001\u307e\u305f\u3001\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u691c\u51fa\u3057\u305f\u500b\u5225\u306e\u753b\u50cf\u306b\u5bfe\u3059\u308b\u30ea\u30f3\u30af\u3092\u51fa\u529b\u3057\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --figure\n</code></pre>"},{"location":"cli/#_7","title":"\u56f3\u3084\u753b\u50cf\u5185\u306b\u542b\u307e\u308c\u308b\u6587\u5b57\u306e\u51fa\u529b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u56f3\u3084\u753b\u50cf\u5185\u306b\u542b\u307e\u308c\u308b\u6587\u5b57\u60c5\u5831\u306f\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u305b\u3093\u3002 <code>--figure_letter</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u753b\u50cf\u3084\u56f3\u306b\u542b\u307e\u308c\u308b\u6587\u5b57\u60c5\u5831\u3082\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --figure_letter\n</code></pre>"},{"location":"cli/#_8","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u306e\u6307\u5b9a","text":"<p>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u3092<code>--encoding</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002(utf-8, utf-8-sig, shift-jis, enc-jp, cp932)\u3002\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u6587\u5b57\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u306f\u3001\u305d\u306e\u6587\u5b57\u3092\u7121\u8996\u3057\u3001\u51fa\u529b\u3057\u307e\u305b\u3093\u3002</p> <pre><code>yomitoku ${path_data} --encoding utf-8-sig\n</code></pre>"},{"location":"cli/#config","title":"Config \u306e\u30d1\u30b9\u306e\u6307\u5b9a","text":"<p>\u6b21\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5404\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3059\u308b Config \u304c\u8a18\u8ff0\u3055\u308c\u305f YAML \u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u5bfe\u8c61\u30e2\u30c7\u30eb <code>--td_cfg</code> Text Detector (\u6587\u5b57\u4f4d\u7f6e\u306e\u691c\u77e5) <code>--tr_cfg</code> Text Recognizer (\u6587\u5b57\u5217\u8a8d\u8b58) <code>--lp_cfg</code> Layout Parser (\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790) <code>--tsr_cfg</code> Table Structure Recognizer (\u8868\u306e\u69cb\u9020\u8a8d\u8b58) <pre><code>yomitoku ${path_data} --td_cfg ${path_yaml}\n</code></pre>"},{"location":"cli/#_9","title":"\u30e1\u30bf\u60c5\u5831\u3092\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u52a0\u3048\u306a\u3044","text":"<p>\u30d8\u30c3\u30c0\u30fc\u3084\u30d5\u30c3\u30bf\u30fc\u7b49\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u52a0\u3048\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --ignore_meta\n</code></pre>"},{"location":"cli/#_10","title":"\u8907\u6570\u30da\u30fc\u30b8\u3092\u7d71\u5408\u3059\u308b","text":"<p>PDF\u306b\u8907\u6570\u30da\u30fc\u30b8\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u306b\u8907\u6570\u30da\u30fc\u30b8\u3092\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} -f md --combine\n</code></pre>"},{"location":"cli/#pdf","title":"PDF\u306e\u8aad\u307f\u53d6\u308a\u89e3\u50cf\u5ea6\u306e\u8a2d\u5b9a","text":"<p>PDF\u3092\u8aad\u307f\u53d6\u308b\u969b\u306e\u89e3\u50cf\u5ea6\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3057\u307e\u3059(\u6a19\u6e96DPI=200)\u3002PDF\u5185\u306e\u6587\u5b57\u304c\u5fae\u7d30\u306a\u5834\u5408\u306a\u3069\u3001\u7d30\u90e8\u306e\u6587\u5b57\u3092\u8aad\u307f\u53d6\u308a\u305f\u3044\u5834\u5408\u306bDPI\u5024\u3092\u4e0a\u3052\u308b\u3053\u3068\u3067\u8aad\u307f\u53d6\u308a\u7cbe\u5ea6\u304c\u5411\u4e0a\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --dpi 250\n</code></pre>"},{"location":"cli/#_11","title":"\u8aad\u307f\u53d6\u308a\u9806\u3092\u6307\u5b9a\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u8aad\u307f\u53d6\u308a\u9806\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f <code>auto</code> \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p><code>auto</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u306f\u6587\u66f8\u306e\u5411\u304d\uff08\u6a2a\u66f8\u304d\u304b\u7e26\u66f8\u304d\u304b\uff09\u3092\u8b58\u5225\u3057\u3001\u8aad\u307f\u53d6\u308a\u9806\u3092\u81ea\u52d5\u3067\u63a8\u5b9a\u3057\u307e\u3059\u3002 \u5177\u4f53\u7684\u306b\u306f\u3001\u6a2a\u66f8\u304d\u306e\u6587\u66f8\u306f <code>top2left</code> \u3001\u7e26\u66f8\u304d\u306e\u6587\u66f8\u306f <code>top2bottom</code> \u3068\u63a8\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <p>\u8aad\u307f\u53d6\u308a\u9806\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u624b\u52d5\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>yomitoku ${path_data} --reading_order left2right\n</code></pre> \u8a2d\u5b9a\u540d \u512a\u5148\u3055\u308c\u308b\u8aad\u307f\u53d6\u308a\u9806 \u6709\u52b9\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30bf\u30a4\u30d7 <code>top2bottom</code> \u4e0a\u304b\u3089\u4e0b\u65b9\u5411 \u6bb5\u7d44\u307f\u306e\u30ef\u30fc\u30c9\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306a\u3069 <code>left2right</code> \u5de6\u304b\u3089\u53f3\u65b9\u5411 \u30ec\u30b7\u30fc\u30c8\u3084\u4fdd\u967a\u8a3c\u306a\u3069\u3001\u30ad\u30fc\u3068\u5024\u304c\u6bb5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u308b\u30ec\u30a4\u30a2\u30a6\u30c8 <code>right2left</code> \u53f3\u304b\u3089\u5de6\u65b9\u5411 \u7e26\u66f8\u304d\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"},{"location":"cli/#_12","title":"\u8aad\u307f\u53d6\u308a\u5bfe\u8c61\u30da\u30fc\u30b8\u3092\u6307\u5b9a\u3059\u308b","text":"<p>\u7279\u5b9a\u306e\u30da\u30fc\u30b8\u306e\u307f\u3092\u5bfe\u8c61\u3068\u3057\u3066\u51e6\u7406\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u51e6\u7406\u5bfe\u8c61\u306e\u30da\u30fc\u30b8\u3092\u30b3\u30f3\u30de\u533a\u5207\u308a\u3001\u3082\u3057\u304f\u306f\u30cf\u30a4\u30d5\u30f3\u306b\u3088\u3063\u3066\u9023\u7d9a\u3059\u308b\u30da\u30fc\u30b8\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <pre><code>yomitoku ${path_data} --pages 1,3-5,10\n</code></pre>"},{"location":"commercial_use_guideline/","title":"YomiToku \u5229\u7528\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\uff08CC BY-NC-SA \u8ffd\u52a0\u8aac\u660e\uff09","text":"<p>\u672c\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u306f\u3001YomiToku OSS\uff08\u4ee5\u4e0b\u300c\u672c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u300d\uff09\u3092 CC BY-NC-SA\uff08\u975e\u55b6\u5229\u76ee\u7684\uff09 \u306e\u4e0b\u3067\u9069\u5207\u306b\u3054\u5229\u7528\u3044\u305f\u3060\u304f\u305f\u3081\u306e\u88dc\u8db3\u6307\u91dd\u3067\u3059\u3002</p> <p>\u672c\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u306f \u30e9\u30a4\u30bb\u30f3\u30b9\u672c\u6587\u3092\u5909\u66f4\u3059\u308b\u3082\u306e\u3067\u306f\u306a\u304f\u3001 \u975e\u55b6\u5229\u5229\u7528\u3068\u5546\u7528\u5229\u7528\u306e\u5224\u65ad\u57fa\u6e96\u3092\u660e\u78ba\u5316\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#1-pocproof-of-concept","title":"1. PoC\uff08Proof of Concept\uff09\u3068\u3057\u3066\u7121\u511f\u3067\u8a8d\u3081\u3089\u308c\u308b\u5229\u7528","text":"<p>\u4ee5\u4e0b\u306e\u5229\u7528\u306f \u975e\u55b6\u5229\uff08NC\u7bc4\u56f2\u5185\uff09 \u3068\u5224\u65ad\u3057\u3001\u5546\u7528\u5951\u7d04\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#1-1","title":"1-1. \u81ea\u793e\u5185\u3067\u5b8c\u7d50\u3059\u308b\u7cbe\u5ea6\u691c\u8a3c\u30fb\u6280\u8853\u8a55\u4fa1","text":"<ul> <li>\u793e\u5185\u30c7\u30fc\u30bf\u3092\u7528\u3044\u305f\u7cbe\u5ea6\u691c\u8a3c</li> <li>\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u30fb\u30e2\u30c7\u30eb\u6bd4\u8f03\u691c\u8a3c</li> <li>\u672c\u756a\u5229\u7528\u3092\u76ee\u7684\u3068\u3057\u306a\u3044\u6280\u8853\u9078\u5b9a</li> <li>\u793e\u5185\u9650\u5b9a\u306e\u30c7\u30e2\u4f5c\u6210</li> </ul>"},{"location":"commercial_use_guideline/#1-2","title":"1-2. \u5b66\u8853\u7814\u7a76\u30fb\u6559\u80b2\u76ee\u7684","text":"<ul> <li>\u5927\u5b66\u30fb\u7814\u7a76\u5ba4\u30fb\u6559\u80b2\u6a5f\u95a2\u3067\u306e\u5229\u7528</li> <li>\u8ad6\u6587\u30fb\u7814\u7a76\u76ee\u7684\u3067\u306e\u5229\u7528</li> </ul> <p>\u203b\u305f\u3060\u3057\u3001\u7814\u7a76\u6210\u679c\u7269\u3092\u5546\u7528\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u5225\u9014\u76f8\u8ac7\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#1-3-poc","title":"1-3. \u5916\u90e8\u9867\u5ba2\u3068\u306e\u300c\u7121\u511f\u300dPoC\uff08\u91cd\u8981\uff09","text":"<p>\u4ee5\u4e0b\u3059\u3079\u3066\u3092\u6e80\u305f\u3059\u5834\u5408\u3001\u5916\u90e8\u9867\u5ba2\u304c\u95a2\u4e0e\u3057\u3066\u3044\u3066\u3082 \u975e\u55b6\u5229\u6271\u3044\uff08NC\u7bc4\u56f2\u5185\uff09 \u3068\u3057\u307e\u3059\u3002</p> <ul> <li>\u5916\u90e8\u9867\u5ba2\u304b\u3089 \u4e00\u5207\u306e\u8cbb\u7528\uff08PoC\u8cbb\u3001\u4f5c\u696d\u8cbb\u7b49\uff09\u3092\u53d7\u9818\u3057\u306a\u3044</li> <li>PoC\u6210\u679c\u7269\u3092 \u672c\u756a\u5229\u7528\u3057\u306a\u3044</li> <li>\u9867\u5ba2\u306b \u58f2\u4e0a\u5411\u4e0a\u30fb\u696d\u52d9\u52b9\u7387\u5316\u7b49\u306e\u4e8b\u696d\u4fa1\u5024\u304c\u751f\u3058\u306a\u3044</li> <li>\u6210\u679c\u7269\u30fb\u30b3\u30fc\u30c9\u30fb\u51fa\u529b\u7d50\u679c\u304c \u5546\u7528\u7684\u306b\u5229\u7528\u3055\u308c\u306a\u3044</li> </ul>"},{"location":"commercial_use_guideline/#2-nc","title":"2. \u5546\u7528\u5229\u7528\uff08NC\u306e\u7bc4\u56f2\u5916\uff09\u3068\u306a\u308b\u5229\u7528\u884c\u70ba","text":"<p>\u4ee5\u4e0b\u306e\u5229\u7528\u306f \u55b6\u5229\u76ee\u7684\u306e\u4f7f\u7528\uff08\u5546\u7528\u5229\u7528\uff09 \u306b\u8a72\u5f53\u3059\u308b\u305f\u3081\u3001 \u5546\u7528\u30e9\u30a4\u30bb\u30f3\u30b9\u307e\u305f\u306f\u500b\u5225\u5951\u7d04\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#2-1-poc","title":"2-1. \u6709\u511f\u306e\u5916\u90e8\u9867\u5ba2\u5411\u3051 PoC","text":"<ul> <li>\u9867\u5ba2\u304b\u3089 PoC \u8cbb\u7528\u30fb\u4f5c\u696d\u8cbb\u3092\u53d7\u9818</li> <li>\u6709\u511fPoC\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u63d0\u4f9b</li> <li>\u53d7\u8a17\u6848\u4ef6\u306e\u4e00\u90e8\u3068\u3057\u3066PoC\u3092\u5b9f\u65bd</li> </ul> <p>\u2192 \u540d\u76ee\u306b\u95a2\u308f\u3089\u305a\u3001\u91d1\u92ad\u6388\u53d7\u304c\u3042\u308b\u6642\u70b9\u3067\u5546\u7528\u5229\u7528\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#2-2","title":"2-2. \u5b9f\u30b7\u30b9\u30c6\u30e0\u30fb\u672c\u756a\u74b0\u5883\u30fb\u696d\u52d9\u30d7\u30ed\u30bb\u30b9\u3078\u306e\u7d44\u307f\u8fbc\u307f","text":"<ul> <li>\u793e\u5185\u696d\u52d9\u306e\u81ea\u52d5\u5316\u30fb\u52b9\u7387\u5316\u30fb\u30b3\u30b9\u30c8\u524a\u6e1b</li> <li>RPA\u30fb\u30d0\u30c3\u30c1\u51e6\u7406\u3078\u306e\u7d44\u307f\u8fbc\u307f</li> <li>\u9577\u671f\u904b\u7528\u3055\u308c\u308b\u793e\u5185\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u5229\u7528</li> <li>\u9867\u5ba2\u5411\u3051\u88fd\u54c1\u30fb\u30b5\u30fc\u30d3\u30b9\u306e\u4e00\u90e8\u3068\u3057\u3066\u5229\u7528</li> </ul>"},{"location":"commercial_use_guideline/#2-3-oemsaas","title":"2-3. \u518d\u8ca9\u30fbOEM\u30fbSaaS\u30fb\u4e8c\u6b21\u63d0\u4f9b","text":"<ul> <li>\u672c\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u7d44\u307f\u8fbc\u3093\u3060\u88fd\u54c1/\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b</li> <li>SaaS / API / \u81ea\u793e\u30d7\u30ed\u30c0\u30af\u30c8\u3067\u306e\u5229\u7528</li> <li>\u9867\u5ba2\u306b\u7d0d\u54c1\u3059\u308b\u6210\u679c\u7269\u3068\u3057\u3066\u4f9d\u5b58\u3055\u305b\u308b\u5f62\u3067\u306e\u5229\u7528</li> <li>OEM\u30fb\u518d\u8ca9\u30fb\u4ee3\u7406\u5e97\u30e2\u30c7\u30eb\u3067\u306e\u5229\u7528</li> </ul>"},{"location":"commercial_use_guideline/#2-4","title":"2-4. \u53d7\u8a17\u958b\u767a\u30fb\u30b3\u30f3\u30b5\u30eb\u30c6\u30a3\u30f3\u30b0\u3067\u306e\u5229\u7528","text":"<ul> <li>\u9867\u5ba2\u8981\u4ef6\u3092\u6e80\u305f\u3059\u305f\u3081\u306b\u5229\u7528\u3059\u308b\u5834\u5408</li> <li>\u7d0d\u54c1\u7269\uff08\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30fb\u5e33\u7968\uff09\u306b\u542b\u3081\u3066\u63d0\u4f9b\u3059\u308b\u5834\u5408</li> <li>BPO\u30fb\u30a2\u30a6\u30c8\u30bd\u30fc\u30b7\u30f3\u30b0\u696d\u52d9\u306e\u4e00\u90e8\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408</li> </ul>"},{"location":"commercial_use_guideline/#2-5","title":"2-5. \u81ea\u793e\u696d\u52d9\u52b9\u7387\u5316\u3092\u76ee\u7684\u3068\u3057\u305f\u5229\u7528","text":"<p>\u300c\u793e\u5185\u5229\u7528\u3060\u304b\u3089\u975e\u55b6\u5229\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <ul> <li>\u5927\u91cf\u306e\u5e33\u7968\u3084PDF\u51e6\u7406\u306b\u3088\u308b\u30b3\u30b9\u30c8\u524a\u6e1b</li> <li>\u793e\u5185\u696d\u52d9\u30d7\u30ed\u30bb\u30b9\u306e\u52b9\u7387\u5316</li> <li>\u793e\u5185\u306e\u672c\u756a\u696d\u52d9\u30d5\u30ed\u30fc\u306b\u7d44\u307f\u8fbc\u3080\u5229\u7528</li> </ul> <p>\u2192 \u4f01\u696d\u6d3b\u52d5\u306b\u76f4\u63a5\u5bc4\u4e0e\u3059\u308b\u305f\u3081\u3001\u5546\u7528\u5229\u7528\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#2-6","title":"2-6. \u51fa\u529b\u7d50\u679c\u306e\u5546\u7528\u7684\u306a\u5229\u7528\u30fb\u63d0\u4f9b","text":"<p>Warning</p> <p>\u91cd\u8981\uff1a\u51fa\u529b\u7d50\u679c\uff08Outputs\uff09\u306e\u5916\u90e8\u63d0\u4f9b\u3082\u5546\u7528\u5229\u7528\u3067\u3059</p> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001YomiToku\u3067\u751f\u6210\u3057\u305f\u51fa\u529b\u7d50\u679c\u3092\u5916\u90e8\u306b\u63d0\u4f9b\u3059\u308b\u884c\u70ba\u306f \u4fa1\u5024\u306e\u5916\u90e8\u63d0\u4f9b \u306b\u8a72\u5f53\u3057\u3001\u5546\u7528\u5229\u7528\u3068\u306a\u308a\u307e\u3059\u3002</p> <ul> <li>OCR\u30c6\u30ad\u30b9\u30c8\u3092\u9867\u5ba2\u306b\u63d0\u4f9b</li> <li>\u62bd\u51fa\u30c7\u30fc\u30bf\u30fb\u89e3\u6790\u7d50\u679c\u3092\u7d0d\u54c1\u7269\u306b\u542b\u3081\u308b</li> <li>\u52a0\u5de5\u6e08\u307fPDF/CSV/JSON\u3092\u9867\u5ba2\u306b\u63d0\u4f9b</li> <li>SaaS \u306e\u5185\u90e8\u6a5f\u80fd\u3068\u3057\u3066 YomiToku \u51fa\u529b\u3092\u5229\u7528</li> <li>RPA\u5de5\u7a0b\u3067 YomiToku \u51fa\u529b\u3092\u4f7f\u3044\u3001\u9867\u5ba2\u696d\u52d9\u3092\u4ee3\u884c</li> <li>\u300cYomiToku\u3067\u89e3\u6790\u3057\u305f\u5e33\u7968\u300d\u3092\u7b2c\u4e09\u8005\u306b\u63d0\u4f9b</li> </ul> <p>\u2192 \u751f\u6210\u7269\uff08Outputs\uff09\u304c\u4e8b\u696d\u4fa1\u5024\u3092\u751f\u3080\u5834\u5408\u3001\u3059\u3079\u3066\u5546\u7528\u5229\u7528\u3067\u3059\u3002</p>"},{"location":"commercial_use_guideline/#3","title":"3. \u5224\u65ad\u57fa\u6e96\uff08\u8ff7\u3063\u305f\u5834\u5408\u306e\u57fa\u6e96\uff09","text":"<p>\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306b\u8a72\u5f53\u3059\u308b\u5834\u5408\u3001\u5546\u7528\u5229\u7528\u306e\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3068\u5224\u65ad\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"commercial_use_guideline/#3-1","title":"\u2714 3-1. \u91d1\u92ad\u306e\u6388\u53d7\u304c\u3042\u308b\u304b\uff1f","text":"<p>\u2192 \u3042\u308c\u3070\u5546\u7528\u3002</p>"},{"location":"commercial_use_guideline/#3-2-or","title":"\u2714 3-2. \u4fa1\u5024\u5275\u51fa\uff08\u58f2\u4e0a or \u30b3\u30b9\u30c8\u524a\u6e1b\uff09\u304c\u767a\u751f\u3059\u308b\u304b\uff1f","text":"<p>\u2192 \u3042\u308c\u3070\u5546\u7528\u3002</p>"},{"location":"commercial_use_guideline/#3-3","title":"\u2714 3-3. \u51fa\u529b\u7d50\u679c\u3092\u5916\u90e8\u3078\u63d0\u4f9b\u3059\u308b\u304b\uff1f","text":"<p>\u2192 \u63d0\u4f9b\u3057\u305f\u6642\u70b9\u3067\u5546\u7528\u3002</p>"},{"location":"commercial_use_guideline/#4","title":"4. \u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u4e0a\u3067\u5224\u65ad\u3067\u304d\u306a\u3044\u5834\u5408\u306e\u304a\u554f\u3044\u5408\u308f\u305b","text":"<p>\u5229\u7528\u533a\u5206\u306e\u5224\u65ad\u304c\u96e3\u3057\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u3088\u308a\u3054\u76f8\u8ac7\u304f\u3060\u3055\u3044\u3002</p> <p>https://www.mlism.com/</p>"},{"location":"configuration/","title":"Model Config","text":"<p>\u5404\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u3001\u8a2d\u5b9a\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"configuration/#text-detector","title":"Text Detector","text":""},{"location":"configuration/#_1","title":"\u5165\u529b\u753b\u50cf\u30b5\u30a4\u30ba\u306b\u95a2\u3059\u308b\u8a2d\u5b9a","text":"<pre><code>data:\n  # \u753b\u50cf\u306e\u77ed\u8fba\u30d4\u30af\u30bb\u30eb\u6570\u304c\u8a2d\u5b9a\u3057\u305f\u6570\u5024\u3092\u4e0b\u56de\u308b\u5834\u5408\u306b\u3053\u3053\u3067\u8a2d\u5b9a\u3057\u305f\u753b\u50cf\u306e\u30d4\u30af\u30bb\u30eb\u6570\u306b\u4ee5\u4e0a\u306b\u306a\u308b\u3088\u3046\u306b\u753b\u50cf\u3092\u62e1\u5927\u3057\u307e\u3059\u3002\n  shortest_size: int \n\n  # \u753b\u50cf\u306e\u9577\u8fba\u30d4\u30af\u30bb\u30eb\u6570\u304c\u8a2d\u5b9a\u3057\u305f\u6570\u5024\u3092\u4e0a\u56de\u308b\u5834\u5408\u306b\u3053\u3053\u3067\u8a2d\u5b9a\u3057\u305f\u753b\u50cf\u306e\u30d4\u30af\u30bb\u30eb\u6570\u4ee5\u4e0b\u306b\u306a\u308b\u3088\u3046\u306b\u753b\u50cf\u3092\u7e2e\u5c0f\u3057\u307e\u3059\u3002\n  limit_size: int \n</code></pre>"},{"location":"configuration/#_2","title":"\u5f8c\u51e6\u7406","text":"<pre><code>post_process:\n  # \u691c\u51fa\u3057\u305f\u9818\u57df\u306e\u8fba\u306e\u5927\u304d\u3055\u304c\u8a2d\u5b9a\u3057\u305f\u6570\u5024\u3092\u4e0b\u56de\u308b\u5834\u5408\u306b\u9818\u57df\u3092\u9664\u53bb\u3057\u307e\u3059\u3002\n  min_size: int \n\n  # \u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024\u3067\u3001\u4e88\u6e2c\u30b9\u30b3\u30a2\u304c\u8a2d\u5b9a\u3057\u305f\u95be\u5024\u3092\u4e0b\u56de\u308b\u30d4\u30af\u30bb\u30eb\u3092\u80cc\u666f\u9818\u57df\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002\n  thresh: float \n\n  # \u9818\u57df\u5185\u306e\u4e88\u6e2c\u306e\u5e73\u5747\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024\u3067\u3001\u95be\u5024\u3092\u4e0b\u56de\u308b\u9818\u57df\u3092\u9664\u5916\u3057\u307e\u3059\u3002\n  box_thresh: float \n\n  # \u691c\u51fa\u53ef\u80fd\u306a\u30c6\u30ad\u30b9\u30c8\u9818\u57df\u6570\u306e\u4e0a\u9650\n  max_candidates: int \n\n  # \u30c6\u30ad\u30b9\u30c8\u9818\u57df\u306e\u30de\u30fc\u30b8\u30f3\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3002\u5927\u304d\u3044\u307b\u3069\u3001\u30c6\u30ad\u30b9\u30c8\u9818\u57df\u306e\u30de\u30fc\u30b8\u30f3\u3092\u5927\u304d\u304f\u3057\u3001\u4f59\u767d\u3092\u6301\u305f\u305b\u305f\u691c\u51fa\u304c\u53ef\u80fd\u306b\u306a\u308a\u3001\u5c0f\u3055\u3044\u307b\u3069\u30bf\u30a4\u30c8\u306a\u691c\u51fa\u306b\u306a\u308a\u307e\u3059\u3002\n  unclip_ratio: int \n</code></pre>"},{"location":"configuration/#_3","title":"\u53ef\u8996\u5316\u8a2d\u5b9a","text":"<pre><code>visualize:\n  # \u691c\u51fa\u9818\u57df\u306e\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306e\u8272\u306e\u8a2d\u5b9a\n  color: [B, G, R] \n\n  # \u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3092\u53ef\u8996\u5316\u3001\u63cf\u753b\u3059\u308b\u304b\n  heatmap: boolean \n</code></pre>"},{"location":"configuration/#text-recognizer","title":"Text Recognizer","text":""},{"location":"configuration/#_4","title":"\u6587\u5b57\u5217\u9577","text":"<pre><code># \u4e88\u6e2c\u53ef\u80fd\u306a\u6700\u5927\u6587\u5b57\u5217\u9577\nmax_label_length: int\n</code></pre>"},{"location":"configuration/#_5","title":"\u5165\u529b\u753b\u50cf","text":"<pre><code>data:\n   # \u30d0\u30c3\u30c1\u51e6\u7406\u306b\u7528\u3044\u308b\u753b\u50cf\u6570\n  batch_size: int\n</code></pre>"},{"location":"configuration/#_6","title":"\u53ef\u8996\u5316\u8a2d\u5b9a","text":"<pre><code>visualize:\n  # \u4e88\u6e2c\u7d50\u679c\u6587\u5b57\u5217\u306e\u53ef\u8996\u5316\u306b\u7528\u3044\u308b\u30d5\u30a9\u30f3\u30c8\u306e\u30d1\u30b9\n  font: str \n\n  # \u4e88\u6e2c\u7d50\u679c\u6587\u5b57\u5217\u306e\u53ef\u8996\u5316\u306b\u7528\u3044\u308b\u30d5\u30a9\u30f3\u30c8\u306e\u8272\n  color: [BGR] \n\n  # \u4e88\u6e2c\u7d50\u679c\u6587\u5b57\u5217\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u5927\u304d\u3055\n  font_size: int\n</code></pre>"},{"location":"configuration/#layout-parser","title":"Layout Parser","text":""},{"location":"configuration/#_7","title":"\u4e88\u6e2c\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024","text":"<pre><code># \u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024\u3067\u3001\u4e88\u6e2c\u30b9\u30b3\u30a2\u304c\u8a2d\u5b9a\u3057\u305f\u95be\u5024\u3092\u9818\u57df\u3092\u9664\u5916\u3057\u307e\u3059\u3002\nthresh_score: float \n</code></pre>"},{"location":"configuration/#table-structure-recognizer","title":"Table Structure Recognizer","text":""},{"location":"configuration/#_8","title":"\u4e88\u6e2c\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024","text":"<pre><code># \u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u30b9\u30b3\u30a2\u306b\u5bfe\u3059\u308b\u95be\u5024\u3067\u3001\u4e88\u6e2c\u30b9\u30b3\u30a2\u304c\u8a2d\u5b9a\u3057\u305f\u95be\u5024\u3092\u9818\u57df\u3092\u9664\u5916\u3057\u307e\u3059\u3002\nthresh_score: float \n</code></pre>"},{"location":"extractor/","title":"Yomitoku Extractor","text":"<p>Yomitoku Extractor\u306f\u3001\u5e33\u7968\u753b\u50cf\u3084PDF\u304b\u3089\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u306b\u5f93\u3063\u3066\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002 YomiToku\u306e\u30c6\u30fc\u30d6\u30eb\u89e3\u6790\u30a8\u30f3\u30b8\u30f3\uff08TableSemanticParser\uff09\u3067OCR\u30fb\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u3092\u884c\u3044\u3001\u305d\u306e\u7d50\u679c\u304b\u3089YAML\u3067\u5b9a\u7fa9\u3057\u305f\u30b9\u30ad\u30fc\u30de\u306b\u57fa\u3065\u3044\u3066\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> <p>\u62bd\u51fa\u65b9\u5f0f\u306f\u4ee5\u4e0b\u306e2\u7a2e\u985e\u304b\u3089\u9078\u629e\u3067\u304d\u307e\u3059\u3002</p> \u30b3\u30de\u30f3\u30c9 \u62bd\u51fa\u65b9\u5f0f \u7279\u5fb4 <code>yomitoku_extract</code> \u30eb\u30fc\u30eb\u30d9\u30fc\u30b9 LLM\u4e0d\u8981\u3002KV\u691c\u7d22\u30fb\u30b0\u30ea\u30c3\u30c9\u7167\u5408\u3067\u9ad8\u901f\u306b\u62bd\u51fa <code>yomitoku_extract_with_llm</code> LLM\u30d9\u30fc\u30b9 vLLM\u306a\u3069\u306eLLM\u30b5\u30fc\u30d0\u30fc\u3092\u5229\u7528\u3057\u3066\u3088\u308a\u67d4\u8edf\u306b\u62bd\u51fa"},{"location":"extractor/#_1","title":"\u4f7f\u3044\u5206\u3051\u306e\u6307\u91dd","text":"<p>2\u3064\u306e\u62bd\u51fa\u65b9\u5f0f\u306f\u5e33\u7968\u306e\u7a2e\u985e\u3084\u62bd\u51fa\u5bfe\u8c61\u306e\u7279\u6027\u306b\u5fdc\u3058\u3066\u4f7f\u3044\u5206\u3051\u307e\u3059\u3002</p> \u89b3\u70b9 <code>yomitoku_extract</code>\uff08\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\uff09 <code>yomitoku_extract_with_llm</code>\uff08LLM\u30d9\u30fc\u30b9\uff09 \u9069\u3057\u305f\u5e33\u7968 \u5b9a\u578b\u5e33\u7968\uff08\u7533\u8acb\u66f8\u3001\u5831\u544a\u66f8\u3001\u4f1d\u7968\u306a\u3069\uff09 \u975e\u5b9a\u578b\u5e33\u7968\uff08\u540d\u523a\u3001\u30ec\u30b7\u30fc\u30c8\u3001\u8acb\u6c42\u66f8\u306a\u3069\uff09 \u30ec\u30a4\u30a2\u30a6\u30c8 \u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u56fa\u5b9a\u3067\u6bce\u56de\u540c\u3058\u4f4d\u7f6e\u306b\u540c\u3058\u9805\u76ee\u304c\u3042\u308b \u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u767a\u884c\u5143\u306b\u3088\u3063\u3066\u7570\u306a\u308b \u62bd\u51fa\u5bfe\u8c61 \u62bd\u51fa\u3059\u308b\u5024\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u660e\u78ba\uff08\u96fb\u8a71\u756a\u53f7\u3001\u65e5\u4ed8\u3001\u91d1\u984d\u306a\u3069\uff09 \u5024\u306e\u51fa\u73fe\u30d1\u30bf\u30fc\u30f3\u304c\u4e0d\u5b9a\u3001\u307e\u305f\u306f\u81ea\u7136\u8a00\u8a9e\u7684\u306a\u8868\u73fe\u3092\u542b\u3080 \u30b9\u30ad\u30fc\u30de\u8a2d\u8a08 <code>cell_id</code>\u30fb<code>bbox</code>\u30fb<code>regex</code> \u3067\u5bfe\u8c61\u3092\u6b63\u78ba\u306b\u7279\u5b9a\u3067\u304d\u308b <code>description</code> \u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u610f\u5473\u3092\u8a18\u8ff0\u3057\u3001LLM\u306b\u5224\u65ad\u3092\u59d4\u306d\u308b \u5b9f\u884c\u74b0\u5883 GPU\u30b5\u30fc\u30d0\u30fc\u4e0d\u8981\uff08OCR\u306e\u307f\uff09 vLLM\u7b49\u306eLLM\u30b5\u30fc\u30d0\u30fc\u304c\u5fc5\u8981 \u51e6\u7406\u901f\u5ea6 \u9ad8\u901f LLM\u63a8\u8ad6\u306e\u305f\u3081\u4f4e\u901f \u7cbe\u5ea6 \u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3059\u308c\u3070\u9ad8\u7cbe\u5ea6 \u6587\u8108\u3092\u7406\u89e3\u3067\u304d\u308b\u305f\u3081\u975e\u5b9a\u578b\u30c7\u30fc\u30bf\u306b\u5f37\u3044 <p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u304c\u9069\u3059\u308b\u30b1\u30fc\u30b9:</p> <ul> <li>\u540c\u4e00\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5e33\u7968\u3092\u5927\u91cf\u306b\u51e6\u7406\u3059\u308b\u5834\u5408\uff08\u7533\u8acb\u66f8\u3001\u70b9\u691c\u8a18\u9332\u306a\u3069\uff09</li> <li>\u62bd\u51fa\u5bfe\u8c61\u306e\u4f4d\u7f6e\u3084\u30c6\u30ad\u30b9\u30c8\u30d1\u30bf\u30fc\u30f3\u304c\u4e8b\u524d\u306b\u7279\u5b9a\u3067\u304d\u308b\u5834\u5408</li> <li><code>cell_id</code> \u3084 <code>bbox</code> \u3067\u5bfe\u8c61\u30bb\u30eb\u3092\u76f4\u63a5\u6307\u5b9a\u3067\u304d\u308b\u5834\u5408</li> <li>\u6b63\u898f\u8868\u73fe\u3067\u5024\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u5b9a\u7fa9\u3067\u304d\u308b\u5834\u5408\uff08\u30a4\u30f3\u30dc\u30a4\u30b9\u756a\u53f7\u3001\u96fb\u8a71\u756a\u53f7\u306a\u3069\uff09</li> <li>LLM\u30b5\u30fc\u30d0\u30fc\u3092\u7528\u610f\u3067\u304d\u306a\u3044\u3001\u307e\u305f\u306f\u30b3\u30b9\u30c8\u3092\u6291\u3048\u305f\u3044\u5834\u5408</li> </ul> <p>LLM\u30d9\u30fc\u30b9\u62bd\u51fa\u304c\u9069\u3059\u308b\u30b1\u30fc\u30b9:</p> <ul> <li>\u540d\u523a\u3084\u30ec\u30b7\u30fc\u30c8\u306a\u3069\u3001\u767a\u884c\u5143\u3054\u3068\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u7570\u306a\u308b\u5e33\u7968\u3092\u51e6\u7406\u3059\u308b\u5834\u5408</li> <li>\u62bd\u51fa\u5bfe\u8c61\u306e\u30c6\u30ad\u30b9\u30c8\u30d1\u30bf\u30fc\u30f3\u304c\u4e0d\u898f\u5247\u3067\u3001\u6b63\u898f\u8868\u73fe\u3084\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u306f\u7279\u5b9a\u304c\u96e3\u3057\u3044\u5834\u5408</li> <li>\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u610f\u5473\u3084\u6587\u8108\u3092\u7406\u89e3\u3057\u3066\u62bd\u51fa\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408</li> <li>\u521d\u56de\u306e\u30b9\u30ad\u30fc\u30de\u8a2d\u8a08\u3092\u8fc5\u901f\u306b\u884c\u3044\u305f\u3044\u5834\u5408\uff08<code>description</code> \u306e\u307f\u3067\u8a66\u884c\u932f\u8aa4\u3067\u304d\u308b\uff09</li> </ul> <p>\u7d44\u307f\u5408\u308f\u305b\u904b\u7528</p> <p>\u307e\u305aLLM\u30d9\u30fc\u30b9\u62bd\u51fa\u3067\u5e33\u7968\u306e\u69cb\u9020\u3092\u628a\u63e1\u3057\u3001\u62bd\u51fa\u30eb\u30fc\u30eb\u304c\u78ba\u5b9a\u3057\u305f\u3089\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u306b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u3067\u3001\u958b\u767a\u52b9\u7387\u3068\u904b\u7528\u30b3\u30b9\u30c8\u306e\u4e21\u65b9\u3092\u6700\u9069\u5316\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"extractor/#_2","title":"\u74b0\u5883\u69cb\u7bc9","text":""},{"location":"extractor/#_3","title":"\u57fa\u672c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install yomitoku\n</code></pre> <p>LLM\u30d9\u30fc\u30b9\u62bd\u51fa\uff08<code>yomitoku_extract_with_llm</code>\uff09\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001<code>extract</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <pre><code>pip install \"yomitoku[extract]\"\n</code></pre> <p><code>extract</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u3088\u308a\u3001<code>openai</code> \u304a\u3088\u3073 <code>pyyaml</code> \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8ffd\u52a0\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <p>Note</p> <p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\uff08<code>yomitoku_extract</code>\uff09\u306e\u307f\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001<code>[extract]</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"extractor/#vllmllm","title":"vLLM\u30b5\u30fc\u30d0\u30fc\u306e\u69cb\u7bc9\uff08LLM\u30d9\u30fc\u30b9\u62bd\u51fa\u3092\u4f7f\u3046\u5834\u5408\uff09","text":"<p>LLM\u30d9\u30fc\u30b9\u306e\u62bd\u51fa\uff08<code>yomitoku_extract_with_llm</code>\uff09\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001OpenAI\u4e92\u63dbAPI\u3092\u63d0\u4f9b\u3059\u308bLLM\u30b5\u30fc\u30d0\u30fc\u304c\u5fc5\u8981\u3067\u3059\u3002vLLM \u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p>"},{"location":"extractor/#1-vllm","title":"1. vLLM\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install vllm\n</code></pre>"},{"location":"extractor/#2-vllm","title":"2. vLLM\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5","text":"<pre><code>vllm serve &lt;model_name&gt; \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre> <p>\u4f8b: Qwen3-4B-AWQ\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408</p> <pre><code>vllm serve Qwen/Qwen3-4B-AWQ \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e <code>--quantization awq</code> AWQ\u91cf\u5b50\u5316\u3092\u6709\u52b9\u306b\u3059\u308b <code>--dtype float16</code> \u30c7\u30fc\u30bf\u578b\u3092 FP16 \u306b\u6307\u5b9a\u3059\u308b\u3002AWQ\u91cf\u5b50\u5316\u30e2\u30c7\u30eb\u306f bf16 \u975e\u5bfe\u5fdc\u306e\u305f\u3081 <code>float16</code> \u3092\u660e\u793a\u3059\u308b <code>--max-model-len</code> \u6700\u5927\u30b7\u30fc\u30b1\u30f3\u30b9\u9577\u3002\u5e33\u7968\u62bd\u51fa\u3067\u306f <code>8192</code> \u3067\u5341\u5206\u3002\u5c0f\u3055\u304f\u3059\u308b\u3068VRAM\u6d88\u8cbb\u3092\u524a\u6e1b\u3067\u304d\u308b <code>--gpu-memory-utilization</code> vLLM\u304c\u78ba\u4fdd\u3059\u308bGPU\u30e1\u30e2\u30ea\u306e\u4e0a\u9650\u5272\u5408\uff080.0\u301c1.0\uff09\u3002<code>0.5</code> \u3067VRAM\u306e50%\u307e\u3067\u306b\u5236\u9650\u3059\u308b\u3002\u53ce\u307e\u3089\u306a\u3044\u5834\u5408\u306f\u8d77\u52d5\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002yomitoku\u306eOCR\u30e2\u30c7\u30eb\u3068\u540c\u4e00GPU\u3067\u52d5\u304b\u3059\u5834\u5408\u306f\u4f4e\u3081\u306b\u8a2d\u5b9a\u3059\u308b <p>\u30b5\u30fc\u30d0\u30fc\u304c\u8d77\u52d5\u3057\u305f\u3089 <code>http://localhost:8000/v1</code> \u3067OpenAI\u4e92\u63dbAPI\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>Note</p> <p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\uff08<code>yomitoku_extract</code>\uff09\u306e\u5834\u5408\u3001vLLM\u30b5\u30fc\u30d0\u30fc\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"extractor/#3","title":"3. \u63a8\u5968\u30e2\u30c7\u30eb","text":"<p>\u5e33\u7968\u30c7\u30fc\u30bf\u62bd\u51fa\u306b\u9069\u3057\u305f\u3001\u5546\u7528\u5229\u7528\u53ef\u80fd\u306a\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8efd\u91cf\u30e2\u30c7\u30eb\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002</p> \u30e2\u30c7\u30eb \u30d1\u30e9\u30e1\u30fc\u30bf\u6570 \u30e9\u30a4\u30bb\u30f3\u30b9 VRAM\u76ee\u5b89 \u7279\u5fb4 Qwen/Qwen3-4B-AWQ 4B (4bit\u91cf\u5b50\u5316) Apache 2.0 \u7d048GB AWQ\u91cf\u5b50\u5316\u306b\u3088\u308a\u7701VRAM\u3002\u7cbe\u5ea6\u3068\u901f\u5ea6\u306e\u30d0\u30e9\u30f3\u30b9\u306b\u512a\u308c\u308b\u3002\u63a8\u5968 Qwen/Qwen3-4B 4B Apache 2.0 \u7d0415GB \u975e\u91cf\u5b50\u5316\u7248\u3002\u7cbe\u5ea6\u306f\u6700\u3082\u9ad8\u3044\u304cVRAM\u6d88\u8cbb\u304c\u5927\u304d\u3044 Qwen/Qwen3-1.7B 1.7B Apache 2.0 \u7d045\u301c7GB \u6700\u5c0f\u69cb\u6210\u5411\u3051\u3002VRAM\u6d88\u8cbb\u306f\u5c0f\u3055\u3044\u304c\u7cbe\u5ea6\u306f\u9650\u5b9a\u7684 <p>\u30e2\u30c7\u30eb\u9078\u5b9a\u306e\u6307\u91dd</p> <ul> <li>\u63a8\u5968: Qwen3-4B-AWQ\u3002AWQ\u91cf\u5b50\u5316\u306b\u3088\u308a\u5c11\u306a\u3044VRAM\u3067\u9ad8\u3044\u7cbe\u5ea6\u3092\u5b9f\u73fe\u3002yomitoku\u306eOCR\u30e2\u30c7\u30eb\u3068GPU\u3092\u5171\u6709\u3057\u3084\u3059\u3044</li> <li>\u7cbe\u5ea6\u91cd\u8996: Qwen3-4B\uff08\u975e\u91cf\u5b50\u5316\uff09\u3002VRAM\u306b\u4f59\u88d5\u304c\u3042\u308b\u74b0\u5883\u5411\u3051</li> <li>\u6700\u5c0f\u69cb\u6210: Qwen3-1.7B\u3002GPU VRAM\u304c\u9650\u3089\u308c\u308b\u74b0\u5883\u5411\u3051</li> </ul> <p>\u30e9\u30a4\u30bb\u30f3\u30b9\u306b\u95a2\u3059\u308b\u6ce8\u610f</p> <p>\u4e0a\u8a18\u30e2\u30c7\u30eb\u306f\u3044\u305a\u308c\u3082\u5546\u7528\u5229\u7528\u304c\u8a31\u53ef\u3055\u308c\u305f\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u5229\u7528\u524d\u306b\u5404\u30e2\u30c7\u30eb\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u6761\u9805\u3092\u5fc5\u305a\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u7279\u306b Qwen3 \u30b7\u30ea\u30fc\u30ba\u306f Apache 2.0\u3001Phi-4 \u306f MIT \u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u3001\u3044\u305a\u308c\u3082\u5546\u7528\u5229\u7528\u306b\u5236\u9650\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u8d77\u52d5\u4f8b\uff08Qwen3-4B-AWQ\uff09:</p> <pre><code>vllm serve Qwen/Qwen3-4B-AWQ \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre>"},{"location":"extractor/#yaml","title":"\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\uff08YAML\uff09","text":"<p>\u62bd\u51fa\u5bfe\u8c61\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092YAML\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u30b9\u30ad\u30fc\u30de\u306f <code>fields</code> \u30ea\u30b9\u30c8\u3067\u69cb\u6210\u3055\u308c\u3001\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306fKV\uff08\u30ad\u30fc\u30fb\u30d0\u30ea\u30e5\u30fc\uff09\u5f62\u5f0f\u3068\u30c6\u30fc\u30d6\u30eb\u5f62\u5f0f\u306e2\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u30b9\u30ad\u30fc\u30de\u306e\u81ea\u52d5\u751f\u6210</p> <p>\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u306f ChatGPT \u3084 Claude \u306a\u3069\u306e\u751f\u6210AI\u3092\u4f7f\u3063\u3066\u81ea\u52d5\u751f\u6210\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\u62bd\u51fa\u3057\u305f\u3044\u9805\u76ee\u540d\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u5165\u529b\u3059\u308b\u3060\u3051\u3067\u3001\u9069\u5207\u306a <code>name</code>\u30fb<code>structure</code>\u30fb<code>type</code>\u30fb<code>normalize</code> \u3092\u542b\u3080YAML\u3092\u751f\u6210\u3067\u304d\u307e\u3059\u3002\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f \u30b9\u30ad\u30fc\u30de\u81ea\u52d5\u751f\u6210\u30d7\u30ed\u30f3\u30d7\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"extractor/#_4","title":"\u57fa\u672c\u69cb\u9020","text":"<pre><code>fields:\n  - name: &lt;\u51fa\u529b\u30ad\u30fc\u540d&gt;\n    structure: kv\n    description: &lt;\u691c\u7d22\u6587\u5b57\u5217&gt;\n    type: &lt;\u5024\u306e\u578b&gt;\n    normalize: &lt;\u6b63\u898f\u5316\u30eb\u30fc\u30eb&gt;\n\n  - name: &lt;\u51fa\u529b\u30ad\u30fc\u540d&gt;\n    structure: table\n    columns:\n      - name: &lt;\u5217\u306e\u51fa\u529b\u30ad\u30fc\u540d&gt;\n        description: &lt;\u5217\u30d8\u30c3\u30c0\u30fc\u306e\u691c\u7d22\u6587\u5b57\u5217&gt;\n        type: &lt;\u5024\u306e\u578b&gt;\n        normalize: &lt;\u6b63\u898f\u5316\u30eb\u30fc\u30eb&gt;\n</code></pre>"},{"location":"extractor/#_5","title":"\u30d5\u30a3\u30fc\u30eb\u30c9\u5171\u901a\u30d1\u30e9\u30e1\u30fc\u30bf","text":"\u30d1\u30e9\u30e1\u30fc\u30bf \u578b \u5fc5\u9808 \u30c7\u30d5\u30a9\u30eb\u30c8 \u8aac\u660e <code>name</code> string \u5fc5\u9808 - \u51fa\u529bJSON\u306e\u30ad\u30fc\u540d <code>description</code> string - <code>\"\"</code> \u691c\u7d22\u306b\u4f7f\u7528\u3059\u308b\u30c6\u30ad\u30b9\u30c8\uff08KV\u306e\u30ad\u30fc\u6587\u5b57\u5217\u3084\u30ab\u30e9\u30e0\u30d8\u30c3\u30c0\u30fc\u306e\u30c6\u30ad\u30b9\u30c8\uff09 <code>cell_id</code> string - <code>null</code> \u30bb\u30ebID\u306b\u3088\u308b\u76f4\u63a5\u6307\u5b9a\uff08\u4f8b: <code>c12</code>\uff09 <code>bbox</code> list[int] - <code>null</code> \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u306b\u3088\u308b\u4f4d\u7f6e\u6307\u5b9a <code>[x1, y1, x2, y2]</code> <code>regex</code> string - <code>null</code> \u6b63\u898f\u8868\u73fe\u30d1\u30bf\u30fc\u30f3\u306b\u3088\u308b\u5024\u306e\u62bd\u51fa\uff08\u30b9\u30ab\u30e9\u30fc\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u307f\uff09 <code>type</code> string - <code>\"string\"</code> \u5024\u306e\u578b\u3002<code>string</code>, <code>number</code>, <code>date</code> <code>structure</code> string - <code>\"scalar\"</code> \u30c7\u30fc\u30bf\u69cb\u9020\u3002<code>scalar</code>\u3001<code>kv</code>\uff08\u3044\u305a\u308c\u3082KV\u5f62\u5f0f\uff09\u3001\u307e\u305f\u306f <code>table</code> <code>normalize</code> string - <code>null</code> \u6b63\u898f\u5316\u30eb\u30fc\u30eb\u540d <code>columns</code> list - <code>null</code> \u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u306e\u5834\u5408\u306e\u5217\u5b9a\u7fa9"},{"location":"extractor/#_6","title":"\u62bd\u51fa\u65b9\u6cd5\u306e\u6307\u5b9a","text":"<p>\u5404\u30d5\u30a3\u30fc\u30eb\u30c9\uff08\u304a\u3088\u3073\u30c6\u30fc\u30d6\u30eb\u306e\u5404\u5217\uff09\u306b\u306f\u3001\u5bfe\u8c61\u30bb\u30eb\u306e\u7279\u5b9a\u65b9\u6cd5\u30924\u7a2e\u985e\u304b\u3089\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f <code>cell_id</code> &gt; <code>bbox</code> &gt; <code>description</code> &gt; <code>regex</code> \u306e\u512a\u5148\u9806\u3067\u8a55\u4fa1\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"extractor/#1-description-","title":"1. <code>description</code> - \u30c6\u30ad\u30b9\u30c8\u691c\u7d22\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09","text":"<p>KV\u30a2\u30a4\u30c6\u30e0\u306e\u30ad\u30fc\u6587\u5b57\u5217\u3084\u30b0\u30ea\u30c3\u30c9\u306e\u30d8\u30c3\u30c0\u30fc\u6587\u5b57\u5217\u306b\u5bfe\u3057\u3066\u90e8\u5206\u4e00\u81f4\u3067\u691c\u7d22\u3057\u307e\u3059\u3002</p> <pre><code>- name: phone_number\n  structure: kv\n  description: \u96fb\u8a71\u756a\u53f7\n  type: string\n</code></pre>"},{"location":"extractor/#2-cell_id-id","title":"2. <code>cell_id</code> - \u30bb\u30ebID\u6307\u5b9a","text":"<p>TableSemanticParser\u304c\u5272\u308a\u5f53\u3066\u305f\u30bb\u30ebID\uff08\u4f8b: <code>c12</code>, <code>c43</code>\uff09\u3092\u76f4\u63a5\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c6\u30fc\u30d6\u30eb\u89e3\u6790\u7d50\u679c\u306eJSON\u3084\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3\u753b\u50cf\u304b\u3089\u30bb\u30ebID\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <pre><code>- name: phone_number\n  structure: kv\n  cell_id: c43\n  type: string\n</code></pre>"},{"location":"extractor/#3-bbox-","title":"3. <code>bbox</code> - \u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9\u6307\u5b9a","text":"<p>\u30bb\u30eb\u306e\u4f4d\u7f6e\u60c5\u5831 <code>[x1, y1, x2, y2]</code> \u3092\u6307\u5b9a\u3057\u3001\u30aa\u30fc\u30d0\u30fc\u30e9\u30c3\u30d7\u5224\u5b9a\uff0850%\u4ee5\u4e0a\uff09\u3067\u7167\u5408\u3057\u307e\u3059\u3002</p> <pre><code>- name: phone_number\n  structure: kv\n  bbox: [450, 120, 700, 160]\n  type: string\n</code></pre>"},{"location":"extractor/#4-regex-","title":"4. <code>regex</code> - \u6b63\u898f\u8868\u73fe\u30d1\u30bf\u30fc\u30f3\uff08\u30b9\u30ab\u30e9\u30fc\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u307f\uff09","text":"<p>\u6b63\u898f\u8868\u73fe\u30d1\u30bf\u30fc\u30f3\u3092\u6307\u5b9a\u3057\u3001\u30bb\u30eb\u3084\u30d1\u30e9\u30b0\u30e9\u30d5\u306e\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u6587\u5b57\u5217\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002\u30ad\u30fc\u6587\u5b57\u5217\u304c\u4e0d\u5b9a\u3067\u3082\u5024\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u65e2\u77e5\u306e\u5834\u5408\u306b\u6709\u52b9\u3067\u3059\u3002</p> <pre><code># \u96fb\u8a71\u756a\u53f7\u30d1\u30bf\u30fc\u30f3\u3067\u62bd\u51fa\n- name: phone_number\n  structure: kv\n  regex: '\\d{2,4}-\\d{2,4}-\\d{2,4}'\n  type: string\n  normalize: phone_jp\n\n# \u30a4\u30f3\u30dc\u30a4\u30b9\u756a\u53f7\uff08T+13\u6841\uff09\n- name: invoice_number\n  structure: kv\n  regex: 'T\\d{13}'\n  type: string\n\n# \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n- name: email\n  structure: kv\n  regex: '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n  type: string\n</code></pre> <p><code>regex</code> \u306e\u30de\u30c3\u30c1\u7d50\u679c\u306f <code>value</code> \u306b\u30de\u30c3\u30c1\u6587\u5b57\u5217\u3001<code>raw_text</code> \u306b\u30de\u30c3\u30c1\u5143\u306e\u30bb\u30eb/\u30d1\u30e9\u30b0\u30e9\u30d5\u5168\u6587\u304c\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002</p> <p>Tip</p> <p><code>description</code> \u3068 <code>cell_id</code> \u3092\u4f75\u8a18\u3057\u305f\u5834\u5408\u3001<code>cell_id</code> \u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002<code>cell_id</code> \u3067\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306b <code>description</code> \u306b\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u3057\u307e\u3059\u3002<code>regex</code> \u306f\u4ed6\u306e\u65b9\u6cd5\u3067\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306e\u6700\u7d42\u624b\u6bb5\u3068\u3057\u3066\u8a55\u4fa1\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"extractor/#kv","title":"KV\uff08\u30b9\u30ab\u30e9\u30fc\uff09\u30d5\u30a3\u30fc\u30eb\u30c9","text":"<p>\u5e33\u7968\u5185\u306e\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u3092\u62bd\u51fa\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002<code>structure</code> \u3092\u7701\u7565\u3059\u308b\u304b\u3001<code>scalar</code> \u307e\u305f\u306f <code>kv</code> \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p> <p><code>kv</code> \u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u3068\u3001LLM\u30d9\u30fc\u30b9\u62bd\u51fa\u6642\u306b\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u5f53\u8a72\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u30b9\u30ab\u30e9\u30fc\u5024\uff08\u5358\u4e00\u306e\u6587\u5b57\u5217\uff09\u3067\u3042\u308b\u3053\u3068\u304c\u5f37\u8abf\u3055\u308c\u3001LLM\u304c\u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u3068\u3057\u3066\u8aa4\u51fa\u529b\u3059\u308b\u3053\u3068\u3092\u9632\u304e\u307e\u3059\u3002</p> <pre><code>fields:\n  - name: company_name\n    structure: kv\n    description: \u4f1a\u793e\u540d\n    type: string\n    normalize: strip_spaces\n\n  - name: total_amount\n    structure: kv\n    description: \u5408\u8a08\u91d1\u984d\n    type: number\n    normalize: numeric\n</code></pre> <p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u3067\u306e\u691c\u7d22\u9806\u5e8f:</p> <ol> <li><code>cell_id</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30bb\u30ebID\u3067\u76f4\u63a5\u691c\u7d22</li> <li><code>bbox</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u4f4d\u7f6e\u60c5\u5831\u3067\u691c\u7d22</li> <li><code>description</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001KV\u30a2\u30a4\u30c6\u30e0\u306e\u30ad\u30fc\u6587\u5b57\u5217\u3067\u691c\u7d22</li> <li><code>description</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30bb\u30eb\u306e\u30c6\u30ad\u30b9\u30c8\u3067\u90e8\u5206\u4e00\u81f4\u691c\u7d22</li> <li><code>description</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30d1\u30e9\u30b0\u30e9\u30d5\u306e\u30c6\u30ad\u30b9\u30c8\u3067\u90e8\u5206\u4e00\u81f4\u691c\u7d22</li> <li><code>regex</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5168\u30bb\u30eb\u30fb\u30d1\u30e9\u30b0\u30e9\u30d5\u30fb\u30ef\u30fc\u30c9\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u6b63\u898f\u8868\u73fe\u3067\u691c\u7d22</li> <li>\u3044\u305a\u308c\u3082\u898b\u3064\u304b\u3089\u306a\u3051\u308c\u3070\u7a7a\u6587\u5b57\u3092\u8fd4\u5374</li> </ol>"},{"location":"extractor/#_7","title":"\u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9","text":"<p>\u8868\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002<code>structure: table</code> \u3092\u6307\u5b9a\u3057\u3001<code>columns</code> \u3067\u5217\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>fields:\n  - name: order_items\n    description: \u6ce8\u6587\u660e\u7d30\n    structure: table\n    columns:\n      - name: product\n        description: \u5546\u54c1\u540d\n        type: string\n\n      - name: quantity\n        description: \u6570\u91cf\n        type: number\n        normalize: numeric\n\n      - name: price\n        description: \u91d1\u984d\n        type: number\n        normalize: numeric\n</code></pre> <p>\u5217\u306e\u7167\u5408\u3067\u3082 <code>cell_id</code>\u3001<code>bbox</code>\u3001<code>description</code> \u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u30b0\u30ea\u30c3\u30c9\u306e\u30d8\u30c3\u30c0\u30fc\u30bb\u30eb\u306b\u5bfe\u3057\u3066\u7167\u5408\u3055\u308c\u307e\u3059\u3002</p> <pre><code>columns:\n  - name: date\n    cell_id: c8         # \u30d8\u30c3\u30c0\u30fc\u30bb\u30eb\u306ecell_id\n    type: date\n    normalize: date_yyyymmdd\n\n  - name: entrance_time\n    description: \u5165\u5ba4     # \u30d8\u30c3\u30c0\u30fc\u306e\u30c6\u30ad\u30b9\u30c8\u3067\u7167\u5408\n    type: string\n    normalize: time_jp\n</code></pre>"},{"location":"extractor/#type","title":"type\uff08\u5024\u306e\u578b\uff09","text":"\u5024 \u8aac\u660e <code>string</code> \u6587\u5b57\u5217\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09 <code>number</code> \u6570\u5024 <code>date</code> \u65e5\u4ed8 <code>alphanumeric</code> \u534a\u89d2\u82f1\u6570\u5b57 <code>hiragana</code> \u3072\u3089\u304c\u306a <code>katakana</code> \u30ab\u30bf\u30ab\u30ca <p><code>type</code> \u306f\u4e3b\u306bLLM\u30d9\u30fc\u30b9\u62bd\u51fa\u6642\u306b\u30d7\u30ed\u30f3\u30d7\u30c8\u3078\u306e\u30d2\u30f3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u3067\u306f\u3001\u6b63\u898f\u5316\u30eb\u30fc\u30eb\uff08<code>normalize</code>\uff09\u306e\u6307\u5b9a\u304c\u5b9f\u969b\u306e\u5024\u5909\u63db\u306b\u5f71\u97ff\u3057\u307e\u3059\u3002</p>"},{"location":"extractor/#normalize","title":"normalize\uff08\u6b63\u898f\u5316\u30eb\u30fc\u30eb\uff09","text":"<p>\u62bd\u51fa\u3057\u305f\u5024\u306b\u5bfe\u3057\u3066\u5f8c\u51e6\u7406\u3068\u3057\u3066\u6b63\u898f\u5316\u3092\u9069\u7528\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30eb\u30fc\u30eb\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> \u30eb\u30fc\u30eb\u540d \u8aac\u660e \u5165\u529b\u4f8b \u51fa\u529b\u4f8b <code>strip_spaces</code> \u5168\u89d2\u30fb\u534a\u89d2\u7a7a\u767d\u3092\u9664\u53bb <code>\u6771\u4eac\u90fd\u3000\u6e0b\u8c37\u533a</code> <code>\u6771\u4eac\u90fd\u6e0b\u8c37\u533a</code> <code>numeric</code> \u6570\u5024\u4ee5\u5916\u3092\u9664\u53bb\uff08\u5168\u89d2\u2192\u534a\u89d2\u5909\u63db\u542b\u3080\uff09 <code>\uff11\uff0c\uff12\uff13\uff14\u5186</code> <code>1234</code> <code>phone_jp</code> \u65e5\u672c\u306e\u96fb\u8a71\u756a\u53f7\u5f62\u5f0f\u306b\u6574\u5f62 <code>\uff10\uff13\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18</code> <code>03-1234-5678</code> <code>postal_code_jp</code> \u65e5\u672c\u306e\u90f5\u4fbf\u756a\u53f7\u5f62\u5f0f\u306b\u6574\u5f62 <code>\uff11\uff12\uff13\uff14\uff15\uff16\uff17</code> <code>123-4567</code> <code>date_jp</code> \u65e5\u672c\u8a9e\u65e5\u4ed8\u3092 <code>YYYY-MM-DD</code> \u5f62\u5f0f\u306b\u5909\u63db <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code> <code>2024-03-15</code> <code>date_yyyymmdd</code> \u65e5\u672c\u8a9e\u65e5\u4ed8\u3092 <code>YYYYMMDD</code> \u5f62\u5f0f\u306b\u5909\u63db <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code> <code>20240315</code> <code>time_jp</code> \u6642\u523b\u3092 <code>X\u6642XX\u5206</code> \u5f62\u5f0f\u306b\u5909\u63db <code>14:30</code> <code>14\u664230\u5206</code> <code>time_hms</code> \u6642\u523b\u3092 <code>HH:MM:SS</code> \u5f62\u5f0f\u306b\u5909\u63db <code>14\u664230\u5206</code> <code>14:30:00</code> <code>alphanumeric</code> \u5168\u89d2\u2192\u534a\u89d2\u5909\u63db\u3057\u3001\u82f1\u6570\u5b57\u306e\u307f\u3092\u62bd\u51fa <code>\uff21\uff22\uff23\uff11\uff12\uff13\u5186</code> <code>ABC123</code> <code>hiragana</code> \u30ab\u30bf\u30ab\u30ca\u2192\u3072\u3089\u304c\u306a\u5909\u63db\u3057\u3001\u3072\u3089\u304c\u306a\u306e\u307f\u3092\u62bd\u51fa <code>\u30ab\u30bf\u30ab\u30catest</code> <code>\u304b\u305f\u304b\u306a</code> <code>katakana</code> \u3072\u3089\u304c\u306a\u2192\u30ab\u30bf\u30ab\u30ca\u5909\u63db\u3057\u3001\u30ab\u30bf\u30ab\u30ca\u306e\u307f\u3092\u62bd\u51fa <code>\u3072\u3089\u304c\u306atest</code> <code>\u30d2\u30e9\u30ac\u30ca</code> <p><code>normalize</code> \u3092\u7701\u7565\u3057\u305f\u5834\u5408\u3001\u62bd\u51fa\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u304c\u305d\u306e\u307e\u307e\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <p>Note</p> <p><code>date_jp</code> \u304a\u3088\u3073 <code>date_yyyymmdd</code> \u306f\u548c\u66a6\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u6f22\u5b57\u8868\u8a18\uff08\u4ee4\u548c\u30fb\u5e73\u6210\u30fb\u662d\u548c\u30fb\u5927\u6b63\u30fb\u660e\u6cbb\uff09\u3068\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u7565\u79f0\uff08R\u30fbH\u30fbS\u30fbT\u30fbM\uff09\u306e\u4e21\u65b9\u3092\u8a8d\u8b58\u3057\u307e\u3059\u3002\u4f8b: <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code>, <code>H30.1.1</code>, <code>S60-12-25</code></p>"},{"location":"extractor/#_8","title":"\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u65bd\u8a2d\u5229\u7528\u7533\u8acb\u66f8\u3092\u4f8b\u306b\u3001\u30b9\u30ad\u30fc\u30de\u306e\u5b9a\u7fa9\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p></p> <p>\u3053\u306e\u5e33\u7968\u304b\u3089\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u62bd\u51fa\u3059\u308b\u30b9\u30ad\u30fc\u30de\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <ul> <li>KV\u30d5\u30a3\u30fc\u30eb\u30c9: \u65bd\u8a2d\u540d\u79f0\u3001\u96fb\u8a71\u756a\u53f7\u3001\u4f4f\u6240\u3001\u5099\u8003</li> <li>\u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9: \u5229\u7528\u5e0c\u671b\u65e5\uff08\u65e5\u4ed8\u30fb\u5165\u5ba4\u6642\u523b\u30fb\u9000\u5ba4\u6642\u523b\uff09</li> </ul> <pre><code>fields:\n  # KV\u30d5\u30a3\u30fc\u30eb\u30c9: description\u3067\u30ad\u30fc\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3066\u691c\u7d22\n  - name: name\n    structure: kv\n    description: \u65bd\u8a2d\u540d\u79f0\n    type: string\n    normalize: strip_spaces\n\n  - name: phone_number\n    structure: kv\n    description: \u96fb\u8a71\u756a\u53f7\n    type: string\n    normalize: phone_jp\n\n  - name: address\n    structure: kv\n    description: \u4f4f\u6240\n    type: string\n    normalize: strip_spaces\n\n  - name: details\n    structure: kv\n    description: \u5099\u8003\n    type: string\n    normalize: strip_spaces\n\n  # \u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9: \u5217\u30d8\u30c3\u30c0\u30fc\u306e\u30c6\u30ad\u30b9\u30c8\u3067\u5217\u3092\u7167\u5408\n  - name: usage_date\n    description: \u5e0c\u671b\u65e5\n    structure: table\n    columns:\n      - name: date\n        description: \u65e5\u4ed8\n        type: date\n        normalize: date_yyyymmdd\n\n      - name: entrance_time\n        description: \u5165\u5ba4\n        type: string\n        normalize: time_jp\n\n      - name: leave_time\n        description: \u9000\u5ba4\n        type: string\n        normalize: time_hms\n</code></pre> <p>\u30b9\u30ad\u30fc\u30de\u306e\u30dd\u30a4\u30f3\u30c8:</p> <ul> <li>KV\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f <code>description</code> \u306b\u5e33\u7968\u4e0a\u306e\u30ad\u30fc\u6587\u5b57\u5217\uff08\u300c\u65bd\u8a2d\u540d\u79f0\u300d\u300c\u96fb\u8a71\u756a\u53f7\u300d\u306a\u3069\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30a8\u30f3\u30b8\u30f3\u304cKV\u30a2\u30a4\u30c6\u30e0\u306e\u30ad\u30fc\u3068\u7167\u5408\u3057\u3001\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u62bd\u51fa\u3057\u307e\u3059</li> <li>\u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f <code>columns</code> \u306e\u5404 <code>description</code> \u306b\u30d8\u30c3\u30c0\u30fc\u884c\u306e\u30c6\u30ad\u30b9\u30c8\uff08\u300c\u65e5\u4ed8\u300d\u300c\u5165\u5ba4\u300d\u300c\u9000\u5ba4\u300d\uff09\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b0\u30ea\u30c3\u30c9\u306e\u30d8\u30c3\u30c0\u30fc\u30bb\u30eb\u3068\u7167\u5408\u3057\u3001\u5404\u884c\u306e\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057\u307e\u3059</li> <li><code>normalize</code> \u3067\u62bd\u51fa\u5024\u306e\u6b63\u898f\u5316\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070 <code>phone_jp</code> \u306f\u5168\u89d2\u6570\u5b57\u3092\u30cf\u30a4\u30d5\u30f3\u533a\u5207\u308a\u306e\u96fb\u8a71\u756a\u53f7\u5f62\u5f0f\u306b\u3001<code>date_yyyymmdd</code> \u306f\u548c\u66a6\u3092\u542b\u3080\u65e5\u4ed8\u3092 <code>YYYYMMDD</code> \u5f62\u5f0f\u306b\u5909\u63db\u3057\u307e\u3059</li> </ul>"},{"location":"extractor/#cli","title":"CLI\u5b9f\u884c\u65b9\u6cd5","text":""},{"location":"extractor/#_9","title":"\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa","text":"<pre><code>yomitoku_extract &lt;input&gt; -s &lt;schema.yaml&gt; [options]\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3 \u77ed\u7e2e\u5f62 \u578b \u30c7\u30d5\u30a9\u30eb\u30c8 \u8aac\u660e <code>input</code> - string \u5fc5\u9808 \u5165\u529b\u753b\u50cf\u3001PDF\u306e\u30d1\u30b9\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <code>--schema</code> <code>-s</code> string \u5fc5\u9808 \u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\uff08YAML\uff09\u306e\u30d1\u30b9 <code>--outdir</code> <code>-o</code> string <code>results</code> \u51fa\u529b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea <code>--device</code> <code>-d</code> string <code>cuda</code> \u63a8\u8ad6\u30c7\u30d0\u30a4\u30b9\uff08<code>cuda</code>, <code>cpu</code>, <code>mps</code>\uff09 <code>--vis</code> <code>-v</code> - <code>false</code> \u53ef\u8996\u5316\u753b\u50cf\u3092\u51fa\u529b <code>--no-normalize</code> - - <code>false</code> \u6b63\u898f\u5316\u51e6\u7406\u3092\u30b9\u30ad\u30c3\u30d7 <code>--simple</code> - - <code>false</code> \u30b7\u30f3\u30d7\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\uff08bbox\u7b49\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306a\u3057\uff09 <code>--pages</code> - string \u5168\u30da\u30fc\u30b8 \u51e6\u7406\u5bfe\u8c61\u30da\u30fc\u30b8\uff08\u4f8b: <code>1,3-5,10</code>\uff09 <code>--dpi</code> - int <code>200</code> PDF\u8aad\u307f\u53d6\u308a\u6642\u306eDPI <code>--encoding</code> - string <code>utf-8</code> \u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306e\u6587\u5b57\u30b3\u30fc\u30c9 <p><code>input</code> \u306b\u306f\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3001PDF\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3081\u3066\u518d\u5e30\u7684\u306b\u5bfe\u5fdc\u5f62\u5f0f\uff08<code>jpg</code>, <code>jpeg</code>, <code>png</code>, <code>bmp</code>, <code>tiff</code>, <code>tif</code>, <code>pdf</code>\uff09\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u691c\u7d22\u3057\u3001\u9806\u756a\u306b\u51e6\u7406\u3057\u307e\u3059\u3002</p> <p>\u5b9f\u884c\u4f8b:</p> <pre><code># \u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u62bd\u51fa\nyomitoku_extract input.jpg -s schema.yaml -o results -v\n\n# PDF\u306e\u7279\u5b9a\u30da\u30fc\u30b8\u306e\u307f\u51e6\u7406\nyomitoku_extract document.pdf -s schema.yaml --pages 1,3-5\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u5168\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u62ec\u51e6\u7406\nyomitoku_extract ./documents/ -s schema.yaml -o results\n\n# CPU\u74b0\u5883\u3067\u5b9f\u884c\nyomitoku_extract input.jpg -s schema.yaml -d cpu\n</code></pre>"},{"location":"extractor/#llm","title":"LLM\u30d9\u30fc\u30b9\u62bd\u51fa","text":"<pre><code>yomitoku_extract_with_llm &lt;input&gt; -s &lt;schema.yaml&gt; -m &lt;model_name&gt; [options]\n</code></pre> <p>\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u52a0\u3048\u3001\u4ee5\u4e0b\u306eLLM\u95a2\u9023\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> \u30aa\u30d7\u30b7\u30e7\u30f3 \u77ed\u7e2e\u5f62 \u578b \u30c7\u30d5\u30a9\u30eb\u30c8 \u8aac\u660e <code>--model</code> <code>-m</code> string \u5fc5\u9808 LLM\u30e2\u30c7\u30eb\u540d\uff08vLLM\u30b5\u30fc\u30d0\u30fc\u3067\u6307\u5b9a\u3057\u305f\u30e2\u30c7\u30eb\u540d\uff09 <code>--api-base</code> - string <code>http://localhost:8000/v1</code> LLM API\u306e\u30d9\u30fc\u30b9URL <code>--api-key</code> - string <code>\"\"</code> API\u30ad\u30fc\uff08\u5fc5\u8981\u306a\u5834\u5408\uff09 <code>--temperature</code> - float <code>0.0</code> LLM\u306e\u751f\u6210\u6e29\u5ea6 <code>--max-tokens</code> - int <code>4096</code> LLM\u306e\u6700\u5927\u30c8\u30fc\u30af\u30f3\u6570 <code>--table-id</code> - string <code>null</code> \u7279\u5b9a\u30c6\u30fc\u30d6\u30eb\u306e\u307f\u5bfe\u8c61\u306b\u3059\u308b\uff08\u4f8b: <code>t0</code>\uff09 <code>--simple</code> - - <code>false</code> \u30b7\u30f3\u30d7\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\uff08bbox\u7b49\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306a\u3057\uff09 <code>--prompt-only</code> - - <code>false</code> \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u51fa\u529b\u3057\u3066\u7d42\u4e86\uff08\u30c7\u30d0\u30c3\u30b0\u7528\uff09 <p><code>input</code> \u306f\u30eb\u30fc\u30eb\u30d9\u30fc\u30b9\u62bd\u51fa\u3068\u540c\u69d8\u306b\u3001\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3001PDF\u30d5\u30a1\u30a4\u30eb\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p>\u5b9f\u884c\u4f8b:</p> <pre><code># vLLM\u30b5\u30fc\u30d0\u30fc\u3092\u4f7f\u7528\u3057\u305f\u62bd\u51fa\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m Qwen/Qwen3-4B-AWQ\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u5168\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u62ec\u51e6\u7406\nyomitoku_extract_with_llm ./documents/ -s schema.yaml -m Qwen/Qwen3-4B-AWQ\n\n# API\u30d9\u30fc\u30b9URL\u3068\u30ad\u30fc\u3092\u6307\u5b9a\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m gpt-4o \\\n  --api-base https://api.openai.com/v1 \\\n  --api-key sk-xxxxx\n\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u78ba\u8a8d\uff08\u30c7\u30d0\u30c3\u30b0\uff09\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m model_name --prompt-only\n</code></pre>"},{"location":"extractor/#_10","title":"\u51fa\u529b\u30d5\u30a1\u30a4\u30eb","text":""},{"location":"extractor/#_11","title":"\u51fa\u529b\u5148","text":"<p>\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306f <code>--outdir</code> \u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u540d\u306f <code>&lt;\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u540d&gt;_p&lt;\u30da\u30fc\u30b8\u756a\u53f7&gt;_extract.json</code> \u306e\u5f62\u5f0f\u3067\u3059\u3002</p> <pre><code>results/\n  document_p1_extract.json\n  document_p1_layout.jpg       # --vis \u6307\u5b9a\u6642\n  document_p1_ocr.jpg          # --vis \u6307\u5b9a\u6642\n  document_p1_extract_vis.jpg  # --vis \u6307\u5b9a\u6642\n</code></pre>"},{"location":"extractor/#json","title":"JSON\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<p>\u51fa\u529bJSON\u306f\u4ee5\u4e0b\u306e\u69cb\u9020\u3092\u6301\u3061\u307e\u3059\u3002</p> <pre><code>{\n  \"fields\": {\n    \"&lt;field_name&gt;\": { ... }\n  },\n  \"metadata\": {\n    \"schema_version\": \"1.0\"\n  }\n}\n</code></pre>"},{"location":"extractor/#kv_1","title":"KV\uff08\u30b9\u30ab\u30e9\u30fc\uff09\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u51fa\u529b","text":"<pre><code>{\n  \"fields\": {\n    \"phone_number\": {\n      \"structure\": \"kv\",\n      \"value\": \"03-1234-5678\",\n      \"raw_text\": \"\uff10\uff13\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\",\n      \"confidence\": \"high\",\n      \"source\": \"cell_id\",\n      \"cell_ids\": [\"c43\"],\n      \"bboxes\": [[450, 120, 700, 160]]\n    }\n  }\n}\n</code></pre> \u30ad\u30fc \u8aac\u660e <code>structure</code> <code>\"kv\"</code> \u56fa\u5b9a <code>value</code> \u6b63\u898f\u5316\u5f8c\u306e\u62bd\u51fa\u5024 <code>raw_text</code> \u6b63\u898f\u5316\u524d\u306e\u5143\u30c6\u30ad\u30b9\u30c8 <code>confidence</code> \u4fe1\u983c\u5ea6\uff08<code>high</code>, <code>medium</code>, <code>low</code>\uff09 <code>source</code> \u62bd\u51fa\u5143\uff08<code>cell_id</code>, <code>bbox</code>, <code>kv</code>, <code>paragraph</code>, <code>not_found</code>\uff09 <code>cell_ids</code> \u5024\u306e\u30bb\u30ebID <code>bboxes</code> \u5024\u306e\u30d0\u30a6\u30f3\u30c7\u30a3\u30f3\u30b0\u30dc\u30c3\u30af\u30b9"},{"location":"extractor/#_12","title":"\u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u51fa\u529b","text":"<pre><code>{\n  \"fields\": {\n    \"usage_date\": {\n      \"structure\": \"table\",\n      \"records\": [\n        {\n          \"date\": {\n            \"value\": \"20240315\",\n            \"cell_ids\": [\"c20\"],\n            \"raw_text\": \"\u4ee4\u548c6\u5e743\u670815\u65e5\",\n            \"bboxes\": [[100, 200, 300, 240]]\n          },\n          \"entrance_time\": {\n            \"value\": \"14\u664230\u5206\",\n            \"cell_ids\": [\"c21\"],\n            \"raw_text\": \"14:30\",\n            \"bboxes\": [[310, 200, 450, 240]]\n          }\n        }\n      ],\n      \"source\": \"grid\"\n    }\n  }\n}\n</code></pre> \u30ad\u30fc \u8aac\u660e <code>structure</code> <code>\"table\"</code> \u56fa\u5b9a <code>records</code> \u884c\u30c7\u30fc\u30bf\u306e\u914d\u5217\u3002\u5404\u884c\u306f\u5217\u540d\u3092\u30ad\u30fc\u3068\u3059\u308b\u8f9e\u66f8 <code>source</code> \u62bd\u51fa\u5143\uff08<code>grid</code>, <code>not_found</code>\uff09 <p>\u5404\u30bb\u30eb\u306e\u5024\u306b\u306f <code>value</code>\uff08\u6b63\u898f\u5316\u5f8c\uff09\u3001<code>raw_text</code>\uff08\u6b63\u898f\u5316\u524d\uff09\u3001<code>cell_ids</code>\u3001<code>bboxes</code> \u304c\u542b\u307e\u308c\u307e\u3059\u3002</p>"},{"location":"extractor/#_13","title":"\u30b7\u30f3\u30d7\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8","text":"<p><code>--simple</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001bbox\u30fbcell_ids\u30fbconfidence\u30fbsource\u7b49\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u542b\u307e\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a <code>{name: value}</code> \u5f62\u5f0f\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"extractor/#kv_2","title":"KV\uff08\u30b9\u30ab\u30e9\u30fc\uff09\u30d5\u30a3\u30fc\u30eb\u30c9","text":"<pre><code>{\n  \"phone_number\": \"03-1234-5678\",\n  \"company_name\": \"\u682a\u5f0f\u4f1a\u793e\u30c6\u30b9\u30c8\"\n}\n</code></pre>"},{"location":"extractor/#_14","title":"\u30c6\u30fc\u30d6\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9","text":"<pre><code>{\n  \"usage_date\": [\n    {\n      \"date\": \"20240315\",\n      \"entrance_time\": \"14\u664230\u5206\",\n      \"leave_time\": \"16:00:00\"\n    }\n  ]\n}\n</code></pre> <p>\u30b7\u30f3\u30d7\u30eb\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u5f8c\u7d9a\u306e\u51e6\u7406\u3084\u30b7\u30b9\u30c6\u30e0\u9023\u643a\u3067\u5229\u7528\u3057\u3084\u3059\u3044\u5f62\u5f0f\u3067\u3059\u3002\u6b63\u898f\u5316\u306f\u901a\u5e38\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u540c\u69d8\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"extractor/#_15","title":"\u53ef\u8996\u5316\u753b\u50cf","text":"<p><code>--vis</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u50cf\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> \u30d5\u30a1\u30a4\u30eb\u540d \u5185\u5bb9 <code>*_layout.jpg</code> \u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u7d50\u679c\u306e\u53ef\u8996\u5316 <code>*_ocr.jpg</code> OCR\u7d50\u679c\u306e\u53ef\u8996\u5316 <code>*_extract_vis.jpg</code> \u62bd\u51fa\u3055\u308c\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u4f4d\u7f6e\u3092\u30cf\u30a4\u30e9\u30a4\u30c8\u8868\u793a\uff08\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u30e9\u30d9\u30eb\u4ed8\u304d\uff09 <p>\u62bd\u51fa\u53ef\u8996\u5316\u753b\u50cf\u3067\u306f\u3001\u4fe1\u983c\u5ea6\u306b\u5fdc\u3058\u3066\u30cf\u30a4\u30e9\u30a4\u30c8\u306e\u6fc3\u3055\u304c\u5909\u5316\u3057\u307e\u3059\u3002\u4fe1\u983c\u5ea6\u304c\u4f4e\u3044\u307b\u3069\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u6fc3\u304f\u8868\u793a\u3055\u308c\u3001\u78ba\u8a8d\u304c\u5fc5\u8981\u306a\u7b87\u6240\u3092\u76f4\u611f\u7684\u306b\u628a\u63e1\u3067\u304d\u307e\u3059\uff08<code>low</code>\uff1a\u6fc3\u3044 &gt; <code>medium</code> &gt; <code>high</code>\uff1a\u8584\u3044\uff09\u3002</p>"},{"location":"","title":"\ud83c\udf1f \u6982\u8981","text":"<p>YomiToku \u306f\u65e5\u672c\u8a9e\u306b\u7279\u5316\u3057\u305f AI \u6587\u7ae0\u753b\u50cf\u89e3\u6790\u30a8\u30f3\u30b8\u30f3(Document AI)\u3067\u3059\u3002\u753b\u50cf\u5185\u306e\u6587\u5b57\u306e\u5168\u6587 OCR \u304a\u3088\u3073\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u6a5f\u80fd\u3092\u6709\u3057\u3066\u304a\u308a\u3001\u753b\u50cf\u5185\u306e\u6587\u5b57\u60c5\u5831\u3084\u56f3\u8868\u3092\u8a8d\u8b58\u3001\u62bd\u51fa\u3001\u5909\u63db\u3057\u307e\u3059\u3002</p> <ul> <li>\ud83e\udd16 \u65e5\u672c\u8a9e\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u5b66\u7fd2\u3057\u305f 4 \u7a2e\u985e(\u6587\u5b57\u4f4d\u7f6e\u306e\u691c\u77e5\u3001\u6587\u5b57\u5217\u8a8d\u8b58\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u3001\u8868\u306e\u69cb\u9020\u8a8d\u8b58)\u306e AI \u30e2\u30c7\u30eb\u3092\u642d\u8f09\u3057\u3066\u3044\u307e\u3059\u30024 \u7a2e\u985e\u306e\u30e2\u30c7\u30eb\u306f\u3059\u3079\u3066\u72ec\u81ea\u306b\u5b66\u7fd2\u3055\u308c\u305f\u30e2\u30c7\u30eb\u3067\u65e5\u672c\u8a9e\u6587\u66f8\u306b\u5bfe\u3057\u3066\u3001\u9ad8\u7cbe\u5ea6\u306b\u63a8\u8ad6\u53ef\u80fd\u3067\u3059\u3002</li> <li>\ud83c\uddef\ud83c\uddf5 \u5404\u30e2\u30c7\u30eb\u306f\u65e5\u672c\u8a9e\u306e\u6587\u66f8\u753b\u50cf\u306b\u7279\u5316\u3057\u3066\u5b66\u7fd2\u3055\u308c\u3066\u304a\u308a\u30017000 \u6587\u5b57\u3092\u8d85\u3048\u308b\u65e5\u672c\u8a9e\u6587\u5b57\u306e\u8a8d\u8b58\u3092\u30b5\u30dd\u30fc\u30c8\u3001\u624b\u66f8\u304d\u6587\u5b57\u3001\u7e26\u66f8\u304d\u306a\u3069\u65e5\u672c\u8a9e\u7279\u6709\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u69cb\u9020\u306e\u6587\u66f8\u753b\u50cf\u306e\u89e3\u6790\u3082\u53ef\u80fd\u3067\u3059\u3002\uff08\u65e5\u672c\u8a9e\u4ee5\u5916\u306b\u3082\u82f1\u8a9e\u306e\u6587\u66f8\u306b\u5bfe\u3057\u3066\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\uff09</li> <li>\ud83d\udcc8 \u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u3001\u8868\u306e\u69cb\u9020\u89e3\u6790\u3001\u8aad\u307f\u9806\u63a8\u5b9a\u6a5f\u80fd\u306b\u3088\u308a\u3001\u6587\u66f8\u753b\u50cf\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u610f\u5473\u7684\u69cb\u9020\u3092\u58ca\u3055\u305a\u306b\u60c5\u5831\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</li> <li>\ud83d\udcc4 \u591a\u69d8\u306a\u51fa\u529b\u5f62\u5f0f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002html \u3084\u30de\u30fc\u30af\u30c0\u30a6\u30f3\u3001json\u3001csv \u306e\u3044\u305a\u308c\u304b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u3001\u6587\u66f8\u5185\u306b\u542b\u307e\u308c\u308b\u56f3\u8868\u3001\u753b\u50cf\u306e\u62bd\u51fa\u306e\u51fa\u529b\u3082\u53ef\u80fd\u3067\u3059\u3002\u6587\u66f8\u753b\u50cf\u3092\u5168\u6587\u691c\u7d22\u53ef\u80fd\u306a\u30b5\u30fc\u30c1\u30e3\u30d6\u30ebPDF\u306b\u5909\u63db\u3059\u308b\u51e6\u7406\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</li> <li>\u26a1 GPU \u74b0\u5883\u3067\u9ad8\u901f\u306b\u52d5\u4f5c\u3057\u3001\u52b9\u7387\u7684\u306b\u6587\u66f8\u306e\u6587\u5b57\u8d77\u3053\u3057\u89e3\u6790\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u3001VRAM \u3082 8GB \u4ee5\u5185\u3067\u52d5\u4f5c\u3057\u3001\u30cf\u30a4\u30a8\u30f3\u30c9\u306a GPU \u3092\u7528\u610f\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u8efd\u91cf\u30e2\u30c7\u30eb\u3092\u7528\u3044\u308c\u3070 CPU \u3067\u3082\u9ad8\u901f\u306b\u63a8\u8ad6\u304c\u53ef\u80fd\u3067\u3059\u3002</li> </ul>"},{"location":"#faq","title":"\ud83d\ude4b FAQ","text":""},{"location":"#q","title":"Q. \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u74b0\u5883\u3067\u306e\u52d5\u4f5c\u306f\u53ef\u80fd\u3067\u3059\u304b\uff1f","text":"<p>A. \u53ef\u80fd\u3067\u3059\u3002YomiToku \u306f\u521d\u56de\u5b9f\u884c\u6642\u306b Hugging Face Hub \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u81ea\u52d5\u3067\u30e2\u30c7\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u884c\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u969b\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u4e8b\u524d\u306b\u624b\u52d5\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3067\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u63a5\u7d9a\u3067\u304d\u306a\u3044\u74b0\u5883\u3067\u3082\u52d5\u4f5c\u53ef\u80fd\u3067\u3059\u3002\u8a73\u3057\u304f\u306fModule Usase\u306e\u300c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u74b0\u5883\u3067\u306e\u5229\u7528\u300d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#q_1","title":"Q. \u5546\u7528\u5229\u7528\u306f\u53ef\u80fd\u3067\u3059\u304b\uff1f","text":"<p>YomiToku \u3092\u5546\u7528\u74b0\u5883\u3067\u3054\u5229\u7528\u3044\u305f\u3060\u304f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u65b9\u6cd5\u3067 \u88fd\u54c1\u7248\u306e\u5546\u7528\u30e9\u30a4\u30bb\u30f3\u30b9 \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u624b\u66f8\u304d\u8a8d\u8b58\u306e\u7cbe\u5ea6\u5411\u4e0a\u3001\u753b\u50cf\u306e\u81ea\u52d5\u5411\u304d\u88dc\u6b63\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u306e\u5f37\u5316\u306a\u3069\u3001\u88fd\u54c1\u7248\u306e\u307f\u3067\u5229\u7528\u53ef\u80fd\u306a\u8ffd\u52a0\u6a5f\u80fd \u3092\u591a\u6570\u642d\u8f09\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u5546\u7528\u5229\u7528\u304b\u5426\u304b\u306e\u5224\u65ad\u306f\u4ee5\u4e0b\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u306b\u5f93\u3044\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u5546\u7528/\u975e\u5546\u7528\u306e\u5224\u65ad\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3</li> </ul>"},{"location":"#pc","title":"\u30aa\u30f3\u30d7\u30ec\u30df\u30b9\u74b0\u5883\u30fb\u30ed\u30fc\u30ab\u30eb PC \u3067\u306e\u5546\u7528\u5229\u7528","text":"<p>\u30aa\u30f3\u30d7\u30ec\u30df\u30b9\u74b0\u5883\u3084\u30ed\u30fc\u30ab\u30eb PC \u3067\u306e\u5546\u7528\u5229\u7528\u3092\u3054\u5e0c\u671b\u306e\u5834\u5408\u306f\u3001\u5c02\u7528\u306e \u30aa\u30f3\u30d7\u30ec\u5411\u3051\u5546\u7528\u30e9\u30a4\u30bb\u30f3\u30b9 \u3092\u3054\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306f\u4ee5\u4e0b\u3088\u308a\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>https://www.mlism.com/</li> </ul>"},{"location":"#aws-marketplace","title":"\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u306e\u5546\u7528\u5229\u7528\uff08AWS Marketplace\uff09","text":"<p>YomiToku \u306e\u5546\u7528\u7248\u306f AWS Marketplace \u3067\u3082\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 \u3059\u3079\u3066\u306e\u89e3\u6790\u51e6\u7406\u306f \u304a\u5ba2\u69d8\u306e AWS \u74b0\u5883\u5185\u3067\u5b8c\u7d50 \u3057\u3001\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3084\u7b2c\u4e09\u8005\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u9001\u4fe1\u306f\u4e00\u5207\u767a\u751f\u3057\u307e\u305b\u3093\u3002 \u6a5f\u5bc6\u6587\u66f8\u30fb\u793e\u5185\u8cc7\u6599\u30fb\u500b\u4eba\u60c5\u5831\u3092\u6271\u3046\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u3082\u5b89\u5fc3\u3057\u3066\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u3059\u3002</p> <ul> <li>AWS Marketplace \u2013 YomiToku-Pro Document Analyzer https://aws.amazon.com/marketplace/search/results?searchTerms=yomitoku</li> <li>\u5229\u7528\u624b\u9806\uff08YomiToku-Client \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff09 https://mlism-inc.github.io/yomitoku-client/</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>\u672c\u30d1\u30c3\u30b1\u30fc\u30b8\u306f Python3.10+, PyTorch \u304c\u5b9f\u884c\u306b\u5fc5\u8981\u3067\u3059\u3002PyTorch \u306f\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\u901a\u5e38\u30e2\u30c7\u30eb\u306f GPU \u5411\u3051\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u304a\u308a\u3001\u30c7\u30d0\u30a4\u30b9\u306f GPU(&gt; VRAM 8G)\u3092\u63a8\u5968\u3057\u3066\u3044\u307e\u3059\u3002CPU \u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u5b9f\u884c\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\u8efd\u91cf\u30e2\u30c7\u30eb\u306f CPU \u3067\u3082\u9ad8\u901f\u306b\u63a8\u8ad6\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"installation/#pypi","title":"PYPI \u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code>pip install yomitoku\n</code></pre>"},{"location":"installation/#uv","title":"uv \u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u672c\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u306b uv \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002uv \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044</p> <pre><code>uv sync\n</code></pre> <p>ONNX Runtime \u3092\u7528\u3044\u3066 GPU \u3067\u63a8\u8ad6\u3059\u308b\u5834\u5408</p> <pre><code>uv sync --extra gpu\n</code></pre> <p>uv\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001<code>pyproject.toml</code>\u306e\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u3054\u81ea\u8eab\u306ecuda\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fCUDA12.4\u306b\u5bfe\u5fdc\u3057\u305fPyTorch\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p> <pre><code>[[tool.uv.index]]\nname = \"pytorch-cuda124\"\nurl = \"https://download.pytorch.org/whl/cu124\"\nexplicit = true\n</code></pre>"},{"location":"installation/#docker","title":"Docker \u74b0\u5883\u3067\u306e\u5b9f\u884c","text":"<p>\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u76f4\u4e0b\u306b dockerfile \u3092\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u305d\u3061\u3089\u3082\u6d3b\u7528\u3044\u305f\u3060\u3051\u307e\u3059\u3002</p> <pre><code>docker build -t yomitoku .\n</code></pre> GPUCPU <pre><code>docker run -it --gpus all -v $(pwd):/workspace --name yomitoku yomitoku /bin/bash\n</code></pre> <pre><code>docker run -it -v $(pwd):/workspace --name yomitoku yomitoku /bin/bash\n</code></pre>"},{"location":"installation/#_1","title":"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u74b0\u5883\u3067\u306e\u5229\u7528","text":"<p>YomiToku \u306f\u521d\u56de\u306e\u5b9f\u884c\u6642\u306b Hugging Face Hub \u304b\u3089\u30e2\u30c7\u30eb\u3092\u81ea\u52d5\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 \u305d\u306e\u969b\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u4e8b\u524d\u306b\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u624b\u52d5\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3067\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u306a\u3044\u74b0\u5883\u3067\u3082\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>download_model\n</code></pre> <p>\u5b9f\u884c\u6642\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e <code>KotaroKinoshita</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u914d\u7f6e\u3059\u308b\u3053\u3068\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u306a\u3057\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30e2\u30c7\u30eb\u304c\u547c\u3073\u51fa\u3055\u308c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"mcp/","title":"MCP","text":"<p>\u3053\u3053\u3067\u306fYomiToku\u306eMCP\u30b5\u30fc\u30d0\u30fc\u3092Claude Desktop\u306b\u9023\u643a\u3057\u3066\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"mcp/#yomitoku","title":"YomiToku\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u307e\u305a\u306f Installation\u306e\u300cuv\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u306b\u5f93\u3063\u3066YomiToku\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u305f\u3060\u3057\u3001<code>mcp</code>\u3092\u4f9d\u5b58\u95a2\u4fc2\u306b\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b<code>--extra</code>\u306b<code>mcp</code>\u3092\u52a0\u3048\u307e\u3059\u3002</p> <pre><code>uv sync --extra mcp\n</code></pre>"},{"location":"mcp/#claude-desktop","title":"Claude Desktop\u306e\u8a2d\u5b9a","text":"<p>\u6b21\u306bClaude Desktop\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e<code>mcpServers</code>\u306b\u4ee5\u4e0b\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002(\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u958b\u304d\u65b9\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044)</p> <pre><code>{\n  \"mcpServers\": {\n    \"yomitoku\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"(YomiToku\u3092Clone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u7d76\u5bfe\u30d1\u30b9)\",\n        \"run\",\n        \"yomitoku_mcp\"\n      ],\n      \"env\": {\n        \"RESOURCE_DIR\": \"(OCR\u5bfe\u8c61\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u7d76\u5bfe\u30d1\u30b9)\"\n      }\n    }\n  }\n}\n</code></pre> <p>\u4f8b\u3048\u3070\u3001<code>/Users/your-username/workspace</code>\u3067<code>git clone https://github.com/kotaro-kinoshita/yomitoku.git</code>\u3092\u5b9f\u884c\u3057\u305f\u5834\u5408\u306f\u3001<code>(YomiToku\u3092Clone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea)</code>\u306f<code>/Users/your-username/workspace/yomitoku</code>\u3068\u306a\u308a\u3001<code>yomitoku/demo</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e<code>sample.pdf</code>\u3092\u7528\u3044\u308b\u5834\u5408\u306f<code>(OCR\u5bfe\u8c61\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea)</code>\u3092<code>/Users/your-username/workspace/yomitoku/demo</code>\u3068\u6307\u5b9a\u3057\u307e\u3059\u3002</p>"},{"location":"mcp/#claude-desktop_1","title":"Claude Desktop\u3067\u306e\u5229\u7528","text":"<p>\u203b \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u53cd\u6620\u3059\u308b\u306b\u306fClaude Desktop\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u4f8b\u3048\u3070<code>yomitoku/demo/sample.pdf</code>\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u7528\u3044\u308b\u5834\u5408\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u6307\u793a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>sample.pdf\u3092OCR\u3067\u89e3\u6790\u3057\u3066\u8981\u7d04\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n</code></pre>"},{"location":"mcp/#sse","title":"SSE\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5","text":"<p>\u74b0\u5883\u5909\u6570\u306e<code>RESOURCE_DIR</code>\u306bOCR\u306e\u5bfe\u8c61\u753b\u50cf\u304c\u542b\u307e\u308c\u305f\u30d5\u30a9\u30eb\u30c0\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>export RESOURCE_DIR=\"path of dataset\"\n</code></pre> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067SSE\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> <pre><code>uv run yomitoku_mcp -t sse\n</code></pre> <p><code>http://127.0.0.1:8000/sse</code>\u304cSSE\u30b5\u30fc\u30d0\u30fc\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"module/","title":"Module Usage","text":"<p>Python \u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066 YomiToku \u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"module/#document-analyzer","title":"Document Analyzer \u306e\u5229\u7528","text":"<p>Document Analyzer \u306f OCR \u304a\u3088\u3073\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u3092\u5b9f\u884c\u3057\u3001\u305d\u308c\u3089\u306e\u7d50\u679c\u3092\u7d71\u5408\u3057\u305f\u89e3\u6790\u7d50\u679c\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002\u6bb5\u843d\u3001\u8868\u306e\u69cb\u9020\u89e3\u6790\u3001\u62bd\u51fa\u3001\u56f3\u8868\u306e\u691c\u77e5\u306a\u3069\u69d8\u3005\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u3054\u5229\u7528\u3044\u305f\u3060\u3051\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e 4 \u3064\u306e\u30e2\u30c7\u30eb\u304c\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u4f7f\u308f\u308c\u307e\u3059\u3002</p> <ul> <li>Text Recognizer (\u6587\u5b57\u8a8d\u8b58)</li> <li>Text Detector (\u6587\u5b57\u691c\u51fa)</li> <li>Layout Parser (\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790)</li> <li>Table Structure Recognizer (\u8868\u69cb\u9020\u8a8d\u8b58)</li> </ul> demo/simple_document_analysis.py <pre><code>import cv2\n\nfrom yomitoku import DocumentAnalyzer\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    PATH_IMGE = \"demo/sample.pdf\"\n    analyzer = DocumentAnalyzer(visualize=True, device=\"cuda\")\n    imgs = load_pdf(PATH_IMGE)\n\n    for i, img in enumerate(imgs):\n        results, ocr_vis, layout_vis = analyzer(img)\n\n        results.to_html(f\"output_{i}.html\", img=img)\n\n        cv2.imwrite(f\"output_ocr_{i}.jpg\", ocr_vis)\n        cv2.imwrite(f\"output_layout_{i}.jpg\", layout_vis)\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u578b \u8aac\u660e \u88dc\u8db3 <code>visualize</code> <code>bool</code> \u51e6\u7406\u7d50\u679c\u306e\u53ef\u8996\u5316\u3092\u884c\u3046\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30c3\u30b0\u7528\u9014\u3067\u306a\u3044\u5834\u5408\u306f <code>False</code> \u3092\u63a8\u5968\u3057\u307e\u3059\u3002<code>True</code> \u306e\u5834\u5408\u3001\u7b2c 2 \u623b\u308a\u5024\u306b OCR \u7d50\u679c\u3001\u7b2c 3 \u623b\u308a\u5024\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u7d50\u679c\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002<code>False</code> \u306e\u5834\u5408\u306f <code>None</code> \u3092\u8fd4\u5374\u3057\u307e\u3059\u3002 <code>device</code> <code>str</code> \u51e6\u7406\u306b\u7528\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306f <code>\"cuda\"</code> \u3067\u3059\u3002GPU \u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u81ea\u52d5\u3067 <code>\"cpu\"</code> \u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002 <code>configs</code> <code>dict</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51e6\u7406\u306e\u3088\u308a\u8a73\u7d30\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u8a2d\u5b9a\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002 <p><code>DocumentAnalyzer</code> \u306e\u51e6\u7406\u7d50\u679c\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306f\u4ee5\u4e0b\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002</p> \u30e1\u30bd\u30c3\u30c9 \u51fa\u529b\u5f62\u5f0f <code>to_json()</code> JSON \u5f62\u5f0f (*.json) <code>to_html()</code> HTML \u5f62\u5f0f (*.html) <code>to_csv()</code> \u30ab\u30f3\u30de\u533a\u5207\u308a CSV \u5f62\u5f0f (*.csv) <code>to_markdown()</code> \u30de\u30fc\u30af\u30c0\u30a6\u30f3\u5f62\u5f0f (*.md)"},{"location":"module/#ai-ocr","title":"AI-OCR \u306e\u307f\u306e\u5229\u7528","text":"<p>AI-OCR \u3067\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u691c\u77e5\u3068\u691c\u77e5\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u306b\u5bfe\u3057\u3066\u3001\u8a8d\u8b58\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u753b\u50cf\u5185\u306e\u6587\u5b57\u306e\u4f4d\u7f6e\u3068\u8aad\u307f\u53d6\u308a\u7d50\u679c\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e 2 \u3064\u306e\u30e2\u30c7\u30eb\u304c\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u4f7f\u308f\u308c\u307e\u3059\u3002</p> <ul> <li>Text Recognizer (\u6587\u5b57\u8a8d\u8b58)</li> <li>Text Detector (\u6587\u5b57\u691c\u51fa)</li> </ul> demo/simple_ocr.py <pre><code>import cv2\n\nfrom yomitoku import OCR\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    ocr = OCR(visualize=True, device=\"cuda\")\n    imgs = load_pdf(\"demo/sample.pdf\")\n\n    for i, img in enumerate(imgs):\n        results, ocr_vis = ocr(img)\n\n        results.to_json(f\"output_{i}.json\")\n        cv2.imwrite(f\"output_ocr_{i}.jpg\", ocr_vis)\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u578b \u8aac\u660e \u88dc\u8db3 <code>visualize</code> <code>bool</code> \u51e6\u7406\u7d50\u679c\u306e\u53ef\u8996\u5316\u3092\u884c\u3046\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30c3\u30b0\u7528\u9014\u3067\u306a\u3044\u5834\u5408\u306f <code>False</code> \u3092\u63a8\u5968\u3057\u307e\u3059\u3002<code>True</code> \u306e\u5834\u5408\u3001\u7b2c 2 \u623b\u308a\u5024\u306b OCR \u7d50\u679c\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002<code>False</code> \u306e\u5834\u5408\u306f <code>None</code> \u3092\u8fd4\u5374\u3057\u307e\u3059\u3002 <code>device</code> <code>str</code> \u51e6\u7406\u306b\u7528\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u6307\u5b9a\u5024: <code>cuda</code> | <code>cpu</code> | <code>mps</code>\uff09 \u30c7\u30d5\u30a9\u30eb\u30c8\u306f <code>\"cuda\"</code> \u3067\u3059\u3002GPU \u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u81ea\u52d5\u3067 <code>\"cpu\"</code> \u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002 <code>configs</code> <code>dict</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51e6\u7406\u306e\u3088\u308a\u8a73\u7d30\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u8a2d\u5b9a\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002 <p><code>OCR</code>\u306e\u51e6\u7406\u7d50\u679c\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306f JSON \u7cfb\u5f62\u5f0f(<code>to_json()</code>)\u306e\u307f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"module/#layout-analyzer","title":"Layout Analyzer \u306e\u307f\u306e\u5229\u7528","text":"<p>Layout Analyzer \u3067\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u691c\u77e5\u3068\u691c\u77e5\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u306b\u5bfe\u3057\u3066\u3001\u6bb5\u843d\u3001\u56f3\u8868\u306e\u691c\u77e5\u304a\u3088\u3073\u8868\u306e\u69cb\u9020\u89e3\u6790\u51e6\u7406 AI \u3092\u5b9f\u884c\u3057\u3001\u6587\u66f8\u5185\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u69cb\u9020\u3092\u89e3\u6790\u3057\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e 2 \u3064\u306e\u30e2\u30c7\u30eb\u304c\u30e2\u30b8\u30e5\u30fc\u30eb\u5185\u3067\u4f7f\u308f\u308c\u307e\u3059</p> <ul> <li>Layout Parser (\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790)</li> <li>Table Structure Recognizer (\u8868\u69cb\u9020\u8a8d\u8b58)</li> </ul> demo/simple_layout.py <pre><code>import cv2\n\nfrom yomitoku import LayoutAnalyzer\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    analyzer = LayoutAnalyzer(visualize=True, device=\"cuda\")\n\n    imgs = load_pdf(\"demo/sample.pdf\")\n    for i, img in enumerate(imgs):\n        results, layout_vis = analyzer(img)\n\n        results.to_json(f\"output_{i}.json\")\n        cv2.imwrite(f\"output_layout_{i}.jpg\", layout_vis)\n</code></pre> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u578b \u8aac\u660e \u88dc\u8db3 <code>visualize</code> <code>bool</code> \u51e6\u7406\u7d50\u679c\u306e\u53ef\u8996\u5316\u3092\u884c\u3046\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30c3\u30b0\u7528\u9014\u3067\u306a\u3044\u5834\u5408\u306f <code>False</code> \u3092\u63a8\u5968\u3057\u307e\u3059\u3002<code>True</code> \u306e\u5834\u5408\u3001\u7b2c 2 \u623b\u308a\u5024\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u7d50\u679c\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002<code>False</code> \u306e\u5834\u5408\u306f <code>None</code> \u3092\u8fd4\u5374\u3057\u307e\u3059\u3002 <code>device</code> <code>str</code> \u51e6\u7406\u306b\u7528\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u6307\u5b9a\u5024: <code>cuda</code> | <code>cpu</code> | <code>mps</code>\uff09 \u30c7\u30d5\u30a9\u30eb\u30c8\u306f <code>\"cuda\"</code> \u3067\u3059\u3002GPU \u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u81ea\u52d5\u3067 <code>\"cpu\"</code> \u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002 <code>configs</code> <code>dict</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51e6\u7406\u306e\u3088\u308a\u8a73\u7d30\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u8a2d\u5b9a\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002 <p><code>LayoutAnalyzer</code>\u306e\u51e6\u7406\u7d50\u679c\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306f JSON \u7cfb\u5f62\u5f0f(<code>to_json()</code>)\u306e\u307f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"module/#model-config","title":"\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u8a2d\u5b9a","text":"<p>Config \u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u3088\u308a\u7d30\u304b\u3044\u632f\u308b\u821e\u3044\u3092\u8abf\u6574\u3067\u304d\u307e\u3059\u3002\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> \u30aa\u30d7\u30b7\u30e7\u30f3\u540d \u578b \u8aac\u660e <code>model_name</code> <code>str</code> \u4f7f\u7528\u3059\u308b\u30e2\u30c7\u30eb\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <code>path_cfg</code> <code>str</code> \u30cf\u30a4\u30d1\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u8a18\u8ff0\u3055\u308c\u305f config \u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002 <code>device</code> <code>str</code> \u63a8\u8ad6\u306b\u4f7f\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\uff08\u6307\u5b9a\u5024: <code>cuda</code> | <code>cpu</code> | <code>mps</code>\uff09 <code>visualize</code> <code>bool</code> \u53ef\u8996\u5316\u51e6\u7406\u3092\u5b9f\u65bd\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <code>from_pretrained</code> <code>bool</code> Pretrained \u30e2\u30c7\u30eb\uff08\u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\uff09\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <code>infer_onnx</code> <code>bool</code> PyTorch \u306e\u4ee3\u308f\u308a\u306b ONNX Runtime \u3092\u4f7f\u7528\u3057\u3066\u63a8\u8ad6\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002"},{"location":"module/#model_name","title":"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u30e2\u30c7\u30eb\u540d(<code>model_name</code>)","text":"\u30e2\u30c7\u30eb\u306e\u30bf\u30a4\u30d7 \u30e2\u30c7\u30eb\u540d Text Recognizer (\u6587\u5b57\u8a8d\u8b58) <code>\"parseq\"</code>, <code>\"parseq-small\"</code>, <code>\"parseq-tiny\"</code> Text Detector (\u6587\u5b57\u691c\u51fa) <code>\"dbnet\"</code> Layout Parser (\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790) <code>\"rtdetrv2\"</code> Table Structure Recognizer (\u8868\u69cb\u9020\u8a8d\u8b58) <code>\"rtdetrv2\"</code>"},{"location":"module/#config","title":"Config \u306e\u8a18\u8ff0\u65b9\u6cd5","text":"<p>Config \u306f\u8f9e\u66f8\u5f62\u5f0f\u3067\u4e0e\u3048\u307e\u3059\u3002Config \u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u30e2\u30c7\u30eb\u3054\u3068\u306b\u7570\u306a\u308b\u30c7\u30d0\u30a4\u30b9\u3067\u51e6\u7406\u3092\u5b9f\u884c\u3057\u305f\u308a\u3001\u8a73\u7d30\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a Config \u3092\u4e0e\u3048\u308b\u3068\u3001OCR \u51e6\u7406\u306f GPU \u3067\u5b9f\u884c\u3057\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u6a5f\u80fd\u306f CPU \u3067\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>from yomitoku import DocumentAnalyzer\n\nif __name__ == \"__main__\":\n    configs = {\n        \"ocr\": {\n            \"text_detector\": {\n                \"device\": \"cuda\",\n            },\n            \"text_recognizer\": {\n                \"device\": \"cuda\",\n            },\n        },\n        \"layout_analyzer\": {\n            \"layout_parser\": {\n                \"device\": \"cpu\",\n            },\n            \"table_structure_recognizer\": {\n                \"device\": \"cpu\",\n            },\n        },\n    }\n\n    DocumentAnalyzer(configs=configs)\n</code></pre>"},{"location":"module/#yaml","title":"YAML \u30d5\u30a1\u30a4\u30eb\u3067\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5b9a\u7fa9","text":"<p>Config \u306b YAML \u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u63a8\u8ad6\u6642\u306e\u7d30\u90e8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8abf\u6574\u304c\u53ef\u80fd\u3067\u3059\u3002YAML \u30d5\u30a1\u30a4\u30eb\u306e\u4f8b\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u5185\u306e<code>configs</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u3042\u308a\u307e\u3059\u3002 \u30e2\u30c7\u30eb\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u5f8c\u51e6\u7406\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3084\u5165\u529b\u753b\u50cf\u306e\u30b5\u30a4\u30ba\u306a\u3069\u306f\u4e00\u90e8\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002\u5909\u66f4\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u306fModel Config\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b Text Detector \u306e\u5f8c\u51e6\u7406\u306e\u95be\u5024\u3092 YAML \u30d5\u30a1\u30a4\u30eb\u306b\u5b9a\u7fa9\u3057\u3001Config \u306b\u305d\u306e YAML \u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Config \u30d5\u30a1\u30a4\u30eb\u306f\u3059\u3079\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a18\u8f09\u3059\u308b\u5fc5\u8981\u306f\u306a\u304f\u3001\u5909\u66f4\u304c\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u307f\u306e\u8a18\u8f09\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p><code>text_detector.yaml</code>\u306e\u8a18\u8ff0</p> <pre><code>post_process:\n  thresh: 0.1\n  unclip_ratio: 2.5\n</code></pre> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306b YAML \u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092 Config \u306b\u683c\u7d0d\u53ef\u80fd\u3067\u3059\u3002</p> demo/setting_document_anaysis.py <pre><code>from yomitoku import DocumentAnalyzer\n\nif __name__ == \"__main__\":\n    configs = {\"ocr\": {\"text_detector\": {\"path_cfg\": \"demo/text_detector.yaml\"}}}\n\n    analyzer = DocumentAnalyzer(configs=configs, visualize=True, device=\"cuda\")\n</code></pre>"},{"location":"release_note/","title":"Release Note","text":""},{"location":"release_note/#changelog","title":"Changelog","text":""},{"location":"release_note/#v0102-2025-12-01","title":"v0.10.2 (2025-12-01)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>python 3.13\u306e\u30b5\u30dd\u30fc\u30c8 #182 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>pytorch\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5909\u66f4\u306b\u4f34\u3046README\u306e\u4fee\u6b63 #183 (kotaro-kinoshita)</li> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8efd\u5fae\u306a\u4fee\u6b63 #181 (m5t0)</li> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8a18\u8ff0\u4fee\u6b63\u3068\u30b9\u30ad\u30fc\u30de\u30da\u30fc\u30b8\u306e\u5909\u66f4 #178 (m5t0)</li> <li>\u5546\u7528\u5229\u7528\u5224\u65ad\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u306e\u8ffd\u52a0 #177 (kotaro-kinoshita)</li> <li>README\u306b\u30e9\u30a4\u30bb\u30f3\u30b9\u60c5\u5831\u306e\u8ffd\u8a18 #176 (kotaro-kinoshita)</li> <li>README\u306b\u6ce8\u610f\u4e8b\u9805\u3092\u52a0\u7b46 #175 (kotaro-kinoshita)</li> <li>\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\u306e\u4fee\u6b63 #173 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v0101-2025-11-05","title":"v0.10.1 (2025-11-05)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>Text Recognizer Tiny\u306e\u5b9f\u88c5 #172 (kotaro-kinoshita)</li> <li>Searchable-PDF\u306e\u5bb9\u91cf\u306e\u524a\u6e1b #170 (kotaro-kinoshita)</li> <li>CLI\u306b\u3066\u8aad\u307f\u53d6\u308a\u5bfe\u8c61\u306e\u30da\u30fc\u30b8\u306e\u6307\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0 #162 (kotaro-kinoshita)</li> <li>\u30e2\u30c7\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u88c5 #159 (kotaro-kinoshita)</li> <li>PDF\u3092\u753b\u50cf\u5316\u3059\u308b\u3068\u304d\u306eDPI\u306e\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092CLI\u306b\u5c0e\u5165 #140 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>CHANGELOG\u306e\u81ea\u52d5\u751f\u6210CI\u306e\u4fee\u6b63 #166 (kotaro-kinoshita)</li> <li>Fix/pr feedback #150 (Utakata)</li> </ul> <p>Merged pull requests:</p> <ul> <li>Explicitly set file encoding to UTF-8 to prevent UnicodeDecodeError. #148 (Utakata)</li> </ul>"},{"location":"release_note/#v095-2025-08-21","title":"v0.9.5 (2025-08-21)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>\u30ec\u30a4\u30a2\u30a6\u30c8\u89e3\u6790\u306b\u304a\u3051\u308b\u8aad\u307f\u53d6\u308a\u9806\u756a\u53f7\u306e\u53ef\u8996\u5316 #134 (kotaro-kinoshita)</li> <li>Text Recognizer\u306e\u5358\u4f53\u547c\u3073\u51fa\u3057\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u4f5c\u6210 #114 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>[TYPO] \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8aa4\u5b57\u30fb\u8aa4\u308a\u3092\u4fee\u6b63 #133 (kotaro-kinoshita)</li> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u30d3\u30eb\u30c9\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u4fee\u6b63 #128 (kotaro-kinoshita)</li> <li>DocumentAnalyzer\u306e\u5f15\u6570\u306e\u8ffd\u52a0\u3068\u30d1\u30e9\u30e1\u30fc\u30bf\u5909\u66f4 #115 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>docs: Update CHANGELOG #135 (github-actions[bot])</li> <li>\u76f8\u5bfe\u30d1\u30b9\u3092\u5229\u7528\u3057\u3066\u5bfe\u8c61\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u305f\u969b\u306b\u3001result\u30d5\u30a1\u30a4\u30eb\u304c\u96a0\u3057\u30d5\u30a1\u30a4\u30eb\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u554f\u984c\u3092\u4fee\u6b63 #132 (moznion)</li> <li>docs: Update CHANGELOG #130 (github-actions[bot])</li> <li>CI\u306e\u4fee\u6b63 #126 (kotaro-kinoshita)</li> <li>CI\u306e\u4fee\u6b63 #124 (kotaro-kinoshita)</li> <li>docs: Update CHANGELOG #123 (github-actions[bot])</li> <li>PR\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u30d0\u30b0\u4fee\u6b63 #122 (kotaro-kinoshita)</li> <li>PR\u7d4c\u7531\u3067CHANGELOG.md\u3092push\u3059\u3046\u308b\u3088\u3046\u306b\u5909\u66f4 #121 (kotaro-kinoshita)</li> <li>CHANGELOG\u306e\u81ea\u52d5\u4f5c\u6210CI\u306e\u4fee\u6b63 #120 (kotaro-kinoshita)</li> <li>Revert \"CHANGELOG.md\u306e\u81ea\u52d5\u4f5c\u6210CI\u306e\u30d0\u30b0\u4fee\u6b63\" #119 (kotaro-kinoshita)</li> <li>CHANGELOG.md\u306e\u81ea\u52d5\u4f5c\u6210CI\u306e\u30d0\u30b0\u4fee\u6b63 #118 (kotaro-kinoshita)</li> <li>\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u81ea\u52d5\u53cd\u6620 #117 (kotaro-kinoshita)</li> <li>\u30b9\u30ad\u30fc\u30de\u306b\u95a2\u3059\u308b\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u8ffd\u52a0 #116 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v094-2025-06-12","title":"v0.9.4 (2025-06-12)","text":"<p>Full Changelog</p> <p>Fixed bugs:</p> <ul> <li>CSV\u51fa\u529b\u6642\u306bfigure\u5185\u306e\u6587\u5b57\u5217\u304c\u51fa\u529b\u3055\u308c\u306a\u3044\u30d0\u30b0\u306e\u4fee\u6b63 #113 (kotaro-kinoshita)</li> <li>\u30b5\u30fc\u30c1\u30e3\u30d6\u30ebPDF\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u8a2d\u5b9a\u306b\u95a2\u3059\u308b\u30d0\u30b0\u306e\u6539\u4fee #112 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v093-2025-06-05","title":"v0.9.3 (2025-06-05)","text":"<p>Full Changelog</p> <p>Merged pull requests:</p> <ul> <li>\u30b5\u30fc\u30c1\u30e3\u30d6\u30ebPDF\u306e\u751f\u6210\u306e\u30c6\u30b9\u30c8 #111 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v092post1-2025-06-05","title":"v0.9.2.post1 (2025-06-05)","text":"<p>Full Changelog</p>"},{"location":"release_note/#v092-2025-06-05","title":"v0.9.2 (2025-06-05)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>\u30b5\u30fc\u30c1\u30e3\u30d6\u30ebPDF\u3092\u4f5c\u6210\u3059\u308b #109 (kotaro-kinoshita)</li> <li>MCP\u30b5\u30fc\u30d0\u30fc\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u4fee\u6b63 #108 (kotaro-kinoshita)</li> <li>Feature/add mcp server url #107 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>\u30b5\u30fc\u30c1\u30e3\u30d6\u30ebPDF\u306e\u5b9f\u88c5\u306e\u30ea\u30d5\u30a1\u30af\u30bf #110 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v091-2025-05-16","title":"v0.9.1 (2025-05-16)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>\u8aad\u307f\u53d6\u308a\u9806\u306e\u63a8\u5b9a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u62e1\u5f35 #105 (kotaro-kinoshita)</li> <li>\u30c6\u30fc\u30d6\u30eb\u306edict\u5f62\u5f0f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3078\u306e\u5909\u63db\u95a2\u6570\u306e\u30d0\u30b0\u306e\u4fee\u6b63 #104 (kotaro-kinoshita)</li> <li>\u30c6\u30fc\u30d6\u30eb\u306e\u64cd\u4f5c\u7528\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u306e\u8ffd\u52a0 #103 (kotaro-kinoshita)</li> <li>Text Recognizer\u306e\u524d\u51e6\u7406\u306e\u4e26\u5217\u5316 #100 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v090-2025-04-18","title":"v0.9.0 (2025-04-18)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>Support other output format #98 (okafukuro)</li> <li>MCP\u30b5\u30fc\u30d0\u30fc\u306e\u5b9f\u88c5\u3092\u8ffd\u52a0 #95 (okafukuro)</li> </ul> <p>Fixed bugs:</p> <ul> <li>\u6587\u5b57\u304c\u5b58\u5728\u3057\u306a\u3044\u753b\u50cf\u3092\u51e6\u7406\u6642\u306bHTML\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306b\u5931\u6557\u3059\u308b\u30a8\u30e9\u30fc\u306e\u4fee\u6b63 #97 (kotaro-kinoshita)</li> <li>Windows\u306e\u65e5\u672c\u8a9e\u30d5\u30a1\u30a4\u30eb\u306e\u51e6\u7406\u6642\u306b\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u304c\u6587\u5b57\u5316\u3051\u3059\u308b\u554f\u984c\u306e\u4fee\u6b63 #96 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v081-2025-04-03","title":"v0.8.1 (2025-04-03)","text":"<p>Full Changelog</p> <p>Fixed bugs:</p> <ul> <li>Fix/tuning detector parameter #93 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v080-2025-04-03","title":"v0.8.0 (2025-04-03)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>\u30e2\u30c7\u30eb\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 #92 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v074-2025-04-03","title":"v0.7.4 (2025-04-03)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>\u8907\u6570\u30da\u30fc\u30b8TIFF\u753b\u50cf\u306b\u5bfe\u5fdc #91 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u95a2\u6570\u3067\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u306a\u3044\u554f\u984c\u3078\u306e\u5bfe\u5fdc #90 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v073-2025-03-20","title":"v0.7.3 (2025-03-20)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>add spans cell #87 (kotaro-kinoshita)</li> <li>Feature/update preprocessing #83 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>fix missing usage.md #86 (kotaro-kinoshita)</li> <li>Text Recognizer\u306eONNX Export\u306e\u4fee\u6b63 #84 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v072-2025-02-21","title":"v0.7.2 (2025-02-21)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>Feature/ignore header footer #78 (kotaro-kinoshita)</li> <li>Feature/merge multipage ducument #77 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>fix/install-command-in-docs #79 (kotaro-kinoshita)</li> <li>refactor: fix a typo in document_analyzer.py #75 (DenDen047)</li> <li>fix demo command #73 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>DL badge #80 (kotaro-kinoshita)</li> <li>update documents #74 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v071-2025-01-04","title":"v0.7.1 (2025-01-04)","text":"<p>Full Changelog</p> <p>Merged pull requests:</p> <ul> <li>add unittest #72 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v070-2024-12-31","title":"v0.7.0 (2024-12-31)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>feature export figure with csv and json #71 (kotaro-kinoshita)</li> <li>fix textline order algorithm #70 (kotaro-kinoshita)</li> <li>\u8868\u306e\u30bb\u30eb\u306b\u5bfe\u3059\u308b\u30c6\u30ad\u30b9\u30c8\u306e\u5272\u308a\u5f53\u3066\u30ed\u30b8\u30c3\u30af\u306e\u5909\u66f4 #68 (kotaro-kinoshita)</li> <li>add encoding option #67 (kotaro-kinoshita)</li> <li>Manually create mini-batches. #66 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>Fix/support bom #69 (kotaro-kinoshita)</li> <li>fix onnx convert #65 (kotaro-kinoshita)</li> <li>fix/deps #64 (kotaro-kinoshita)</li> <li>Fix/uv depedecies #63 (kotaro-kinoshita)</li> <li>\u30e2\u30b8\u30e5\u30fc\u30eb\u306econfigs\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306e\u5909\u66f4 #62 (kotaro-kinoshita)</li> <li>Fix/mac os dependencies #61 (kotaro-kinoshita)</li> <li>fix #59 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v060-2024-12-15","title":"v0.6.0 (2024-12-15)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>Feature/onnx inference #58 (kotaro-kinoshita)</li> <li>implement lite mode #57 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>fix contact #56 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v053-2024-12-05","title":"v0.5.3 (2024-12-05)","text":"<p>Full Changelog</p> <p>Fixed bugs:</p> <ul> <li>\u30e9\u30a4\u30bb\u30f3\u30b9\u60c5\u5831\u306e\u8a18\u8f09 #53 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v052-2024-11-28","title":"v0.5.2 (2024-11-28)","text":"<p>Full Changelog</p> <p>Fixed bugs:</p> <ul> <li>add text normalize #50 (kotaro-kinoshita)</li> <li>fix english site link #47 (kotaro-kinoshita)</li> <li>fix document site link #46 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v051-2024-11-26","title":"v0.5.1 (2024-11-26)","text":"<p>Full Changelog</p> <p>Merged pull requests:</p> <ul> <li>beta release #45 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v050-2024-11-26","title":"v0.5.0 (2024-11-26)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>dynamic unclip ratio #43 (kotaro-kinoshita)</li> <li>support windows #42 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>add english document #44 (kotaro-kinoshita)</li> <li>modify docs #41 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v041-2024-11-25","title":"v0.4.1 (2024-11-25)","text":"<p>Full Changelog</p> <p>Fixed bugs:</p> <ul> <li>fix #40 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v040-2024-11-25","title":"v0.4.0 (2024-11-25)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>publish to PYPI #39 (kotaro-kinoshita)</li> <li>add pre-commit #37 (kotaro-kinoshita)</li> <li>include tox #36 (kotaro-kinoshita)</li> <li>feature/update-layout-parser #34 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>fix reading_order_algoritm #35 (kotaro-kinoshita)</li> <li>fix bug #33 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>add logo #38 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v030-2024-11-19","title":"v0.3.0 (2024-11-19)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>feature export figures #32 (kotaro-kinoshita)</li> <li>Feature/reading ordar algorithm #31 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>add unittest #29 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v020-2024-11-16","title":"v0.2.0 (2024-11-16)","text":"<p>Full Changelog</p> <p>Implemented enhancements:</p> <ul> <li>support pdf #24 (kotaro-kinoshita)</li> <li>add cli #22 (kotaro-kinoshita)</li> <li>escape and format #21 (kotaro-kinoshita)</li> <li>add export module #20 (kotaro-kinoshita)</li> <li>Feature/define schema #18 (kotaro-kinoshita)</li> <li>implement document analyzer #17 (kotaro-kinoshita)</li> <li>implement tsr postprcess #16 (kotaro-kinoshita)</li> <li>add layout-parser-postprocess #13 (kotaro-kinoshita)</li> <li>Feature/model catalog #12 (kotaro-kinoshita)</li> <li>device-check #10 (kotaro-kinoshita)</li> <li>Create LICENSE #8 (kotaro-kinoshita)</li> <li>automate loading model from hugging_face_hub #7 (kotaro-kinoshita)</li> <li>implement la and tsr #4 (kotaro-kinoshita)</li> <li>update parameter #2 (kotaro-kinoshita)</li> </ul> <p>Fixed bugs:</p> <ul> <li>fix document #28 (kotaro-kinoshita)</li> <li>fix dockerfile #25 (kotaro-kinoshita)</li> <li>fix/resource folder #23 (kotaro-kinoshita)</li> <li>fix text-detector param #14 (kotaro-kinoshita)</li> <li>fix/document-workflow #6 (kotaro-kinoshita)</li> </ul> <p>Merged pull requests:</p> <ul> <li>add gallery.md #27 (kotaro-kinoshita)</li> <li>add document #26 (kotaro-kinoshita)</li> <li>Refactor/modules #19 (kotaro-kinoshita)</li> <li>fix license #15 (kotaro-kinoshita)</li> <li>refactor text recognizer #11 (kotaro-kinoshita)</li> <li>refactor loading config #9 (kotaro-kinoshita)</li> <li>refactor #5 (kotaro-kinoshita)</li> <li>add document page #3 (kotaro-kinoshita)</li> </ul>"},{"location":"release_note/#v010-2024-10-30","title":"v0.1.0 (2024-10-30)","text":"<p>Full Changelog</p> <p>Merged pull requests:</p> <ul> <li>desc readme #1 (kotaro-kinoshita)</li> </ul> <p>* This Changelog was automatically generated by github_changelog_generator</p>"},{"location":"schema_generation_prompt/","title":"\u30b9\u30ad\u30fc\u30de\u81ea\u52d5\u751f\u6210\u30d7\u30ed\u30f3\u30d7\u30c8","text":"<p>\u4ee5\u4e0b\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u3092LLM\uff08ChatGPT\u3001Claude\u7b49\uff09\u306b\u5165\u529b\u3059\u308b\u3068\u3001Yomitoku Extractor\u306e\u30b9\u30ad\u30fc\u30de\u5b9a\u7fa9YAML\u3092\u81ea\u52d5\u751f\u6210\u3067\u304d\u307e\u3059\u3002</p> <p><code>{ITEMS}</code> \u3092\u53d6\u5f97\u3057\u305f\u3044\u9805\u76ee\uff08\u65e5\u672c\u8a9e\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\uff09\u306b\u7f6e\u304d\u63db\u3048\u3066\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"schema_generation_prompt/#_2","title":"\u30d7\u30ed\u30f3\u30d7\u30c8","text":"<pre><code>\u3042\u306a\u305f\u306f\u300cYomitoku Extractor\u300d\u306e\u30b9\u30ad\u30fc\u30de\uff08YAML\uff09\u3092\u751f\u6210\u3059\u308b\u3002\u51fa\u529b\u306f YAML \u306e\u307f\u3002\u8aac\u660e\u6587\u30fb\u524d\u7f6e\u304d\u30fb\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\uff08```\uff09\u306f\u7981\u6b62\u3002\n\n\u3010\u5165\u529b\u3011\n\u53d6\u5f97\u9805\u76ee\uff08\u65e5\u672c\u8a9e\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\uff09:\n{ITEMS}\n\n\u3010\u51fa\u529b\u4ed5\u69d8\uff08\u53b3\u5b88\uff09\u3011\n- \u30eb\u30fc\u30c8\u306f\u5fc5\u305a `fields:` \u304b\u3089\u958b\u59cb\u3059\u308b\n- YAML \u306f\u30a4\u30f3\u30c7\u30f3\u30c82\u30b9\u30da\u30fc\u30b9\u3001\u30bf\u30d6\u7981\u6b62\n- fields \u306f\u5165\u529b\u306e\u9806\u756a\u3092\u57fa\u672c\u306b\u4e26\u3079\u308b\n- \u5404\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u5fc5\u305a\u4ee5\u4e0b4\u3064\u3092\u542b\u3081\u308b:\n  - name: snake_case \u306e\u82f1\u5c0f\u6587\u5b57\uff08\u65e5\u672c\u8a9e\u7981\u6b62\u3001\u82f1\u6570\u5b57\u3068 _ \u306e\u307f\uff09\n  - structure: kv \u307e\u305f\u306f table\n  - description: \u65e5\u672c\u8a9e\uff08\u5e33\u7968\u4e0a\u306e\u30ad\u30fc/\u30d8\u30c3\u30c0\u30fc\u3068\u3057\u3066\u691c\u7d22\u306b\u4f7f\u3046\u8a9e\u3002\u539f\u5247\u306f\u5165\u529b\u9805\u76ee\u540d\u3092\u77ed\u304f\u3057\u305f\u3082\u306e\uff09\n  - type: string / number / date / alphanumeric / hiragana / katakana \u306e\u3044\u305a\u308c\u304b\n- normalize \u306f\u5fc5\u8981\u306a\u5834\u5408\u306e\u307f\u8ffd\u52a0\u3059\u308b\uff08\u4e0d\u8981\u306a\u3089\u51fa\u3055\u306a\u3044\uff09\n- cell_id / bbox / regex \u306f\u539f\u5247\u51fa\u3055\u306a\u3044\uff08\u5165\u529b\u306b\u300ccell_id=\u300d\u300cbbox=\u300d\u300cregex=\u300d\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u306e\u307f\u51fa\u3059\uff09\n- \u540c\u7fa9\u8a9e\u30fb\u91cd\u8907\u9805\u76ee\u304c\u3042\u308c\u3070\u7d71\u5408\u3057\u30661\u3064\u306b\u3059\u308b\uff08description \u306f\u6700\u3082\u4e00\u822c\u7684\u306a\u8a9e\u306b\u5bc4\u305b\u308b\uff09\n\n\u3010structure \u306e\u6c7a\u5b9a\u30eb\u30fc\u30eb\u3011\n- \u539f\u5247 `kv`\n- `table` \u306b\u3067\u304d\u308b\u306e\u306f\u6b21\u306e\u6761\u4ef6\u3092\u4e21\u65b9\u6e80\u305f\u3059\u3068\u304d\u3060\u3051:\n  1) \u53d6\u5f97\u9805\u76ee\u540d\u306b\u300c\u660e\u7d30\u300d\u300c\u5185\u8a33\u300d\u300c\u4e00\u89a7\u300d\u300c\u8868\u300d\u300c\u30ea\u30b9\u30c8\u300d\u300c\u884c\u300d\u300c\u30ec\u30b3\u30fc\u30c9\u300d\u300c\u5c65\u6b74\u300d\u304c\u542b\u307e\u308c\u308b\n  2) \u540c\u3058\u53d6\u5f97\u9805\u76ee\u5185\u306b\u5217\u5019\u88dc\u304c `/` \u307e\u305f\u306f `()` \u307e\u305f\u306f `:` \u3067\u5217\u6319\u3055\u308c\u3066\u3044\u308b\n     \u4f8b: `\u660e\u7d30(\u5546\u54c1\u540d/\u6570\u91cf/\u5358\u4fa1/\u91d1\u984d)` \u3084 `\u5229\u7528\u5c65\u6b74: \u65e5\u4ed8/\u5165\u5ba4/\u9000\u5ba4`\n- table \u306e\u5834\u5408:\n  - \u30d5\u30a3\u30fc\u30eb\u30c9\u5074: name / structure: table / description / type \u3092\u5fc5\u305a\u51fa\u3059\uff08type \u306f string \u3067\u3088\u3044\uff09\n  - \u5fc5\u305a `columns:` \u3092\u4f5c\u308a\u30012\u5217\u4ee5\u4e0a\u306b\u3059\u308b\n  - columns \u306e\u5404\u8981\u7d20\u306f\u5fc5\u305a name / description / type \u3092\u542b\u3081\u308b\uff08normalize \u306f\u5fc5\u8981\u306a\u5834\u5408\u306e\u307f\uff09\n\n\u3010name \u306e\u751f\u6210\u30eb\u30fc\u30eb\u3011\n- \u65e5\u672c\u8a9e\u306e\u9805\u76ee\u540d\u3092\u610f\u5473\u304c\u901a\u308b\u7bc4\u56f2\u3067\u82f1\u8a9e\u306b\u3057\u3066 snake_case \u5316\u3059\u308b\n- \u63a8\u5968\u8a9e\u5f59\uff08\u8ff7\u3063\u305f\u3089\u3053\u308c\u3092\u512a\u5148\uff09:\n  \u4f1a\u793e\u540d=company_name, \u6c0f\u540d=full_name, \u4f4f\u6240=address, \u90f5\u4fbf\u756a\u53f7=postal_code,\n  \u96fb\u8a71\u756a\u53f7=phone_number, FAX=fax_number, \u30e1\u30fc\u30eb=email, \u62c5\u5f53\u8005=person_in_charge,\n  \u8acb\u6c42\u66f8\u756a\u53f7=invoice_number, \u6ce8\u6587\u756a\u53f7=order_number, \u767b\u9332\u756a\u53f7=registration_number,\n  \u767a\u884c\u65e5=issue_date, \u8acb\u6c42\u65e5=billing_date, \u7d0d\u54c1\u65e5=delivery_date, \u652f\u6255\u671f\u9650=due_date,\n  \u5c0f\u8a08=subtotal, \u7a0e\u984d=tax_amount, \u5408\u8a08=total_amount, \u5408\u8a08\u91d1\u984d=total_amount,\n  \u6570\u91cf=quantity, \u5358\u4fa1=unit_price, \u91d1\u984d=amount, \u5546\u54c1\u540d=product, \u54c1\u540d=item_name,\n  \u660e\u7d30=items, \u5185\u8a33=breakdown, \u4e00\u89a7=list, \u5099\u8003=notes\n- \u63a8\u5968\u8a9e\u5f59\u306b\u306a\u3044\u5834\u5408\u3082\u5fc5\u305a\u82f1\u8a9e\u306b\u3057\u3066 name \u3092\u4f5c\u308b\uff08\u30ed\u30fc\u30de\u5b57\u306f\u7981\u6b62\uff09\n- table \u306e columns \u5185\u306e name \u3082\u540c\u3058\u30eb\u30fc\u30eb\u306b\u5f93\u3046\n\n\u3010type / normalize \u306e\u63a8\u5b9a\u30eb\u30fc\u30eb\u3011\n\u4ee5\u4e0b\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u304c\u9805\u76ee\u540d\u306b\u542b\u307e\u308c\u308b\u5834\u5408\u3001\u5bfe\u5fdc\u3059\u308b type / normalize \u3092\u9069\u7528\u3059\u308b\u3002\n\u4e0a\u304b\u3089\u9806\u306b\u8a55\u4fa1\u3057\u3001\u6700\u521d\u306b\u30de\u30c3\u30c1\u3057\u305f\u30eb\u30fc\u30eb\u3092\u4f7f\u3046\u3002\n\n| \u30ad\u30fc\u30ef\u30fc\u30c9 | type | normalize | \u5099\u8003 |\n|---|---|---|---|\n| \u96fb\u8a71/TEL/FAX | string | phone_jp | \u30cf\u30a4\u30d5\u30f3\u533a\u5207\u308a\u96fb\u8a71\u756a\u53f7\u306b\u6b63\u898f\u5316 |\n| \u90f5\u4fbf/\u3012 | string | postal_code_jp | 123-4567 \u5f62\u5f0f\u306b\u6b63\u898f\u5316 |\n| \u65e5\u4ed8/\u5e74\u6708\u65e5/\u767a\u884c\u65e5/\u8acb\u6c42\u65e5/\u7d0d\u54c1\u65e5/\u671f\u9650 | date | date_jp | YYYY-MM-DD \u5f62\u5f0f\u306b\u5909\u63db\u3002YYYYMMDD \u304c\u5fc5\u8981\u306a\u3089 date_yyyymmdd |\n| \u6642\u523b/\u5165\u5ba4/\u9000\u5ba4/\u958b\u59cb\u6642\u9593/\u7d42\u4e86\u6642\u9593 | string | time_hms | HH:MM:SS \u5f62\u5f0f\u306b\u5909\u63db\u3002X\u6642XX\u5206 \u5f62\u5f0f\u304c\u5fc5\u8981\u306a\u3089 time_jp |\n| \u91d1\u984d/\u5408\u8a08/\u5c0f\u8a08/\u7a0e\u984d/\u5358\u4fa1/\u6570\u91cf/\u5186/\u00a5 | number | numeric | \u6570\u5b57\u4ee5\u5916\u3092\u9664\u53bb |\n| \u4f4f\u6240/\u6240\u5728\u5730 | string | strip_spaces | \u7a7a\u767d\u3092\u9664\u53bb |\n| \u4f1a\u793e\u540d/\u6c0f\u540d/\u540d\u524d/\u540d\u79f0/\u65bd\u8a2d\u540d/\u5099\u8003 | string | strip_spaces | \u7a7a\u767d\u3092\u9664\u53bb |\n| \u756a\u53f7/ID/\u30b3\u30fc\u30c9\uff08\u96fb\u8a71\u30fb\u90f5\u4fbf\u3092\u9664\u304f\uff09 | alphanumeric | alphanumeric | \u534a\u89d2\u82f1\u6570\u5b57\u306e\u307f\u62bd\u51fa |\n| \u3072\u3089\u304c\u306a/\u3075\u308a\u304c\u306a/\u304b\u306a | hiragana | hiragana | \u30ab\u30bf\u30ab\u30ca\u2192\u3072\u3089\u304c\u306a\u5909\u63db |\n| \u30ab\u30bf\u30ab\u30ca/\u30d5\u30ea\u30ac\u30ca/\u30ab\u30ca | katakana | katakana | \u3072\u3089\u304c\u306a\u2192\u30ab\u30bf\u30ab\u30ca\u5909\u63db |\n| \u30e1\u30fc\u30eb/email | string | \uff08\u306a\u3057\uff09 | normalize \u306f\u4ed8\u3051\u306a\u3044 |\n| \u4e0a\u8a18\u306e\u3044\u305a\u308c\u306b\u3082\u8a72\u5f53\u3057\u306a\u3044 | string | \uff08\u306a\u3057\uff09 | normalize \u306f\u4ed8\u3051\u306a\u3044 |\n\n\u3010\u5229\u7528\u53ef\u80fd\u306a normalize \u4e00\u89a7\uff08\u3053\u308c\u4ee5\u5916\u306f\u4f7f\u7528\u7981\u6b62\uff09\u3011\nstrip_spaces, numeric, phone_jp, postal_code_jp,\ndate_jp, date_yyyymmdd, time_jp, time_hms,\nalphanumeric, hiragana, katakana\n\n\u3010\u51fa\u529b\u4f8b\u3011\n\n\u5165\u529b: \u4f1a\u793e\u540d, \u96fb\u8a71\u756a\u53f7, \u8acb\u6c42\u65e5, \u5408\u8a08\u91d1\u984d, \u660e\u7d30(\u5546\u54c1\u540d/\u6570\u91cf/\u91d1\u984d)\n\nfields:\n  - name: company_name\n    structure: kv\n    description: \u4f1a\u793e\u540d\n    type: string\n    normalize: strip_spaces\n  - name: phone_number\n    structure: kv\n    description: \u96fb\u8a71\u756a\u53f7\n    type: string\n    normalize: phone_jp\n  - name: billing_date\n    structure: kv\n    description: \u8acb\u6c42\u65e5\n    type: date\n    normalize: date_jp\n  - name: total_amount\n    structure: kv\n    description: \u5408\u8a08\u91d1\u984d\n    type: number\n    normalize: numeric\n  - name: items\n    structure: table\n    description: \u660e\u7d30\n    type: string\n    columns:\n      - name: product\n        description: \u5546\u54c1\u540d\n        type: string\n      - name: quantity\n        description: \u6570\u91cf\n        type: number\n        normalize: numeric\n      - name: amount\n        description: \u91d1\u984d\n        type: number\n        normalize: numeric\n\n\u4ee5\u4e0a\u306b\u5f93\u3044\u3001{ITEMS} \u304b\u3089 YAML \u3092\u751f\u6210\u3057\u3066\u51fa\u529b\u305b\u3088\u3002\n</code></pre>"},{"location":"schema_generation_prompt/#_3","title":"\u4f7f\u7528\u4f8b","text":"<p>\u5165\u529b:</p> <pre><code>\u5951\u7d04\u8005\u540d, \u4f4f\u6240, \u96fb\u8a71\u756a\u53f7, \u90f5\u4fbf\u756a\u53f7, \u5229\u7528\u5e0c\u671b\u65e5(\u65e5\u4ed8/\u5165\u5ba4/\u9000\u5ba4), \u5099\u8003\n</code></pre> <p>\u751f\u6210\u3055\u308c\u308b YAML:</p> <pre><code>fields:\n  - name: contractor_name\n    structure: kv\n    description: \u5951\u7d04\u8005\u540d\n    type: string\n    normalize: strip_spaces\n  - name: address\n    structure: kv\n    description: \u4f4f\u6240\n    type: string\n    normalize: strip_spaces\n  - name: phone_number\n    structure: kv\n    description: \u96fb\u8a71\u756a\u53f7\n    type: string\n    normalize: phone_jp\n  - name: postal_code\n    structure: kv\n    description: \u90f5\u4fbf\u756a\u53f7\n    type: string\n    normalize: postal_code_jp\n  - name: usage_schedule\n    structure: table\n    description: \u5229\u7528\u5e0c\u671b\u65e5\n    type: string\n    columns:\n      - name: date\n        description: \u65e5\u4ed8\n        type: date\n        normalize: date_jp\n      - name: check_in_time\n        description: \u5165\u5ba4\n        type: string\n        normalize: time_hms\n      - name: check_out_time\n        description: \u9000\u5ba4\n        type: string\n        normalize: time_hms\n  - name: notes\n    structure: kv\n    description: \u5099\u8003\n    type: string\n    normalize: strip_spaces\n</code></pre>"},{"location":"schemas/","title":"Module Output","text":"<p>\u5404\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51fa\u529b\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"schemas/#document-analyzer","title":"Document Analyzer","text":"<p>Document Analyzer \u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u5909\u6570\u3092 <code>tuple</code> \u3067\u51fa\u529b\u3057\u307e\u3059\u3002</p> \u5909\u6570\u540d \u578b \u8aac\u660e results <code>DocumentAnalyzerSchema</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51fa\u529b\u7d50\u679c ocr_vis <code>np.ndarray</code> | <code>None</code> AI-OCR \u306e\u51fa\u529b\u53ef\u8996\u5316\u753b\u50cf\uff08<code>visualizer=True</code> \u306e\u6642\u306e\u307f\uff09 layout_vis <code>np.ndarray</code> | <code>None</code> Layout Analyzer \u306e\u51fa\u529b\u53ef\u8996\u5316\u753b\u50cf\uff08<code>visualizer=True</code> \u306e\u6642\u306e\u307f\uff09 <p><code>results</code> \u5909\u6570\u306e\u6e96\u62e0\u3059\u308b\u30b9\u30ad\u30fc\u30de <code>DocumentAnalyzerSchema</code> \u306e\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> DocumentAnalyzerSchema No Additional Propsobject # DocumentAnalyzerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields paragraphs List of detected paragraphs Requiredarray # DocumentAnalyzerSchema \u203a paragraphs List of detected paragraphs Typearray Nested fields ParagraphSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the paragraph in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a box Bounding box of the paragraph in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the paragraph RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a contents Text content of the paragraph TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the paragraph in the document RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a order Order of the paragraph in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) TypeanyOf Nested fields Any of 1 string # Any of 2 null # tables List of detected tables Requiredarray # DocumentAnalyzerSchema \u203a tables List of detected tables Typearray Nested fields TableStructureRecognizerSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a box Bounding box of the table in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # n_row Number of rows in the table Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_row Number of rows in the table Typeinteger n_col Number of columns in the table Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_col Number of columns in the table Typeinteger rows List of table lines representing rows Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows List of table lines representing rows Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cols List of table lines representing columns Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols List of table lines representing columns Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber spans List of table lines representing spans Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans List of table lines representing spans Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cells List of table cells Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells List of table cells Typearray Nested fields TableCellSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields col Column index of the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col Column index of the cell Typeinteger row Row index of the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row Row index of the cell Typeinteger col_span Number of columns spanned by the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col_span Number of columns spanned by the cell Typeinteger row_span Number of rows spanned by the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row_span Number of rows spanned by the cell Typeinteger box Bounding box of the cell in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a box Bounding box of the cell in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the cell RequiredanyOf # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a contents Text content of the cell TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the table in the document Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a order Order of the table in the document Typeinteger words List of recognized words Requiredarray # DocumentAnalyzerSchema \u203a words List of recognized words Typearray Nested fields WordPrediction No Additional Propsobject # DocumentAnalyzerSchema \u203a words \u203a WordPrediction Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Requiredarray # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields ArrayItem array # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a points \u203a ArrayItem Typearray Constraints <ul><li>Minimum items: <code>2</code></li><li>Maximum items: <code>2</code></li></ul> Nested fields Item integer # content Text content of the word Requiredstring # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a content Text content of the word Typestring direction Text direction, e.g., 'horizontal' or 'vertical' Requiredstring # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a direction Text direction, e.g., 'horizontal' or 'vertical' Typestring rec_score Confidence score of the word recognition Requirednumber # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a rec_score Confidence score of the word recognition Typenumber det_score Confidence score of the word detection Requirednumber # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a det_score Confidence score of the word detection Typenumber figures List of detected figures Requiredarray # DocumentAnalyzerSchema \u203a figures List of detected figures Typearray Nested fields FigureSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the figure in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a box Bounding box of the figure in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # order Order of the figure in the document RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a order Order of the figure in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # paragraphs List of paragraphs associated with the figure Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs List of paragraphs associated with the figure Typearray Nested fields ParagraphSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the paragraph in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a box Bounding box of the paragraph in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the paragraph RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a contents Text content of the paragraph TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the paragraph in the document RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a order Order of the paragraph in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null #"},{"location":"schemas/#ai-ocr","title":"AI-OCR","text":"<p>AI-OCR \u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u5909\u6570\u3092 <code>tuple</code> \u3067\u51fa\u529b\u3057\u307e\u3059\u3002</p> \u5909\u6570\u540d \u578b \u8aac\u660e results <code>OCRSchema</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51fa\u529b\u7d50\u679c ocr_vis <code>np.ndarray</code> | <code>None</code> AI-OCR \u306e\u51fa\u529b\u53ef\u8996\u5316\u753b\u50cf\uff08<code>visualizer=True</code>\u306e\u6642\u306e\u307f\uff09 <p><code>results</code> \u5909\u6570\u306e\u6e96\u62e0\u3059\u308b\u30b9\u30ad\u30fc\u30de <code>OCRSchema</code> \u306e\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> OCRSchema No Additional Propsobject # OCRSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields words List of recognized words with their bounding boxes, content, direction, and scores Requiredarray # OCRSchema \u203a words List of recognized words with their bounding boxes, content, direction, and scores Typearray Nested fields WordPrediction No Additional Propsobject # OCRSchema \u203a words \u203a WordPrediction Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Requiredarray # OCRSchema \u203a words \u203a WordPrediction \u203a points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields ArrayItem array # OCRSchema \u203a words \u203a WordPrediction \u203a points \u203a ArrayItem Typearray Constraints <ul><li>Minimum items: <code>2</code></li><li>Maximum items: <code>2</code></li></ul> Nested fields Item integer # content Text content of the word Requiredstring # OCRSchema \u203a words \u203a WordPrediction \u203a content Text content of the word Typestring direction Text direction, e.g., 'horizontal' or 'vertical' Requiredstring # OCRSchema \u203a words \u203a WordPrediction \u203a direction Text direction, e.g., 'horizontal' or 'vertical' Typestring rec_score Confidence score of the word recognition Requirednumber # OCRSchema \u203a words \u203a WordPrediction \u203a rec_score Confidence score of the word recognition Typenumber det_score Confidence score of the word detection Requirednumber # OCRSchema \u203a words \u203a WordPrediction \u203a det_score Confidence score of the word detection Typenumber"},{"location":"schemas/#layout-analyzer","title":"Layout Analyzer","text":"<p>Layout Analyzer \u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u5909\u6570\u3092 <code>tuple</code> \u3067\u51fa\u529b\u3057\u307e\u3059\u3002</p> \u5909\u6570\u540d \u578b \u8aac\u660e results <code>LayoutAnalyzerSchema</code> \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51fa\u529b\u7d50\u679c layout_vis <code>np.ndarray</code> | <code>None</code> Layout Analyzer \u306e\u51fa\u529b\u53ef\u8996\u5316\u753b\u50cf\uff08<code>visualizer=True</code>\u306e\u6642\u306e\u307f\uff09 <p><code>results</code> \u5909\u6570\u306e\u6e96\u62e0\u3059\u308b\u30b9\u30ad\u30fc\u30de <code>LayoutAnalyzerSchema</code> \u306e\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> LayoutAnalyzerSchema No Additional Propsobject # LayoutAnalyzerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields paragraphs List of detected paragraphs Requiredarray # LayoutAnalyzerSchema \u203a paragraphs List of detected paragraphs Typearray Nested fields Element No Additional Propsobject # LayoutAnalyzerSchema \u203a paragraphs \u203a Element Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the layout element in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a box Bounding box of the layout element in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the layout element detection Requirednumber # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a score Confidence score of the layout element detection Typenumber role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] RequiredanyOf # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # tables List of detected tables Requiredarray # LayoutAnalyzerSchema \u203a tables List of detected tables Typearray Nested fields TableStructureRecognizerSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a box Bounding box of the table in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # n_row Number of rows in the table Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_row Number of rows in the table Typeinteger n_col Number of columns in the table Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_col Number of columns in the table Typeinteger rows List of table lines representing rows Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows List of table lines representing rows Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cols List of table lines representing columns Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols List of table lines representing columns Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber spans List of table lines representing spans Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans List of table lines representing spans Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cells List of table cells Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells List of table cells Typearray Nested fields TableCellSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields col Column index of the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col Column index of the cell Typeinteger row Row index of the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row Row index of the cell Typeinteger col_span Number of columns spanned by the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col_span Number of columns spanned by the cell Typeinteger row_span Number of rows spanned by the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row_span Number of rows spanned by the cell Typeinteger box Bounding box of the cell in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a box Bounding box of the cell in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the cell RequiredanyOf # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a contents Text content of the cell TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the table in the document Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a order Order of the table in the document Typeinteger figures List of detected figures Requiredarray # LayoutAnalyzerSchema \u203a figures List of detected figures Typearray Nested fields Element No Additional Propsobject # LayoutAnalyzerSchema \u203a figures \u203a Element Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the layout element in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a box Bounding box of the layout element in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the layout element detection Requirednumber # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a score Confidence score of the layout element detection Typenumber role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] RequiredanyOf # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # <p>Auto-generated from JSON Schema files.</p>"},{"location":"table_semantic_parser/","title":"Table Semantic Parser \u306e\u5229\u7528","text":"<p><code>TableSemanticParser</code> \u306f\u3001\u5e33\u7968\u3084\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u753b\u50cf\u304b\u3089 \u300c\u8868\uff08table\uff09\u300d\u3092\u691c\u51fa\u3057\u3066\u69cb\u9020\u5316\u3057\u3001\u3055\u3089\u306b \u30bb\u30eb\u306e\u610f\u5473\uff08header / cell \u306a\u3069\uff09 \u3084 Key-Value\uff08\u9805\u76ee\u540d\u2192\u5024\uff09 \u3068\u3044\u3063\u305f\u5f62\u3067\u610f\u5473\u69cb\u9020\u3092\u81ea\u52d5\u3067\u63a8\u5b9a\u3001\u89e3\u6790\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002</p> <p>\u6a5f\u80fd\u6982\u8981</p> <ul> <li>\u8868\u9818\u57df\u306e\u691c\u51fa</li> <li>\u30bb\u30eb\u5206\u5272\uff08\u30bb\u30eb\u5883\u754c\u306e\u63a8\u5b9a\uff09</li> <li>OCR\uff08\u30bb\u30eb\u5185\u30c6\u30ad\u30b9\u30c8\u306e\u8aad\u307f\u53d6\u308a\uff09</li> <li>\u30bb\u30eb\u5f79\u5272\u63a8\u5b9a\uff08\u30d8\u30c3\u30c0\u30fc\uff0f\u5024\uff09</li> <li>Key-Value \u63a8\u5b9a\uff08Key\u3068Value\u306e\u4e00\u5bfe\u4e00\u306e\u95a2\u9023\u3067\u8868\u3055\u308c\u308b\u30c7\u30fc\u30bf\uff09</li> <li>Grid\u69cb\u9020 \u63a8\u5b9a\uff08\u884c\u5217\u3067\u8868\u3055\u308c\u308b\u683c\u5b50\u72b6\u306e\u30c7\u30fc\u30bf\uff09</li> <li>\u8868ID\u3054\u3068\u306e\u691c\u7d22\u30fb\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08t0, t1 ...\uff09</li> </ul> <p>\u3053\u308c\u3089\u306e\u51e6\u7406\u3092\u4e00\u6c17\u901a\u8cab\u3067\u884c\u3044\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u3067\u5b9f\u969b\u306b\u6a5f\u80fd\u306b\u3064\u3044\u3066\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u4f8b\u3092\u63d0\u793a\u3057\u306a\u304c\u3089\u8aac\u660e\u3057\u307e\u3059\u3002</p> <p>\u533a\u5207\u308a\u7f6b\u7dda\u304c\u5b58\u5728\u3059\u308b\u5e33\u7968\u306e\u307f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001\u533a\u5207\u308a\u7f6b\u7dda\u304c\u5b58\u5728\u3057\u306a\u3044\u8868\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u70b9\u306b\u3064\u3044\u3066\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"table_semantic_parser/#_1","title":"\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf","text":""},{"location":"table_semantic_parser/#_2","title":"\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9","text":"demo/simple_table_semantic_analysis.py <pre><code>import cv2\nfrom pprint import pprint\n\nfrom yomitoku.table_semantic_parser import TableSemanticParser\nfrom yomitoku.data.functions import load_image\n\npath_img = \"demo/samples/table.jpg\"\n\nanalyzer = TableSemanticParser(\n    device=\"cuda\",\n    visualize=True,\n)\n\nimgs = load_image(path_img)\n\nresults, vis_layout, vis_ocr = analyzer(\n    imgs[0],\n)\n\n# \u89e3\u6790\u7d50\u679c\u3092JSON\u3067\u4fdd\u5b58\nresults.to_json(\"result.json\")\n\n# OCR\u306e\u8aad\u307f\u53d6\u308a\u7d50\u679c\u3092\u53ef\u8996\u5316\ncv2.imwrite(\"vis_ocr.jpg\", vis_ocr)\n\n# \u30bb\u30eb\u691c\u51fa\u7d50\u679c\u3092\u53ef\u8996\u5316\ncv2.imwrite(\"vis_cell.jpg\", vis_layout)\n\n\n# \u5229\u7528\u60c5\u5831\u3092\u8868\u793a\n# t0\u3068\u3044\u3046ID\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u53d6\u5f97\ntable = results.find_table_by_id(table_id=\"t0\")\n\n# \u30c6\u30fc\u30d6\u30eb\u306e\u3059\u3079\u3066\u306e\u30b9\u30ad\u30fc\u30de\u3092\u8868\u793a\npprint(table.view.kv_items_to_dict())\n\"\"\"\n&gt;&gt;{'\u5229\u7528\u76ee\u7684': '\u30bb\u30df\u30ca\u30fc', '\u5b9f\u65bd\u5185\u5bb9': 'YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a', '\u65bd\u8a2d\u540d\u79f0': 'MLism\u682a\u5f0f\u4f1a\u793e'}\n\"\"\"\n\npprint(table.view.grids_to_dict())\n\"\"\"\n&gt;&gt;[{'id': 'g0',\n&gt;&gt;  'rows': [{'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}]\n&gt;&gt;}]\n\"\"\"\n\n\n# \u89e3\u6790\u7d50\u679c\u304b\u3089\u56e3\u4f53\u540d\u3092\u691c\u7d22\u3057\u3066\u8868\u793a\ntable = results.find_table_by_id(table_id=\"t1\")\npprint(table.search_kv_items_by_key(key=\"\u56e3\u4f53\u540d\"))\n\"\"\"\n&gt;&gt; [{'key': [CellSchema(meta={}, contents='\u56e3 \u4f53 \u540d', role='header', id='c1', box=[149, 1393, 364, 1539], row=None, col=None, row_span=None, col_span=None)],\n&gt;&gt;  'value': CellSchema(meta={}, contents='\u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3', role='cell', id='c2', box=[365, 1393, 1498, 1444], row=None, col=None, row_span=None, col_span=None)},\n&gt;&gt; {'key': [CellSchema(meta={}, contents='\u56e3 \u4f53 \u540d', role='header', id='c1', box=[149, 1393, 364, 1539], row=None, col=None, row_span=None, col_span=None)],\n&gt;&gt;  'value': CellSchema(meta={}, contents='MLism \u682a\u5f0f\u4f1a\u793e', role='cell', id='c3', box=[365, 1444, 1498, 1539], row=None, col=None, row_span=None, col_span=None)}]\n\"\"\"\n\n\n# \u89e3\u6790\u7d50\u679c\u304b\u3089\u4f4f\u6240\u3092\u691c\u7d22\u3057\u3066\u8868\u793a\npprint(table.search_kv_items_by_key(key=\"\u4f4f\u6240\"))\n\"\"\"\n[{'key': [CellSchema(meta={}, contents='\u4f4f \u6240', role='header', id='c7', box=[149, 1686, 364, 1788], row=None, col=None, row_span=None, col_span=None)],\n  'value': CellSchema(meta={}, contents='\u3012277-8520\u5343\u8449\u770c\u67cf\u5e02\u82e5\u67f4 178 \u756a\u5730 4 \u67cf\u306e\u8449\u30ad\u30e3\u30f3\u30d1\u30b9 148 \u8857\u533a 2 \u30b7\u30e7\u30c3\u30d7&amp;\u30aa\u30d5\u30a3\u30b9\u68df 6F', role='cell', id='c8', box=[365, 1686, 1498, 1788], row=None, col=None, row_span=None, col_span=None)}]\n\"\"\"\n</code></pre>"},{"location":"table_semantic_parser/#table-semantic-parser_1","title":"Table Semantic Parser \u306e\u89e3\u6790\u7d50\u679c\u306e\u51fa\u529b","text":"<p>\u8a73\u7d30\u306f\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li><code>paragraphs</code> : \u6587\u7ae0\u5185\u306e\u6bb5\u843d\u3084\u30bf\u30a4\u30c8\u30eb\u306a\u3069\u306e\u6587\u7ae0\u306e\u69cb\u6210\u8981\u7d20\u306e\u60c5\u5831\u3002\u6587\u5b57\u5217\u3084\u30ec\u30a4\u30a2\u30a6\u30c8\u5185\u306e\u6587\u5b57\u5217\u306e\u60c5\u5831\u3092\u6301\u3061\u307e\u3059\u3002</li> <li><code>tables</code>: \u6587\u66f8\u5185\u306e\u4e00\u3064\u306e\u8868\u306e\u9818\u57df\u5168\u4f53\u3067\u3059\u3002\u5185\u90e8\u306b<code>cells</code>\u3084<code>kv_items</code>, <code>grids</code>\u3068\u3044\u3063\u305f\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002<ul> <li><code>cells</code> : \u30c6\u30fc\u30d6\u30eb\u5185\u306e\u60c5\u5831\u306f\u5404\u30bb\u30eb\u60c5\u5831\u3092\u4fdd\u6301\u3057\u3001\u30bb\u30eb\u306e\u5185\u90e8\u306e\u6587\u5b57\u5217\u60c5\u5831\u3001<code>header</code>\u304b<code>cell</code>\u304b\u3068\u3044\u3063\u305f\u30bb\u30eb\u306e\u5f79\u5272\u306e\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002</li> <li><code>kv_items</code>, <code>grids</code>: \u30c6\u30fc\u30d6\u30eb\u5185\u306e\u60c5\u5831\u3092\u610f\u5473\u7684\u306b\u69cb\u9020\u5316\u3057\u305f\u60c5\u5831\u3067\u3059\u3002\u8a73\u7d30\u306f\u5f8c\u6bb5\u3067\u89e3\u8aac\u3057\u307e\u3059\u3002</li> </ul> </li> <li><code>words</code>: \u6587\u66f8\u5185\u306e\u6587\u5b57\u5217\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\u6587\u5b57\u5217\u691c\u51fa\u30e2\u30c7\u30eb\u3067\u53d6\u5f97\u3057\u305f\u60c5\u5831\u3067\u4f4d\u7f6e\u60c5\u5831\u3084\u9818\u57df\u5185\u306e\u6587\u5b57\u5217\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"table_semantic_parser/#_3","title":"\u89e3\u6790\u7d50\u679c\u306e\u53ef\u8996\u5316","text":""},{"location":"table_semantic_parser/#2kv_items-grids","title":"\uff12\u3064\u306e\u69cb\u9020\u5316\u60c5\u5831\u306e\u6982\u5ff5\uff1akv_items \u3068 grids","text":"<p>Table Semantic Parser \u306f\u3001\u8868\u3092\u300c\u30bb\u30eb\u306e\u96c6\u5408\u300d\u3068\u3057\u3066\u5fa9\u5143\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u8868\u304c\u6301\u3064 \u610f\u5473\u69cb\u9020 \u3092\u63a8\u5b9a\u3057\u3066\u51fa\u529b\u3057\u307e\u3059\u3002 \u305d\u306e\u969b\u306b\u91cd\u8981\u306b\u306a\u308b\u6982\u5ff5\u304c kv_items \u3068 grids \u3067\u3059\u3002</p>"},{"location":"table_semantic_parser/#kv_itemskey-value","title":"kv_items\uff08Key-Value\uff09","text":"<p>kv_items \u306f\u3001\u8868\u306e\u4e2d\u3067 \u30d8\u30c3\u30c0\u30fc\uff08\u9805\u76ee\u540d\uff09 \u3068 \u5024 \u304c 1:1 \u3067\u5bfe\u5fdc\u3059\u308b\u60c5\u5831\u3092\u6307\u3057\u307e\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001\u30b5\u30f3\u30d7\u30eb\u5e33\u7968\u3067\u306f\u6b21\u306e\u3088\u3046\u306a\u8981\u7d20\u304c <code>kv_items</code> \u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\uff08\u53ef\u8996\u5316\u7d50\u679c\u3067\u8d64\u67a0\u3067\u56f2\u308f\u308c\u3066\u3044\u308b\u9818\u57df\u3067\u3059\u3002\uff09</p> <ul> <li><code>\u5229\u7528\u76ee\u7684</code> \u2192 <code>\u30bb\u30df\u30ca\u30fc</code></li> <li><code>\u65bd\u8a2d\u540d\u79f0</code> \u2192 <code>MLism\u682a\u5f0f\u4f1a\u793e</code></li> <li><code>\u5b9f\u65bd\u5185\u5bb9</code> \u2192 <code>YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a</code></li> </ul> <p>\u3053\u306e\u3088\u3046\u306b\u3001\u9805\u76ee\u540d\u3068\u5024\u304c\u30da\u30a2\u3068\u3057\u3066\u610f\u5473\u7684\u306b\u7d50\u3073\u3064\u304d\u3001\u8f9e\u66f8\uff08Key-Value\uff09\u3068\u3057\u3066\u6271\u3046\u306e\u304c\u81ea\u7136\u306a\u30c7\u30fc\u30bf\u3092 <code>kv_items</code> \u3068\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p>"},{"location":"table_semantic_parser/#grids","title":"grids\uff08\u683c\u5b50\u30c7\u30fc\u30bf\uff09","text":"<p>grids \u306f\u3001\u8868\u306e\u60c5\u5831\u304c \u884c\u30fb\u5217\u306e\u683c\u5b50\uff08\u30b0\u30ea\u30c3\u30c9\uff09\u69cb\u9020 \u3067\u8868\u3055\u308c\u3001\u30c7\u30fc\u30bf\u304c \u884c\u5217\u95a2\u4fc2 \u3068\u3057\u3066\u89e3\u91c8\u3067\u304d\u308b\u3082\u306e\u3092\u6307\u3057\u307e\u3059\u3002\uff08\u53ef\u8996\u5316\u7d50\u679c\u3067\u9752\u67a0\u3067\u56f2\u308f\u308c\u3066\u3044\u308b\u9818\u57df\u3067\u3059\u3002\uff09</p> <p>\u305f\u3068\u3048\u3070\u3001\u30b5\u30f3\u30d7\u30eb\u5e33\u7968\u306e\u300c\u5229\u7528\u5e0c\u671b\u65e5\u300d\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u5217\uff08\u4f8b\uff1a<code>\u65e5\u4ed8</code>, <code>\u5165\u5ba4\u6642\u523b</code>, <code>\u9000\u5ba4\u6642\u523b</code>\uff09\u3092\u6301\u3064\u7e70\u308a\u8fd4\u3057\u884c\u3068\u3057\u3066\u8868\u73fe\u3067\u304d\u3001<code>grid</code> \u306b\u8a72\u5f53\u3057\u307e\u3059\u3002</p> <ul> <li><code>2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)</code> / <code>10\u664200\u5206</code> / <code>17\u664200\u5206</code></li> <li><code>2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)</code> / <code>10\u664200\u5206</code> / <code>17\u664200\u5206</code></li> <li>\u2026\u2026</li> </ul> <p>\u3053\u306e\u3088\u3046\u306b\u3001\u884c\u304c\u30ec\u30b3\u30fc\u30c9\u304c\u8907\u6570\u5b58\u5728\u3057\u3001\u5217\u304c\u5c5e\u6027\u3068\u3057\u3066\u5b9a\u7fa9\u3067\u304d\u308b\u683c\u5b50\u72b6\u306e\u30c7\u30fc\u30bf\u3092 <code>grids</code> \u3068\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p>"},{"location":"table_semantic_parser/#cells","title":"Cells","text":"<p>\u5404\u30c6\u30fc\u30d6\u30eb\u5185\u306e\u30bb\u30eb\u306f<code>cells</code>\u3068\u547c\u3070\u308c\u308b\u30b9\u30ad\u30fc\u30de\u306b\u60c5\u5831\u304c\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u306b\u306f\u30c6\u30fc\u30d6\u30eb\u3054\u3068\u306b\u56fa\u6709\u8b58\u5225\u5b50<code>id</code>(c0\u306a\u3069)\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002 <code>kv_items</code>\u3084<code>grids</code>\u306f\u30bb\u30eb\u306eid\u306e\u60c5\u5831\u304c\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001id\u3092\u53c2\u7167\u3057\u3066\u3001\u30bb\u30eb\u60c5\u5831\u306e\u8a73\u7d30\u60c5\u5831\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001<code>kv_items</code>\u3084<code>grids</code>\u306a\u3069\u306e\u69cb\u9020\u5316\u3055\u308c\u305f\u60c5\u5831\u3092\u7528\u3044\u308b\u4ee5\u5916\u306b\u3082\u3001\u30bb\u30eb\u306e<code>id</code>\u3092\u53c2\u7167\u3057\u305f\u308a\u3001\u30bb\u30eb\u306e\u4f4d\u7f6e\u95a2\u4fc2\u304b\u3089\u7279\u5b9a\u306e\u30bb\u30eb\u60c5\u5831\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306eAPI\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"table_semantic_parser/#python-api","title":"Python API","text":"<p>Table Semantic Parser\u3067\u89e3\u6790\u3057\u305f\u7d50\u679c\u306fAPI\u3092\u4ecb\u3057\u3066\u3001ID\u3084\u6587\u5b57\u5217\u3001Key\u3092\u691c\u7d22\u3059\u308b\u3053\u3068\u3067\u3001\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u308a\u3001\u69cb\u9020\u5316\u60c5\u5831\u306b\u5909\u63db\u3001\u51fa\u529b\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u305d\u308c\u305e\u308c\u306eAPI\u306f\u66f8\u985e\u5168\u4f53\u306e\u60c5\u5831\u306b\u5bfe\u3057\u3066\u9069\u7528\u3059\u308b\u5834\u5408\u3068\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u5358\u4f4d\u306b\u9069\u7528\u3059\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 \u308f\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u3001\u66f8\u985e\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u95a2\u6570\u306f<code>results.</code>\u3092\u30c6\u30fc\u30d6\u30eb\u5358\u4f4d\u3067\u9069\u7528\u3059\u308b\u95a2\u6570\u306f<code>table.</code>\u3092\u95a2\u6570\u306e\u63a5\u982d\u8f9e\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u306b\u7d5e\u3063\u3066\u3001\u51e6\u7406\u3092\u9069\u7528\u3059\u308b\u5834\u5408\u306f\u4e8b\u524d\u306b\u4ee5\u4e0b\u306e\uff12\u3064\u306e\u95a2\u6570\u306e\u3069\u3061\u3089\u304b\u3092\u7528\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p>\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u306e\u6307\u5b9a\u306e\u65b9\u6cd5\u306fID\u306b\u3088\u308b\u6307\u5b9a\u3068\u4f4d\u7f6e\u306b\u3088\u308b\u6307\u5b9a\u306e\u306b\u30d1\u30bf\u30fc\u30f3\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u3042\u3068\u30bb\u30eb\u306e\u60c5\u5831\u3092\u6307\u5b9a\u3057\u305f\u308a\u3001\u610f\u5473\u60c5\u5831\u3092\u5229\u7528\u3057\u3066\u7279\u5b9a\u306e\u30bb\u30eb\u306e\u60c5\u5831\u3092\u62bd\u51fa\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"table_semantic_parser/#resultsfind_table_by_id","title":"results.find_table_by_id","text":"<p>ID\u306b\u3088\u3063\u3066\u6307\u5b9a\u3057\u305f\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002<code>table_id</code>\u306fJSON\u3084\u53ef\u8996\u5316\u753b\u50cf\u304b\u3089\u7279\u5b9a\u3067\u304d\u307e\u3059\u3002\u30bd\u30fc\u30c8\u3084ID\u3092\u4ed8\u4e0e\u3059\u308b\u9806\u756a\u306f\u4f4d\u7f6e\u60c5\u5831\u304b\u3089\u4e00\u610f\u306e\u9806\u5e8f\u3067\u5272\u308a\u5f53\u3066\u3066\u3044\u308b\u305f\u3081\u3001\u540c\u3058\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3042\u308c\u3070\u3001\u540c\u3058ID\u304c\u4ed8\u4e0e\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\u904e\u691c\u77e5\u3084\u691c\u77e5\u30df\u30b9\u306b\u3088\u3063\u3066ID\u304c\u5909\u308f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>table_id : str</code>: \u53d6\u5f97\u3057\u305f\u3044\u30c6\u30fc\u30d6\u30eb\u306eID</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>TableSemanticContentsSchema</code>: \u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u69cb\u9020\u5316\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>table = results.find_table_by_id(\"t0\")\n</code></pre></p>"},{"location":"table_semantic_parser/#resultsfind_table_by_position","title":"results.find_table_by_position","text":"<p>\u4f4d\u7f6e\u3092\u6307\u5b9a\u3057\u3001\u305d\u306e\u9818\u57df\u306b\u91cd\u8907\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u904e\u691c\u77e5\u3084\u691c\u77e5\u30df\u30b9\u306b\u3088\u3063\u3066\u3001ID\u3067\u6307\u5b9a\u304c\u5b89\u5b9a\u3057\u306a\u3044\u5834\u5408\u306b\u7528\u3044\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>box: List[int]</code>\uff1a<code>[x1, y1, x2, y2]</code>  \u77e9\u5f62\u9818\u57df\u306f\u5de6\u4e0a\uff08x1, y1\uff09\u3068\u53f3\u4e0b\uff08x2, y2\uff09\u306e2\u70b9\u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002x1, y1 \u306f\u9818\u57df\u306e\u5de6\u4e0a\u306e\u70b9\u306e\u5ea7\u6a19\uff08x, y\uff09\u3001x2, y2 \u306f\u9818\u57df\u306e\u53f3\u4e0b\u306e\u70b9\u306e\u5ea7\u6a19\uff08x, y\uff09\u3067\u3059\u3002</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>TableSemanticContentsSchema</code>: \u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u69cb\u9020\u5316\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>table = results.find_table_by_position([149,498,1503,1293])\n</code></pre></p>"},{"location":"table_semantic_parser/#id","title":"\u4f4d\u7f6e\u60c5\u5831\u3084\u30bb\u30eb\u3092\u8d77\u70b9\u306b\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308b\uff08ID / \u4f4d\u7f6e / \u8fd1\u508d\uff09","text":""},{"location":"table_semantic_parser/#a","title":"A. \u66f8\u985e\u5168\u4f53\u3092\u63a2\u7d22","text":"<p>\u30c6\u30fc\u30d6\u30eb\u3092\u7279\u5b9a\u305b\u305a\u3001\u66f8\u985e\u5168\u4f53\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3001\u60c5\u5831\u306e\u53d6\u5f97\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"table_semantic_parser/#resultssearch_words_by_position","title":"results.search_words_by_position","text":"<p>\u6307\u5b9a\u3057\u305f\u9818\u57df\u5185\u306b\u542b\u307e\u308c\u308b <code>words</code> \u3092\u53d6\u5f97\u3057\u3001OCR\u6587\u5b57\u5217\u3092\u78ba\u8a8d\u3059\u308b\u3002\u53d6\u5f97\u3057\u305f\u3044\u6587\u5b57\u5217\u304c\u3001\u7279\u5b9a\u306e\u4f4d\u7f6e\u306b\u3042\u308b\u3053\u3068\u304c\u4e8b\u524d\u306b\u308f\u304b\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u305d\u306e\u9818\u57df\u306e\u6587\u5b57\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u4fbf\u5229\u3067\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>box: List[int]</code>\uff1a<code>[x1, y1, x2, y2]</code>  \u77e9\u5f62\u9818\u57df\u306f\u5de6\u4e0a\uff08x1, y1\uff09\u3068\u53f3\u4e0b\uff08x2, y2\uff09\u306e2\u70b9\u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002x1, y1 \u306f\u9818\u57df\u306e\u5de6\u4e0a\u306e\u70b9\u306e\u5ea7\u6a19\uff08x, y\uff09\u3001x2, y2 \u306f\u9818\u57df\u306e\u53f3\u4e0b\u306e\u70b9\u306e\u5ea7\u6a19\uff08x, y\uff09\u3067\u3059\u3002</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>str</code>\uff1a\u9818\u57df\u306b\u542b\u307e\u308c\u308b\u6587\u5b57\u5217\u60c5\u5831</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>word = results.search_words_by_position([365, 1444, 1498, 1539])\nprint(word)\n</code></pre></p> <p>\u51fa\u529b</p> <pre><code>MLism \u682a\u5f0f\u4f1a\u793e\n</code></pre>"},{"location":"table_semantic_parser/#b-table","title":"B. \u30c6\u30fc\u30d6\u30eb\u3092\u6307\u5b9a\u3057\u3066\u63a2\u7d22\uff08table\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09","text":""},{"location":"table_semantic_parser/#tablefind_cell_by_id","title":"table.find_cell_by_id","text":"<p>\u30c6\u30fc\u30d6\u30eb\u5185\u306e\u30bb\u30eb\u306e\u7279\u5b9a\u306e<code>cell_id</code>\u3092\u6301\u3064\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u30bd\u30fc\u30c8\u3084ID\u3092\u4ed8\u4e0e\u3059\u308b\u9806\u756a\u306f\u4f4d\u7f6e\u60c5\u5831\u304b\u3089\u4e00\u610f\u306e\u9806\u5e8f\u3067\u5272\u308a\u5f53\u3066\u3066\u3044\u308b\u305f\u3081\u3001\u540c\u3058\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3042\u308c\u3070\u3001\u540c\u3058ID\u304c\u4ed8\u4e0e\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002</p> <p>\u904e\u691c\u77e5\u3084\u691c\u77e5\u30df\u30b9\u306b\u3088\u3063\u3066ID\u304c\u5909\u308f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002ID\u304c\u5909\u308f\u3063\u3066\u3057\u307e\u3046\u5834\u5408\u306f\u6b63\u3057\u304f\u60c5\u5831\u3092\u62bd\u51fa\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u30bb\u30eb\u306e\u76f8\u5bfe\u4f4d\u7f6e\u3084\u610f\u5473\u69cb\u9020\u3092\u7528\u3044\u305f\u62bd\u51fa\u65b9\u6cd5\u3092\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>cell_id: str</code>\uff1a\u30c6\u30fc\u30d6\u30ebID\uff08\u4f8b\uff1a<code>\"c0\"</code>\uff09</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>CellSchema</code>: \u30bb\u30eb\u306eID\u3001\u6587\u5b57\u60c5\u5831\u3001\u4f4d\u7f6e\u60c5\u5831\u3001\u884c\u5217\u756a\u53f7\u306a\u3069\u306e\u30bb\u30eb\u306e\u8a73\u7d30\u60c5\u5831\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>cell = table.find_cell_by_id(\"c0\")\nprint(cell.id, cell.contents, cell.box)\n</code></pre></p> <p>\u51fa\u529b \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u30bb\u30ebid\u3068\u30bb\u30eb\u5185\u306e\u6587\u5b57\u5217\u3001\u30bb\u30eb\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>c0 \u5229\u7528\u60c5\u5831 [149, 498, 1501, 550]\n</code></pre></p>"},{"location":"table_semantic_parser/#tablesearch_cells_by_query","title":"table.search_cells_by_query","text":"<p>\u30c6\u30fc\u30d6\u30eb\u5185\u306e\u30bb\u30eb\u306e\u6587\u5b57\u5217\u60c5\u5831\u306b\u90e8\u5206\u4e00\u81f4\u3059\u308b\u30bb\u30eb\u3092\u5217\u6319\u3057\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>query: str</code>: \u691c\u7d22\u3057\u305f\u3044\u6587\u5b57\u5217\u60c5\u5831</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>List[CellSchema]</code>: \u30bb\u30eb\u60c5\u5831\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>cells = table.search_cells_by_query(\"2025\")\nfor c in cells:\n    print(c.id, c.contents, c.box)\n</code></pre></p> <p>\u51fa\u529b \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306f\u30bb\u30ebid\u3068\u30bb\u30eb\u5185\u306e\u6587\u5b57\u5217\u3001\u30bb\u30eb\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>c11 2025\u5e74 01\u6708 30\u65e5(\u6708 \u66dc\u65e5) [365, 888, 946, 968]\nc14 2025\u5e74 02\u6708 1\u65e5(\u706b \u66dc\u65e5) [365, 968, 946, 1049]\n</code></pre> <p>\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9 - \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u30bb\u30eb\u60c5\u5831\u3092\u62bd\u51fa\u3057\u305f\u3044\u5834\u5408 - \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b\u30bb\u30eb\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408</p>"},{"location":"table_semantic_parser/#tablesearch_cells_right_of_key_text-below_key_text","title":"table.search_cells_right_of_key_text / below_key_text","text":"<p>\u300c\u30ad\u30fc\u6587\u5b57\u5217\u3092\u542b\u3080\u30bb\u30eb\u300d\u306e\u53f3\uff08\u307e\u305f\u306f\u4e0b\uff09\u306b\u3042\u308b\u8fd1\u508d\u30bb\u30eb\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002</p> <p>\u65e5\u672c\u8a9e\u306e\u5e33\u7968\u306e\u591a\u304f\u306f\u7279\u5b9a\u306eKey\u3092\u3082\u3061\u3001Key\u304b\u3089\u898b\u305f\u3068\u304d\u306e\u76f8\u5bfe\u7684\u306a\u4f4d\u7f6e\u306b\u53d6\u5f97\u3057\u305f\u3044\u60c5\u5831\u3092\u6301\u3064\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u6027\u8cea\u3092\u5229\u7528\u3057\u3066\u3001\u691c\u7d22\u3057\u305f\u3044\u30ad\u30fc\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3066\u3001\u53f3\u3084\u4e0b\u306b\u3042\u308b\u8fd1\u508d\u30bb\u30eb\u306e\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u30ad\u30fc\u6587\u5b57\u5217\u306f\u90e8\u5206\u4e00\u81f4\u3067\u5224\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>key: str</code>\uff08\u90e8\u5206\u4e00\u81f4\uff09</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>List[CellSchema]</code>: \u30bb\u30eb\u60c5\u5831\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code># \u5b9f\u65bd\u5185\u5bb9\u3068\u3044\u3046\u30bb\u30eb\u306e\u53f3\u306e\u8fd1\u508d\u30bb\u30eb\u306e\u60c5\u5831\u3092\u53d6\u5f97\nvals = table.search_cells_right_of_key_text(\"\u5b9f\u65bd\u5185\u5bb9\")\nfor v in vals:\n    print(v.id, v.contents)\n\n# \u5b9f\u65bd\u5185\u5bb9\u3068\u3044\u3046\u30bb\u30eb\u306e\u76f4\u4e0b\u306b\u3042\u308b\u30bb\u30eb\u306e\u60c5\u5831\u3092\u53d6\u5f97\nvals = table.search_cells_below_key_text(\"\u5b9f\u65bd\u5185\u5bb9\")\nfor v in vals:\n    print(v.id, v.contents)\n</code></pre></p> <p>\u51fa\u529b</p> <pre><code>c6 YomiToku \u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\nc7 \u5229\u7528\u5e0c\u671b\u65e5\n</code></pre>"},{"location":"table_semantic_parser/#kv_items-grids","title":"\u610f\u5473\u69cb\u9020\u3092\u8d77\u70b9\u306b\u60c5\u5831\u3092\u62bd\u51fa\u3059\u308b\uff08kv_items / grids\uff09","text":"<p>\u610f\u5473\u69cb\u9020\u8d77\u70b9\u306e\u53d6\u5f97\u65b9\u6cd5\u306f\u3001\u30ad\u30fc\u304b\u3089\u5024\u306e\u5bfe\u5fdc\uff08kv_items\uff09 \u3084 \u884c\u5217\u69cb\u9020\uff08grids\uff09 \u3092\u5229\u7528\u3057\u307e\u3059\u3002\u66f8\u985e\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3086\u308c\u306a\u3069\u8efd\u5fae\u306a\u5909\u66f4\u306b\u9811\u5065\u306a\u7279\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u69cb\u9020\u5316\u306f\u81ea\u52d5\u3067\u63a8\u5b9a\u3059\u308b\u305f\u3081\u3001\u89e3\u6790\u306b\u5931\u6557\u3059\u308b\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3059\u3002\u3046\u307e\u304f\u53d6\u5f97\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u30bb\u30ebID\u3084\u30bb\u30eb\u306e\u76f8\u5bfe\u4f4d\u7f6e\u3067\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"table_semantic_parser/#a_1","title":"A. \u5168\u4f53\u3092\u63a2\u7d22\uff08\u30c6\u30fc\u30d6\u30eb\u975e\u6307\u5b9a\uff09","text":""},{"location":"table_semantic_parser/#resultssearch_kv_items_by_key","title":"results.search_kv_items_by_key","text":"<p>\u89e3\u6790\u7d50\u679c\u5168\u4f53\uff08\u8907\u6570\u30c6\u30fc\u30d6\u30eb\u3092\u542b\u3080\uff09\u304b\u3089\u3001\u30ad\u30fc\u306b\u90e8\u5206\u4e00\u81f4\u3059\u308b <code>kv_items</code> \u3092\u63a2\u7d22\u3059\u308b\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>key: str</code>\uff1a\u691c\u7d22\u30ad\u30fc\uff08\u90e8\u5206\u4e00\u81f4\uff09</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>List[dict]</code>\uff1a\u5404\u8981\u7d20\u304c <code>{\"key\": [CellSchema, ...], \"value\": [CellSchema, ...]}</code></li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>kv_items = results.search_kv_items_by_key(key=\"\u56e3\u4f53\u540d\")\nfor kv in kv_items:\n    keys = \"_\".join([k.contents for k in kv[\"key\"]])\n    val = kv[\"value\"].contents\n    print(keys, val)\n</code></pre></p> <p>\u51fa\u529b \u3053\u3053\u3067\u306fKey\u3068Value\u306b\u542b\u307e\u308c\u308b\u30bb\u30eb\u306e\u30c6\u30ad\u30b9\u30c8\u60c5\u5831\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>\u56e3 \u4f53 \u540d \u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3\n\u56e3 \u4f53 \u540d MLism \u682a\u5f0f\u4f1a\u793e\n</code></pre> <p>\u5099\u8003 \u30bb\u30eb\u304c\u30cd\u30b9\u30c8\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u8907\u6570\u306eKey\u3092\u6301\u3064\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081<code>key</code> \u306e\u307f\u8907\u6570\u5f62\u306e\u30ea\u30b9\u30c8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u691c\u7d22\u3057\u305f\u3068\u304d\u306b\u8907\u6570\u306evalue\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001\u30ea\u30b9\u30c8\u3067\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"table_semantic_parser/#b-table_1","title":"B. \u30c6\u30fc\u30d6\u30eb\u3092\u6307\u5b9a\u3057\u3066\u63a2\u7d22\uff08table\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff09","text":""},{"location":"table_semantic_parser/#tablesearch_kv_items_by_key","title":"table.search_kv_items_by_key","text":"<p>\u30c6\u30fc\u30d6\u30eb <code>t0</code> \u5185\u3060\u3051\u306b\u9650\u5b9a\u3057\u3066\u3001\u30ad\u30fc\u90e8\u5206\u4e00\u81f4\u306ekv_items\u3092\u63a2\u7d22\u3059\u308b\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>key: str</code></li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>List[dict]</code>\uff1a<code>{\"key\": [CellSchema], \"value\": [CellSchema]}</code> \u5f62\u5f0f</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>hits = table.search_kv_items_by_key(key=\"\u5229\u7528\u76ee\u7684\")\nprint(hits)\n</code></pre></p> <p>\u51fa\u529b</p> <pre><code>[\n    {\n        'key': [\n            CellSchema(\n                meta={},\n                contents='\u5229 \u7528 \u76ee \u7684',\n                role='header',\n                id='c3',\n                box=[149, 645, 364, 741],\n                row=None,\n                col=None,\n                row_span=None,\n                col_span=None\n            )\n        ], \n        'value': CellSchema(\n            meta={}, \n            contents='\u30bb\u30df\u30ca\u30fc', \n            role='cell', \n            id='c4', \n            box=[365, 645, 1498, 741], \n            row=None, \n            col=None, \n            row_span=None, \n            col_span=None\n        )\n    }\n]\n</code></pre>"},{"location":"table_semantic_parser/#tableviewkv_items_to_dict","title":"table.view.kv_items_to_dict","text":"<p>kv_items \u306e\u30bb\u30eb\u53c2\u7167\u3092\u5c55\u958b\u3057\u3001\u8f9e\u66f8\uff08key\u6587\u5b57\u5217 \u2192 value\u6587\u5b57\u5217\uff09\u3068\u3057\u3066\u6271\u3048\u308b\u5f62\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p> <p>\u623b\u308a\u5024</p> <p>dict[str, str]</p> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>kv = table.view.kv_items_to_dict()\nprint(kv)\nprint(kv.get(\"\u5229\u7528\u76ee\u7684\"))\n</code></pre></p> <p>\u51fa\u529b <pre><code>{\n  \"\u65bd\u8a2d\u540d\u79f0\": \"MLism\u682a\u5f0f\u4f1a\u793e\",\n  \"\u5229\u7528\u76ee\u7684\": \"\u30bb\u30df\u30ca\u30fc\",\n  \"\u5b9f\u65bd\u5185\u5bb9\": \"YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\"\n}\n\u30bb\u30df\u30ca\u30fc\n</code></pre></p>"},{"location":"table_semantic_parser/#tableviewgrids_to_dict","title":"table.view.grids_to_dict()","text":"<p><code>grid</code>\u306e\u69cb\u9020\u5316\u60c5\u5831\u3092\u30ec\u30b3\u30fc\u30c9\u5217(\u8f9e\u66f8)\u306b\u5909\u63db\u3059\u308b</p> <p>\u623b\u308a\u5024</p> <ul> <li><code>list[dict]</code>\uff1a<code>[{ \"id\": grid_id, \"rows\": [ {...}, ...]}]</code></li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>grids = table.view.grids_to_dict()\nfor g in grids:\n    print(\"grid:\", g[\"id\"])\n    for row in g[\"rows\"]:\n        print(row)\n</code></pre></p> <p>\u51fa\u529b grid\u306e\u60c5\u5831\u304c\u8f9e\u66f8\u5f62\u5f0f\u306e\u30ec\u30b3\u30fc\u30c9\u306e\u30ea\u30b9\u30c8\u3068\u3057\u3066\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u8907\u6570\u306egrid\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u3082\u3042\u308b\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u8b58\u5225\u3059\u308b\u305f\u3081\u306eid\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>grid: g0\n{'\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'}\n{'\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n</code></pre>"},{"location":"table_semantic_parser/#json-csv","title":"\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\uff08JSON / CSV\uff09","text":"<p>\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306f\u3001\u610f\u5473\u89e3\u6790\u306e\u7d50\u679c\u3092JSON\u3084CSV\u5f62\u5f0f\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3001\u30b7\u30b9\u30c6\u30e0\u9593\u306e\u9023\u643a\u3092\u884c\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u66f8\u985e\u5168\u4f53\u306e\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\u3001\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u6307\u5b9a\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"table_semantic_parser/#a_2","title":"A. \u66f8\u985e\u5168\u4f53\u306e\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b","text":""},{"location":"table_semantic_parser/#resultsto_json","title":"results.to_json","text":"<p>\u66f8\u985e\u5168\u4f53\u306e\u89e3\u6790\u7d50\u679c\u3092JSON\u3067\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>out_path: str</code>: \u51fa\u529b\u5148\u306eJSON\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>analyzer = TableSemanticParser(\n    device=\"cuda\",\n    visualize=True,\n)\nimgs = load_pdf(path_img)\nresults, vis_layout, vis_ocr = analyzer(imgs[0])\n\n# \u66f8\u985e\u306e\u89e3\u6790\u7d50\u679c\u3092JSON\u3067\u4fdd\u5b58\u3059\u308b\nresults.to_json(\"out/result.json\")\n</code></pre></p>"},{"location":"table_semantic_parser/#tablesemanticparserschemaload_json","title":"TableSemanticParserSchema.load_json","text":"<p>load_json \u306f \u300c\u89e3\u6790\u7d50\u679c\u3092\u4fdd\u5b58\u3057\u305fJSON\u3092\u8aad\u307f\u8fbc\u307f\u3001TableSemanticParserSchema\uff08= results\uff09\u3068\u3057\u3066\u5fa9\u5143\u3059\u308b\u300d\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002AI\u306b\u3088\u308b\u518d\u51e6\u7406\u3092\u884c\u308f\u305a\u306b\u5f8c\u6bb5\u306e\u62bd\u51fa\u51e6\u7406\u306e\u518d\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002\u51e6\u7406\u679a\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u306fAI\u3092\u547c\u3073\u51fa\u3057\u305f\u5834\u5408\u306e\u307f\u5b9f\u65bd\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>load_json</code>\u3067\u8aad\u307f\u8fbc\u3093\u3060\u7d50\u679c\u306b\u5bfe\u3057\u3066\u3001\u62bd\u51fa\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3066\u3082\u51e6\u7406\u679a\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002</p> <p>\u958b\u767a\u3001\u691c\u8a3c\u6bb5\u968e\u3001\u51e6\u7406\u6642\u9593\u3092\u524a\u6e1b\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306f<code>to_json</code>\u3067\u4e00\u5ea6\u3001\u4fdd\u5b58\u3057\u3001\u518d\u5ea6\u3001<code>load_json</code>\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>json_path: str</code>: \u51fa\u529b\u5148\u306eJSON\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>from yomitoku.schemas.table_semantic_parser import TableSemanticParserSchema\n\njson_path = \"out/result.json\"\nresults = TableSemanticParserSchema.load_json(json_path)\n</code></pre></p>"},{"location":"table_semantic_parser/#resultsto_dict","title":"results.to_dict","text":"<p><code>to_dict</code> \u306f\u3001\u66f8\u985e\u5168\u4f53\u306b\u542b\u307e\u308c\u308b \u3059\u3079\u3066\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u3064\u3044\u3066\u3001 - kv_items\uff08Key-Value \u69cb\u9020\uff09 - grids\uff08\u884c\u5217\u69cb\u9020\uff09 \u3092\u30c6\u30fc\u30d6\u30ebID\u5358\u4f4d\u3067\u307e\u3068\u3081\u3001Python \u306e dict(\u69cb\u9020\u5316\u60c5\u5831) \u3068\u3057\u3066\u8fd4\u5374\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002 \u30bb\u30eb\u306e\u4f4d\u7f6e\u60c5\u5831\u306a\u3069\u306e\u60c5\u5831\u3092\u524a\u6e1b\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u60c5\u5831\u3067\u69cb\u6210\u3055\u308c\u308b\u69cb\u9020\u5316\u30c7\u30fc\u30bf\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p> <p>\u89e3\u6790\u7d50\u679c\u3092 \u305d\u306e\u307e\u307e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30ed\u30b8\u30c3\u30af\u3084API\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u6271\u3044\u305f\u3044\u5834\u5408\u3001\u66f8\u985e\u5168\u4f53\u306e\u69cb\u9020\u5316\u60c5\u5831\u3092\u751f\u6210AI\u306e\u5165\u529b\u3068\u3057\u3066\u4e0e\u3048\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u9069\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>from pprint import pprint\nparsed = results.to_dict()\npprint(parsed)\n</code></pre></p> <p>\u51fa\u529b <pre><code>{\n    't0': {\n        'grids': [\n            {\n                'id': 'g0',\n                'rows': [\n                    {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206','\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)','\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206','\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)','\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}]\n            }\n        ],\n        'kv_items': {\n            '\u5229\u7528\u76ee\u7684': '\u30bb\u30df\u30ca\u30fc',\n            '\u5b9f\u65bd\u5185\u5bb9': 'YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a',\n            '\u65bd\u8a2d\u540d\u79f0': 'MLism\u682a\u5f0f\u4f1a\u793e'\n        }\n    },\n    't1': {\n        'grids': [],\n        'kv_items': {\n            '\u4ee3\u8868\u8005_0': '\u30ad\u30ce\u30b7\u30bf\u30b3\u30a6\u30bf\u30ed\u30a6',\n            '\u4ee3\u8868\u8005_1': '\u6728\u4e4b\u4e0b\u6ec9\u5927\u90ce',\n            '\u4f4f\u6240': '\u3012277-8520\u5343\u8449\u770c\u67cf\u5e02\u82e5\u67f4178\u756a\u57304\u67cf\u306e\u8449\u30ad\u30e3\u30f3\u30d1\u30b9148\u8857\u533a2\u30b7\u30e7\u30c3\u30d7&amp;\u30aa\u30d5\u30a3\u30b9\u68df6F',\n            '\u56e3\u4f53\u540d_0': '\u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3',\n            '\u56e3\u4f53\u540d_1': 'MLism\u682a\u5f0f\u4f1a\u793e',\n            '\u96fb\u8a71\u756a\u53f7': '090-1234-5678'\n        }\n    }\n}\n</code></pre></p>"},{"location":"table_semantic_parser/#b","title":"B. \u30c6\u30fc\u30d6\u30eb\u5358\u4f4d\u3067\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b","text":""},{"location":"table_semantic_parser/#tablekv_items_to_json","title":"table.kv_items_to_json","text":"<p>\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u542b\u307e\u308c\u308b<code>kv_items</code>\u3092\u4e00\u3064\u306eJSON\u306b\u307e\u3068\u3081\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>out_path: str</code></li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>dict</code>\uff08\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u306b\u52a0\u3048\u3001\u30e1\u30e2\u30ea\u4e0a\u306e\u8f9e\u66f8\u3082\u8fd4\u308b\u5b9f\u88c5\uff09</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>table = results.find_table_by_id(\"t0\")\nkv = table.export.kv_items_to_json(\"out/kv_items.json\")\nprint(kv)\n</code></pre></p> <p>\u51fa\u529b</p> <pre><code>{\n    \"\u65bd\u8a2d\u540d\u79f0\": \"MLism\u682a\u5f0f\u4f1a\u793e\",\n    \"\u5229\u7528\u76ee\u7684\": \"\u30bb\u30df\u30ca\u30fc\",\n    \"\u5b9f\u65bd\u5185\u5bb9\": \"YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\"\n}\n</code></pre>"},{"location":"table_semantic_parser/#tablegrids_to_json","title":"table.grids_to_json","text":"<p>\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u542b\u307e\u308c\u308b<code>grids</code>\u3092\u4e00\u3064\u306ejson\u306b\u307e\u3068\u3081\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u8907\u6570\u306e<code>grid</code>\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001\u30ea\u30b9\u30c8\u5f62\u5f0f\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>out_path: str</code></li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>list[dict]</code>: grid\u3092\u30ec\u30b3\u30fc\u30c9\u5217\u306b\u5909\u63db\u3057\u305f\u8f9e\u66f8\u30c7\u30fc\u30bf</li> </ul> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>table = results.find_table_by_id(\"t0\")\ngrids = table.export.grids_to_json(\"out/grids.json\")\nprint(grids)\n</code></pre></p> <p>\u51fa\u529b</p> <pre><code>[\n    {\n        \"id\": \"g0\",\n        \"rows\": [\n            {\n                \"\u65e5\u4ed8\": \"2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"10\u664200\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"17\u664200\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"10\u664200\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"17\u664200\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            }\n        ]\n    }\n]\n</code></pre>"},{"location":"table_semantic_parser/#tablegrids_to_csv","title":"table.grids_to_csv","text":"<p>\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u542b\u307e\u308c\u308b<code>grids</code>\u3092CSV\u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3068\u3057\u307e\u3059\u3002\u5217\u540d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u7279\u5b9a\u306e\u60c5\u5831\u306e\u307f\u3092\u51fa\u529b\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u5f15\u6570</p> <ul> <li><code>out_path: str</code>: \u51fa\u529b\u5148\u306eCSV\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9</li> <li><code>columns: List[str] | None = None</code>: \u51fa\u529b\u3057\u305f\u3044\u5217\u540d\u3002\u5217\u540d\u306f\u90e8\u5206\u4e00\u81f4\u3067\u691c\u7d22\u3055\u308c\u307e\u3059\u3002</li> <li><code>ignore_space: bool = True</code>: \u30b9\u30da\u30fc\u30b9\u3092\u9664\u53bb\u3057\u3066\u51fa\u529b\u3092\u884c\u3046\u304b</li> </ul> <p>\u623b\u308a\u5024</p> <ul> <li><code>List[List[str]]</code>\uff08CSV\u306e2\u6b21\u5143\u914d\u5217\uff09</li> </ul> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u5217\u540d\u3092\u6307\u5b9a\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\u5217\u540d\u3092\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306fgrid\u5185\u306e\u3059\u3079\u3066\u306e\u60c5\u5831\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002</p> <p>\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 <pre><code>table = results.find_table_by_id(\"t0\")\ncsvs = table.export.grids_to_csv(\"out/grid.csv\", columns=[\"\u5165\u5ba4\", \"\u9000\u5ba4\"])\n</code></pre></p> <p>\u51fa\u529b</p> <p>\u5165\u5ba4\u3068\u9000\u5ba4\u306e\u307f\u3092\u5217\u306b\u6307\u5b9a\u3057\u3066\u51fa\u529b</p> <pre><code>\u5165\u5ba4\u6642\u523b,\u9000\u5ba4\u6642\u523b\n10\u664200\u5206,17\u664200\u5206\n10\u664200\u5206,17\u664200\u5206\n\u6642\u5206,\u6642\u5206\n\u6642\u5206,\u6642\u5206\n\u6642\u5206,\u6642\u5206\n</code></pre> <p>\u751f\u6210\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u540d</p> <ul> <li><code>out/grid_0.csv</code> \u306e\u3088\u3046\u306b grid_id \u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002\u30c6\u30fc\u30d6\u30eb\u5185\u306b\u8907\u6570\u306egrids\u304c\u542b\u307e\u308c\u308b\u5834\u5408\u306f<code>out/grid_1.csv</code>\u306e\u3088\u3046\u306b\u63a5\u5c3e\u5b57\u304c\u5909\u5316\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"en/cli/","title":"CLI Usage","text":"<p>This page explains how to use YomiToku as a command-line interface (CLI).</p> <p>The model weight files are downloaded from Hugging Face Hub only during the first execution.</p> <pre><code>yomitoku ${path_data} -v -o results\n</code></pre> Option Name Description <code>${path_data}</code> Specifies the path to the directory containing images or the path to an image file. <code>-o</code>, <code>--outdir</code> Specifies the output directory (will be created if it doesn't exist). <code>-v</code>, <code>--vis</code> Outputs a visualization image of the analysis results. <p>Supplement: About <code>${path_data}</code></p> <ul> <li>An image file or a directory can be specified.</li> <li>If a directory is specified, it will be processed recursively, including subdirectories.</li> <li>The supported file formats are <code>pdf</code>, <code>jpeg</code>, <code>png</code>, <code>bmp</code>, and <code>tiff</code>.</li> </ul> <p>Note</p> <ul> <li>Only printed text recognition is supported. While it may occasionally read handwritten text, official support is not provided.</li> <li>YomiToku is optimized for document OCR and is not designed for scene OCR (e.g., text printed on non-paper surfaces like signs).</li> <li>The resolution of input images is critical for improving the accuracy of AI-OCR recognition. Low-resolution images may lead to reduced recognition accuracy. It is recommended to use images with a minimum short side resolution of 720px for inference.</li> </ul>"},{"location":"en/cli/#reference-for-help","title":"Reference for Help","text":"<p>Displays the options available for the CLI using \u3000<code>--help</code>, <code>-h</code></p> <pre><code>yomitoku -h\n</code></pre>"},{"location":"en/cli/#running-in-lightweight-mode","title":"Running in Lightweight Mode","text":"<p>By using the --lite option, it is possible to perform inference with a lightweight model. This enables faster analysis compared to the standard mode. However, the accuracy of character recognition may decrease.</p> <pre><code>yomitoku ${path_data} --lite -v\n</code></pre>"},{"location":"en/cli/#specifying-output-format","title":"Specifying Output Format","text":"<p>You can specify the output format of the analysis results using the --format or -f option. Supported output formats include JSON, CSV, HTML, and MD (Markdown).</p> <pre><code>yomitoku ${path_data} -f md\n</code></pre> <p>If <code>pdf</code> is specified, the system will recognize the text within the image using OCR and embed the text information as an invisible layer to convert it into a searchable PDF.</p>"},{"location":"en/cli/#specifying-the-output-device","title":"Specifying the Output Device","text":"<p>You can specify the device for running the model using the -d or --device option. Supported options are cuda, cpu, and mps. If a GPU is not available, inference will be performed on the CPU. (Default: cuda)</p> <pre><code>yomitoku ${path_data} -d cpu\n</code></pre>"},{"location":"en/cli/#ignoring-line-breaks","title":"Ignoring Line Breaks","text":"<p>In the normal mode, line breaks are applied based on the information described in the image. By using the --ignore_line_break option, you can ignore the line break positions in the image and return the same sentence within a paragraph as a single connected output.</p> <pre><code>yomitoku ${path_data} --ignore_line_break\n</code></pre>"},{"location":"en/cli/#outputting-figures-and-graph-images","title":"Outputting Figures and Graph Images","text":"<p>In the normal mode, information about figures or images contained in document images is not output. By using the --figure option, you can extract figures and images included in the document image, save them as separate image files, and include links to the detected individual images in the output file.</p> <pre><code>yomitoku ${path_data} --figure\n</code></pre>"},{"location":"en/cli/#outputting-text-contained-in-figures-and-images","title":"Outputting Text Contained in Figures and Images","text":"<p>In normal mode, text information contained within figures or images is not included in the output file. By using the --figure_letter option, text information within figures and images will also be included in the output file.</p> <pre><code>yomitoku ${path_data} --figure_letter\n</code></pre>"},{"location":"en/cli/#specifying-the-character-encoding-of-the-output-file","title":"Specifying the Character Encoding of the Output File","text":"<p>You can specify the character encoding of the output file using the --encoding option. Supported encodings include <code>utf-8</code>, <code>utf-8-sig</code>, <code>shift-jis</code>, <code>enc-jp</code>, and <code>cp932</code>. If unsupported characters are encountered, they will be ignored and not included in the output.</p> <pre><code>yomitoku ${path_data} --encoding utf-8-sig\n</code></pre>"},{"location":"en/cli/#specifying-the-path-to-config-files","title":"Specifying the Path to Config Files","text":"<p>The following options are used to specify the path to the YAML configuration file for each respective module.</p> Option Name Target Model <code>--td_cfg</code> Text Detector (TD) <code>--tr_cfg</code> Text Recognizer (TR) <code>--lp_cfg</code> Layout Parser (LP) <code>--tsr_cfg</code> Table Structure Recognizer (TSR) <pre><code>yomitoku ${path_data} --td_cfg ${path_yaml}\n</code></pre>"},{"location":"en/cli/#do-not-include-metadata-in-the-output-file","title":"Do not include metadata in the output file","text":"<p>You can exclude metadata such as headers and footers from the output file.</p> <pre><code>yomitoku ${path_data} --ignore_meta\n</code></pre>"},{"location":"en/cli/#combine-multiple-pages","title":"Combine multiple pages","text":"<p>If the PDF contains multiple pages, you can export them as a single file.</p> <pre><code>yomitoku ${path_data} -f md --combine\n</code></pre>"},{"location":"en/cli/#setting-the-pdf-reading-resolution","title":"Setting the PDF Reading Resolution","text":"<p>Specifies the resolution (DPI) when reading a PDF (default DPI = 200). Increasing the DPI value may improve recognition accuracy when dealing with fine text or small details within the PDF.</p> <pre><code>yomitoku ${path_data} --dpi 250\n</code></pre>"},{"location":"en/cli/#specifying-reading-order","title":"Specifying Reading Order","text":"<p>By default, the reading order option is set to <code>auto</code>.</p> <p>When <code>auto</code> is specified, the system identifies the document's orientation (horizontal or vertical) and automatically estimates the reading order. Specifically, the order is estimated as <code>top2left</code> for horizontal documents and <code>top2bottom</code> for vertical documents.</p> <p>The reading order can also be specified manually, as follows:</p> <pre><code>yomitoku ${path_data} --reading_order left2right\n</code></pre> Setting Name Preferred Reading Order Valid Document Types <code>top2bottom</code> Top to Bottom Column-formatted Word documents, etc. <code>left2right</code> Left to Right Layouts where keys and values are in columns (e.g., receipts, insurance cards) <code>right2left</code> Right to Left Vertically written documents"},{"location":"en/cli/#specifying-pages-to-process","title":"Specifying Pages to Process","text":"<p>You can choose to process only specific pages. Pages can be specified either as a comma-separated list or as a range using a hyphen.</p> <pre><code>yomitoku ${path_data} --pages 1,3-5,10\n</code></pre>"},{"location":"en/commercial_use_guideline/","title":"YomiToku Usage Guideline (Supplement to CC BY-NC-SA)","text":"<p>This guideline provides supplemental clarification for using YomiToku OSS (the \u201cSoftware\u201d) under the CC BY-NC-SA (Non-Commercial + ShareAlike) license.</p> <p>This document does not modify the license terms themselves. Its purpose is to clarify the practical boundary between non-commercial and commercial use.</p>"},{"location":"en/commercial_use_guideline/#1-permitted-use-as-non-commercial-nc-free-of-charge","title":"1. Permitted Use as Non-Commercial (NC) \u2014 Free of Charge","text":"<p>The following use cases are considered Non-Commercial (NC) and do not require a commercial license.</p>"},{"location":"en/commercial_use_guideline/#1-1-internal-proof-of-concept-poc-evaluation-and-technical-verification","title":"1-1. Internal Proof-of-Concept (PoC), Evaluation, and Technical Verification","text":"<ul> <li>Accuracy evaluation using internal datasets</li> <li>Algorithm / model comparison</li> <li>Technology assessment not intended for production use</li> <li>Internal-only demo creation</li> </ul>"},{"location":"en/commercial_use_guideline/#1-2-academic-research-educational-use","title":"1-2. Academic Research / Educational Use","text":"<ul> <li>Use within universities, laboratories, and educational institutions</li> <li>Use for research papers or academic studies</li> </ul> <p>However, if the research outputs are used commercially, a separate commercial agreement is required.</p>"},{"location":"en/commercial_use_guideline/#1-3-unpaid-poc-with-external-clients-important","title":"1-3. \u201cUnpaid\u201d PoC with External Clients (Important)","text":"<p>Even when external clients are involved, the use is considered Non-Commercial (NC) only if all of the following conditions are satisfied:</p> <ul> <li>No compensation (e.g., PoC fees, service fees, development fees) is received from the client</li> <li>PoC outputs are not used in production</li> <li>The client does not gain business value (e.g., revenue increase, productivity improvement, cost reduction)</li> <li>Deliverables, code, and outputs are not used commercially</li> </ul>"},{"location":"en/commercial_use_guideline/#2-activities-considered-commercial-use-outside-nc-scope","title":"2. Activities Considered Commercial Use (Outside NC Scope)","text":"<p>The following use cases are classified as commercial use and require a commercial license or a separate agreement.</p>"},{"location":"en/commercial_use_guideline/#2-1-paid-poc-provided-to-external-clients","title":"2-1. Paid PoC Provided to External Clients","text":"<ul> <li>Receiving PoC fees or service fees</li> <li>Offering PoC as a paid package</li> <li>Conducting PoC as part of a contracted project</li> </ul> <p>\u2192 Regardless of the label \u201cPoC,\u201d any monetary compensation constitutes commercial use.</p>"},{"location":"en/commercial_use_guideline/#2-2-integration-into-production-systems-or-business-operations","title":"2-2. Integration into Production Systems or Business Operations","text":"<ul> <li>Automating or optimizing internal business workflows</li> <li>Integration into RPA or batch-processing pipelines</li> <li>Use within long-running internal systems</li> <li>Use as part of client-facing products or services</li> </ul>"},{"location":"en/commercial_use_guideline/#2-3-resale-oem-saas-and-secondary-distribution","title":"2-3. Resale, OEM, SaaS, and Secondary Distribution","text":"<ul> <li>Providing products/services that embed this Software</li> <li>Use in SaaS, APIs, or proprietary products</li> <li>Incorporating the Software into deliverables provided to clients</li> <li>OEM, reseller, or partner distribution models</li> </ul>"},{"location":"en/commercial_use_guideline/#2-4-use-in-contracted-development-or-consulting-services","title":"2-4. Use in Contracted Development or Consulting Services","text":"<ul> <li>Use to fulfill client requirements in a contracted project</li> <li>Inclusion in deliverables (software, documents, extracted data)</li> <li>Use as part of BPO or outsourcing operations</li> </ul>"},{"location":"en/commercial_use_guideline/#2-5-internal-use-for-business-efficiency-or-cost-reduction","title":"2-5. Internal Use for Business Efficiency or Cost Reduction","text":"<p>Internal use does not automatically qualify as non-commercial.</p> <ul> <li>Large-scale document/PDF processing for operational efficiency</li> <li>Use for productivity improvement or cost savings</li> <li>Embedding in production workflows within the company</li> </ul> <p>\u2192 Such use directly contributes to business operations and is therefore commercial.</p>"},{"location":"en/commercial_use_guideline/#2-6-commercial-use-or-distribution-of-output-results","title":"2-6. Commercial Use or Distribution of Output Results","text":"<p>Warning</p> <p>Important: Providing Output Results (Outputs) to Third Parties Is Commercial Use</p> <p>Providing outputs generated by YomiToku to external parties constitutes commercial use, because it delivers business value created by the Software.</p> <p>Examples include:</p> <ul> <li>Providing OCR text to a client</li> <li>Including extracted/parsed results in deliverables</li> <li>Delivering processed PDFs/CSVs/JSONs to clients</li> <li>Using YomiToku outputs as part of SaaS functionality</li> <li>Using YomiToku outputs in an RPA pipeline to perform client work</li> <li>Providing \u201cdocuments processed by YomiToku\u201d to any third party</li> </ul> <p>\u2192 If the outputs generate business value, it is commercial use.</p>"},{"location":"en/commercial_use_guideline/#3-practical-criteria-for-determining-commercial-use","title":"3. Practical Criteria for Determining Commercial Use","text":"<p>If any of the following conditions apply, the use is highly likely to be commercial:</p>"},{"location":"en/commercial_use_guideline/#3-1-is-monetary-compensation-involved","title":"\u2714 3-1. Is monetary compensation involved?","text":"<p>\u2192 If yes, commercial.</p>"},{"location":"en/commercial_use_guideline/#3-2-does-the-use-create-business-value-revenue-or-cost-reduction","title":"\u2714 3-2. Does the use create business value (revenue or cost reduction)?","text":"<p>\u2192 If yes, commercial.</p>"},{"location":"en/commercial_use_guideline/#3-3-are-outputs-delivered-to-external-parties","title":"\u2714 3-3. Are outputs delivered to external parties?","text":"<p>\u2192 Once outputs are provided, it is commercial.</p>"},{"location":"en/commercial_use_guideline/#4-when-the-guideline-does-not-clarify-your-case","title":"4. When the Guideline Does Not Clarify Your Case","text":"<p>If your use case is not clearly covered by this guideline, please contact us for clarification:</p> <p>https://www.mlism.com/</p>"},{"location":"en/configuration/","title":"Model Config","text":"<p>This page explains the configurable parameters for each model.</p>"},{"location":"en/configuration/#input-data","title":"input data","text":"<pre><code>data:\n  # If the number of pixels on the shorter side of the image falls below the specified value, the image will be enlarged to ensure that it meets or exceeds the pixel count set here.\n  shortest_size: int \n\n  # If the number of pixels on the longer side of the image exceeds the specified value, the image will be resized to ensure that it is equal to or less than the pixel count set here.\n  limit_size: int \n</code></pre>"},{"location":"en/configuration/#post-process","title":"post process","text":"<pre><code>post_process:\n  #If the size of the larger side of the detected area falls below the specified value, the area will be removed.\n  min_size: int \n\n  # This is the threshold for the model's prediction score. Pixels with prediction scores below the specified threshold will be treated as background regions.\n  thresh: float \n\n  # The threshold for the model's prediction score is used to treat pixels with prediction scores below the specified threshold as background regions.\n  box_thresh: float \n\n  # The maximum number of detectable text regions.\n  max_candidates: int \n\n  # A parameter to set the size of the margin area for text regions. Larger values increase the margin around text regions, allowing for detection with more whitespace, while smaller values result in tighter detection.\n  unclip_ratio: int \n\n### Visualization\n\n```yaml\nvisualize:\n  # The color of the bounding box for the detected regions.\n  color: [B, G, R] \n\n  # Whether to visualize and render the model's prediction heatmap.\n  heatmap: boolean \n</code></pre>"},{"location":"en/configuration/#maximum-text-length","title":"maximum text length","text":"<pre><code># The maximum string length that can be predicted. \nmax_label_length: int \n</code></pre>"},{"location":"en/configuration/#input-data_1","title":"input data","text":"<pre><code>data:\n  # The number of images used for batch processing.\n  batch_size: int \n</code></pre>"},{"location":"en/configuration/#visualization","title":"visualization","text":"<pre><code>visualize:\n  # The path to the font used for visualizing the predicted result strings.\n  font: str \n\n  # The color of the font used for visualizing the predicted result strings.\n  color: [BGR]\n\n  # The font size of the predicted result strings.\n  font_size: int \n</code></pre>"},{"location":"en/configuration/#threshold-of-prediction-score","title":"threshold of prediction score","text":"<pre><code># Regions with prediction scores below the specified threshold will be excluded based on the threshold for the model's prediction score.\nthresh_score: float \n</code></pre>"},{"location":"en/configuration/#threshold-of-prediction-score_1","title":"threshold of prediction score","text":"<pre><code># Regions with prediction scores below the specified threshold will be excluded based on the threshold for the model's prediction score.\nthresh_score: float\n</code></pre>"},{"location":"en/extractor/","title":"Yomitoku Extractor","text":"<p>Yomitoku Extractor is a tool for extracting structured data from document images and PDFs according to a schema definition. It uses YomiToku's table analysis engine (TableSemanticParser) for OCR and layout analysis, then extracts field values based on a YAML-defined schema.</p> <p>Two extraction modes are available:</p> Command Mode Features <code>yomitoku_extract</code> Rule-based No LLM required. Fast extraction via KV search and grid matching <code>yomitoku_extract_with_llm</code> LLM-based More flexible extraction using an LLM server such as vLLM"},{"location":"en/extractor/#choosing-the-right-mode","title":"Choosing the Right Mode","text":"<p>Choose between the two extraction modes based on your document type and extraction requirements.</p> Aspect <code>yomitoku_extract</code> (Rule-based) <code>yomitoku_extract_with_llm</code> (LLM-based) Best for Fixed-format documents (application forms, reports, slips) Variable-format documents (business cards, receipts, invoices) Layout Layout is consistent \u2014 same items appear in the same positions Layout varies by issuer or vendor Target data Value patterns are well-defined (phone numbers, dates, amounts) Value patterns are irregular or contain natural language expressions Schema design Target cells can be pinpointed with <code>cell_id</code>, <code>bbox</code>, or <code>regex</code> Fields are described by meaning via <code>description</code>, letting the LLM decide Infrastructure No GPU server needed (OCR only) Requires an LLM server (e.g., vLLM) Speed Fast Slower due to LLM inference Accuracy High accuracy when rules match Strong on irregular data thanks to contextual understanding <p>When to use rule-based extraction:</p> <ul> <li>Processing large volumes of identically formatted documents (application forms, inspection records, etc.)</li> <li>Extraction targets can be located by position or text pattern in advance</li> <li>Target cells can be directly specified with <code>cell_id</code> or <code>bbox</code></li> <li>Value formats can be defined with regular expressions (invoice numbers, phone numbers, etc.)</li> <li>When an LLM server is unavailable or you want to minimize costs</li> </ul> <p>When to use LLM-based extraction:</p> <ul> <li>Processing documents whose layout varies by issuer (business cards, receipts, etc.)</li> <li>Target text patterns are irregular and hard to identify with regex or keywords</li> <li>Extraction requires understanding the meaning or context of fields</li> <li>Rapid initial schema prototyping (iterate using only <code>description</code>)</li> </ul> <p>Combined Workflow</p> <p>Start with LLM-based extraction to understand a document's structure, then switch to rule-based extraction once the extraction rules are established. This optimizes both development efficiency and operational costs.</p>"},{"location":"en/extractor/#setup","title":"Setup","text":""},{"location":"en/extractor/#basic-installation","title":"Basic Installation","text":"<pre><code>pip install yomitoku\n</code></pre> <p>If you plan to use LLM-based extraction (<code>yomitoku_extract_with_llm</code>), install with the <code>extract</code> option:</p> <pre><code>pip install \"yomitoku[extract]\"\n</code></pre> <p>The <code>extract</code> option additionally installs the <code>openai</code> and <code>pyyaml</code> packages.</p> <p>Note</p> <p>The <code>[extract]</code> option is not required if you only use rule-based extraction (<code>yomitoku_extract</code>).</p>"},{"location":"en/extractor/#setting-up-vllm-server-for-llm-based-extraction","title":"Setting Up vLLM Server (for LLM-based Extraction)","text":"<p>LLM-based extraction (<code>yomitoku_extract_with_llm</code>) requires an LLM server that provides an OpenAI-compatible API. We recommend vLLM.</p>"},{"location":"en/extractor/#1-install-vllm","title":"1. Install vLLM","text":"<pre><code>pip install vllm\n</code></pre>"},{"location":"en/extractor/#2-start-the-vllm-server","title":"2. Start the vLLM Server","text":"<pre><code>vllm serve &lt;model_name&gt; \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre> <p>Example with Qwen3-4B-AWQ:</p> <pre><code>vllm serve Qwen/Qwen3-4B-AWQ \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre> Option Description <code>--quantization awq</code> Enable AWQ quantization <code>--dtype float16</code> Set the data type to FP16. AWQ quantized models are not compatible with bf16, so <code>float16</code> must be specified explicitly <code>--max-model-len</code> Maximum sequence length. <code>8192</code> is sufficient for document extraction. Lower values reduce VRAM consumption <code>--gpu-memory-utilization</code> Upper limit of GPU memory that vLLM reserves (0.0\u20131.0). <code>0.5</code> limits allocation to 50% of VRAM. If the model does not fit within this limit, vLLM will fail to start. Set lower when sharing the GPU with yomitoku's OCR models <p>Once the server is running, the OpenAI-compatible API will be available at <code>http://localhost:8000/v1</code>.</p> <p>Note</p> <p>The vLLM server is not required for rule-based extraction (<code>yomitoku_extract</code>).</p>"},{"location":"en/extractor/#3-recommended-models","title":"3. Recommended Models","text":"<p>The following lightweight models with commercially permissive licenses are suitable for document data extraction.</p> Model Parameters License VRAM (approx.) Features Qwen/Qwen3-4B-AWQ 4B (4-bit quantized) Apache 2.0 ~8GB Low VRAM via AWQ quantization. Best balance of accuracy and efficiency. Recommended Qwen/Qwen3-4B 4B Apache 2.0 ~15GB Full-precision version. Highest accuracy but higher VRAM consumption Qwen/Qwen3-1.7B 1.7B Apache 2.0 ~5\u20137GB For minimal configurations. Low VRAM consumption but accuracy is limited <p>Model Selection Guide</p> <ul> <li>Recommended: Qwen3-4B-AWQ. AWQ quantization delivers high accuracy with low VRAM, making it easy to share the GPU with yomitoku's OCR models</li> <li>Accuracy-focused: Qwen3-4B (full-precision). For environments with ample VRAM</li> <li>Minimal setup: Qwen3-1.7B. For environments with limited GPU VRAM</li> </ul> <p>License Notice</p> <p>All models listed above are licensed for commercial use. However, please review the license terms of each model before use. The Qwen3 series uses Apache 2.0 and Phi-4 uses the MIT license, both with no restrictions on commercial use.</p> <p>Startup example (Qwen3-4B-AWQ):</p> <pre><code>vllm serve Qwen/Qwen3-4B-AWQ \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --quantization awq \\\n    --dtype float16 \\\n    --max-model-len 8192 \\\n    --gpu-memory-utilization 0.5\n</code></pre>"},{"location":"en/extractor/#schema-definition-yaml","title":"Schema Definition (YAML)","text":"<p>Fields to extract are defined in a YAML file. A schema consists of a <code>fields</code> list, where each field is either a KV (key-value) type or a table type.</p> <p>Auto-generating Schemas</p> <p>We recommend using generative AI such as ChatGPT or Claude to auto-generate schema definitions. Simply input the field names you want to extract (comma-separated), and the AI will generate YAML with appropriate <code>name</code>, <code>structure</code>, <code>type</code>, and <code>normalize</code> values. See Schema Auto-generation Prompt for the prompt template.</p>"},{"location":"en/extractor/#basic-structure","title":"Basic Structure","text":"<pre><code>fields:\n  - name: &lt;output_key&gt;\n    structure: kv\n    description: &lt;search_text&gt;\n    type: &lt;value_type&gt;\n    normalize: &lt;normalization_rule&gt;\n\n  - name: &lt;output_key&gt;\n    structure: table\n    columns:\n      - name: &lt;column_output_key&gt;\n        description: &lt;column_header_search_text&gt;\n        type: &lt;value_type&gt;\n        normalize: &lt;normalization_rule&gt;\n</code></pre>"},{"location":"en/extractor/#common-field-parameters","title":"Common Field Parameters","text":"Parameter Type Required Default Description <code>name</code> string Required - Key name in the output JSON <code>description</code> string - <code>\"\"</code> Text used for searching (KV key text or column header text) <code>cell_id</code> string - <code>null</code> Direct cell ID specification (e.g., <code>c12</code>) <code>bbox</code> list[int] - <code>null</code> Bounding box position specification <code>[x1, y1, x2, y2]</code> <code>regex</code> string - <code>null</code> Regex pattern for value extraction (scalar fields only) <code>type</code> string - <code>\"string\"</code> Value type: <code>string</code>, <code>number</code>, <code>date</code> <code>structure</code> string - <code>\"scalar\"</code> Data structure: <code>scalar</code>, <code>kv</code> (both KV format), or <code>table</code> <code>normalize</code> string - <code>null</code> Normalization rule name <code>columns</code> list - <code>null</code> Column definitions (for table-structure fields)"},{"location":"en/extractor/#specifying-the-extraction-method","title":"Specifying the Extraction Method","text":"<p>Each field (and each table column) supports four methods for identifying target cells. When multiple methods are specified, they are evaluated in priority order: <code>cell_id</code> &gt; <code>bbox</code> &gt; <code>description</code> &gt; <code>regex</code>.</p>"},{"location":"en/extractor/#1-description-text-search-default","title":"1. <code>description</code> - Text Search (Default)","text":"<p>Performs a partial match search against KV item key text or grid header text.</p> <pre><code>- name: phone_number\n  structure: kv\n  description: Phone Number\n  type: string\n</code></pre>"},{"location":"en/extractor/#2-cell_id-cell-id-specification","title":"2. <code>cell_id</code> - Cell ID Specification","text":"<p>Directly specify a cell ID assigned by the TableSemanticParser (e.g., <code>c12</code>, <code>c43</code>). Cell IDs can be found in the table analysis result JSON or visualization images.</p> <pre><code>- name: phone_number\n  structure: kv\n  cell_id: c43\n  type: string\n</code></pre>"},{"location":"en/extractor/#3-bbox-bounding-box-specification","title":"3. <code>bbox</code> - Bounding Box Specification","text":"<p>Specify the cell's position as <code>[x1, y1, x2, y2]</code> and match by overlap (50% or more).</p> <pre><code>- name: phone_number\n  structure: kv\n  bbox: [450, 120, 700, 160]\n  type: string\n</code></pre>"},{"location":"en/extractor/#4-regex-regular-expression-pattern-scalar-fields-only","title":"4. <code>regex</code> - Regular Expression Pattern (Scalar Fields Only)","text":"<p>Specify a regex pattern to extract the first matching string from cell and paragraph text. Useful when the key text is variable but the value format is known.</p> <pre><code># Extract by phone number pattern\n- name: phone_number\n  structure: kv\n  regex: '\\d{2,4}-\\d{2,4}-\\d{2,4}'\n  type: string\n  normalize: phone_jp\n\n# Invoice number (T + 13 digits)\n- name: invoice_number\n  structure: kv\n  regex: 'T\\d{13}'\n  type: string\n\n# Email address\n- name: email\n  structure: kv\n  regex: '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'\n  type: string\n</code></pre> <p>For <code>regex</code> matches, <code>value</code> contains the matched string and <code>raw_text</code> contains the full text of the source cell/paragraph.</p> <p>Tip</p> <p>When both <code>description</code> and <code>cell_id</code> are specified, <code>cell_id</code> takes priority. If not found by <code>cell_id</code>, it falls back to <code>description</code>. <code>regex</code> is evaluated as a last resort when other methods fail.</p>"},{"location":"en/extractor/#kv-scalar-fields","title":"KV (Scalar) Fields","text":"<p>Used to extract key-value pairs from forms. Omit <code>structure</code> or set it to <code>scalar</code> or <code>kv</code>.</p> <p>Explicitly specifying <code>kv</code> emphasizes in the LLM prompt that the field should be a scalar value (a single string), preventing the LLM from incorrectly outputting it as a table structure.</p> <pre><code>fields:\n  - name: company_name\n    structure: kv\n    description: Company Name\n    type: string\n    normalize: strip_spaces\n\n  - name: total_amount\n    structure: kv\n    description: Total Amount\n    type: number\n    normalize: numeric\n</code></pre> <p>Search order in rule-based extraction:</p> <ol> <li>If <code>cell_id</code> is specified, search directly by cell ID</li> <li>If <code>bbox</code> is specified, search by position</li> <li>If <code>description</code> is specified, search KV item key text</li> <li>If <code>description</code> is specified, search cell text by partial match</li> <li>If <code>description</code> is specified, search paragraph text by partial match</li> <li>If <code>regex</code> is specified, search all cell, paragraph, and word text by regex</li> <li>If none found, return an empty string</li> </ol>"},{"location":"en/extractor/#table-fields","title":"Table Fields","text":"<p>Used to extract tabular data. Set <code>structure: table</code> and define columns with <code>columns</code>.</p> <pre><code>fields:\n  - name: order_items\n    description: Order Details\n    structure: table\n    columns:\n      - name: product\n        description: Product Name\n        type: string\n\n      - name: quantity\n        description: Quantity\n        type: number\n        normalize: numeric\n\n      - name: price\n        description: Amount\n        type: number\n        normalize: numeric\n</code></pre> <p>Column matching also supports <code>cell_id</code>, <code>bbox</code>, and <code>description</code>. These are matched against the grid's header cells.</p> <pre><code>columns:\n  - name: date\n    cell_id: c8         # cell_id of the header cell\n    type: date\n    normalize: date_yyyymmdd\n\n  - name: entrance_time\n    description: Entry     # Match by header text\n    type: string\n    normalize: time_jp\n</code></pre>"},{"location":"en/extractor/#type-value-type","title":"type (Value Type)","text":"Value Description <code>string</code> String (default) <code>number</code> Number <code>date</code> Date <code>alphanumeric</code> Alphanumeric characters (half-width) <code>hiragana</code> Hiragana <code>katakana</code> Katakana <p><code>type</code> is primarily used as a hint in the prompt during LLM-based extraction. For rule-based extraction, the normalization rule (<code>normalize</code>) determines the actual value transformation.</p>"},{"location":"en/extractor/#normalize-normalization-rules","title":"normalize (Normalization Rules)","text":"<p>Post-processing normalization is applied to extracted values. The following rules are available:</p> Rule Name Description Input Example Output Example <code>strip_spaces</code> Remove full-width and half-width spaces <code>Tokyo Shibuya</code> <code>TokyoShibuya</code> <code>numeric</code> Remove non-numeric characters (includes full-width to half-width conversion) <code>1,234 yen</code> <code>1234</code> <code>phone_jp</code> Format as Japanese phone number <code>0312345678</code> <code>03-1234-5678</code> <code>postal_code_jp</code> Format as Japanese postal code <code>1234567</code> <code>123-4567</code> <code>date_jp</code> Convert Japanese date to <code>YYYY-MM-DD</code> format <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code> <code>2024-03-15</code> <code>date_yyyymmdd</code> Convert Japanese date to <code>YYYYMMDD</code> format <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code> <code>20240315</code> <code>time_jp</code> Convert time to Japanese format <code>14:30</code> <code>14\u664230\u5206</code> <code>time_hms</code> Convert time to <code>HH:MM:SS</code> format <code>14\u664230\u5206</code> <code>14:30:00</code> <code>alphanumeric</code> Convert full-width to half-width, extract alphanumeric only <code>\uff21\uff22\uff23\uff11\uff12\uff13\u5186</code> <code>ABC123</code> <code>hiragana</code> Convert katakana to hiragana, extract hiragana only <code>\u30ab\u30bf\u30ab\u30catest</code> <code>\u304b\u305f\u304b\u306a</code> <code>katakana</code> Convert hiragana to katakana, extract katakana only <code>\u3072\u3089\u304c\u306atest</code> <code>\u30d2\u30e9\u30ac\u30ca</code> <p>If <code>normalize</code> is omitted, the extracted text is output as-is.</p> <p>Note</p> <p><code>date_jp</code> and <code>date_yyyymmdd</code> support Japanese era names in both kanji (\u4ee4\u548c, \u5e73\u6210, \u662d\u548c, \u5927\u6b63, \u660e\u6cbb) and alphabetic abbreviations (R, H, S, T, M). Examples: <code>\u4ee4\u548c6\u5e743\u670815\u65e5</code>, <code>R6/3/15</code>, <code>H30.1.1</code>, <code>S60-12-25</code></p>"},{"location":"en/extractor/#schema-definition-example","title":"Schema Definition Example","text":"<p>The following example demonstrates how to define a schema using a facility usage application form.</p> <p></p> <p>This schema extracts the following information from the form:</p> <ul> <li>KV fields: Facility name, phone number, address, remarks</li> <li>Table field: Preferred usage dates (date, entry time, exit time)</li> </ul> <pre><code>fields:\n  # KV fields: search by key text using description\n  - name: name\n    structure: kv\n    description: \u65bd\u8a2d\u540d\u79f0       # \"Facility Name\"\n    type: string\n    normalize: strip_spaces\n\n  - name: phone_number\n    structure: kv\n    description: \u96fb\u8a71\u756a\u53f7       # \"Phone Number\"\n    type: string\n    normalize: phone_jp\n\n  - name: address\n    structure: kv\n    description: \u4f4f\u6240           # \"Address\"\n    type: string\n    normalize: strip_spaces\n\n  - name: details\n    structure: kv\n    description: \u5099\u8003           # \"Remarks\"\n    type: string\n    normalize: strip_spaces\n\n  # Table field: match columns by header text\n  - name: usage_date\n    description: \u5e0c\u671b\u65e5         # \"Preferred Date\"\n    structure: table\n    columns:\n      - name: date\n        description: \u65e5\u4ed8       # \"Date\"\n        type: date\n        normalize: date_yyyymmdd\n\n      - name: entrance_time\n        description: \u5165\u5ba4       # \"Entry\"\n        type: string\n        normalize: time_jp\n\n      - name: leave_time\n        description: \u9000\u5ba4       # \"Exit\"\n        type: string\n        normalize: time_hms\n</code></pre> <p>Key points:</p> <ul> <li>For KV fields, specify the key text on the form (e.g., \"\u65bd\u8a2d\u540d\u79f0\", \"\u96fb\u8a71\u756a\u53f7\") in <code>description</code>. The engine matches this against KV item keys and extracts the corresponding values</li> <li>For table fields, specify the header row text (e.g., \"\u65e5\u4ed8\", \"\u5165\u5ba4\", \"\u9000\u5ba4\") in each column's <code>description</code>. The engine matches these against grid header cells and extracts data from each row</li> <li>Use <code>normalize</code> to specify post-extraction normalization. For example, <code>phone_jp</code> formats full-width digits into a hyphen-separated phone number, and <code>date_yyyymmdd</code> converts dates (including Japanese era formats) to <code>YYYYMMDD</code> format</li> </ul>"},{"location":"en/extractor/#cli-usage","title":"CLI Usage","text":""},{"location":"en/extractor/#rule-based-extraction","title":"Rule-based Extraction","text":"<pre><code>yomitoku_extract &lt;input&gt; -s &lt;schema.yaml&gt; [options]\n</code></pre> Option Short Type Default Description <code>input</code> - string Required Path to input image, PDF, or directory <code>--schema</code> <code>-s</code> string Required Path to schema definition file (YAML) <code>--outdir</code> <code>-o</code> string <code>results</code> Output directory <code>--device</code> <code>-d</code> string <code>cuda</code> Inference device (<code>cuda</code>, <code>cpu</code>, <code>mps</code>) <code>--vis</code> <code>-v</code> - <code>false</code> Output visualization images <code>--no-normalize</code> - - <code>false</code> Skip normalization <code>--simple</code> - - <code>false</code> Output in simple format (without bbox metadata) <code>--pages</code> - string All pages Pages to process (e.g., <code>1,3-5,10</code>) <code>--dpi</code> - int <code>200</code> DPI for PDF loading <code>--encoding</code> - string <code>utf-8</code> Output file encoding <p><code>input</code> accepts an image file, PDF file, or directory. When a directory is specified, it recursively searches for supported file formats (<code>jpg</code>, <code>jpeg</code>, <code>png</code>, <code>bmp</code>, <code>tiff</code>, <code>tif</code>, <code>pdf</code>) including subdirectories and processes them sequentially.</p> <p>Examples:</p> <pre><code># Extract from an image file\nyomitoku_extract input.jpg -s schema.yaml -o results -v\n\n# Process specific pages from a PDF\nyomitoku_extract document.pdf -s schema.yaml --pages 1,3-5\n\n# Batch process all files in a directory\nyomitoku_extract ./documents/ -s schema.yaml -o results\n\n# Run on CPU\nyomitoku_extract input.jpg -s schema.yaml -d cpu\n</code></pre>"},{"location":"en/extractor/#llm-based-extraction","title":"LLM-based Extraction","text":"<pre><code>yomitoku_extract_with_llm &lt;input&gt; -s &lt;schema.yaml&gt; -m &lt;model_name&gt; [options]\n</code></pre> <p>In addition to the rule-based extraction options, the following LLM-related options are available:</p> Option Short Type Default Description <code>--model</code> <code>-m</code> string Required LLM model name (as specified on the vLLM server) <code>--api-base</code> - string <code>http://localhost:8000/v1</code> LLM API base URL <code>--api-key</code> - string <code>\"\"</code> API key (if required) <code>--temperature</code> - float <code>0.0</code> LLM generation temperature <code>--max-tokens</code> - int <code>4096</code> LLM maximum token count <code>--table-id</code> - string <code>null</code> Target a specific table only (e.g., <code>t0</code>) <code>--simple</code> - - <code>false</code> Output in simple format (without bbox metadata) <code>--prompt-only</code> - - <code>false</code> Print prompt and exit (for debugging) <p>As with rule-based extraction, <code>input</code> accepts an image file, PDF file, or directory.</p> <p>Examples:</p> <pre><code># Extract using vLLM server\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m Qwen/Qwen3-4B-AWQ\n\n# Batch process all files in a directory\nyomitoku_extract_with_llm ./documents/ -s schema.yaml -m Qwen/Qwen3-4B-AWQ\n\n# Specify API base URL and key\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m gpt-4o \\\n  --api-base https://api.openai.com/v1 \\\n  --api-key sk-xxxxx\n\n# Check the prompt (debugging)\nyomitoku_extract_with_llm input.jpg -s schema.yaml -m model_name --prompt-only\n</code></pre>"},{"location":"en/extractor/#output-files","title":"Output Files","text":""},{"location":"en/extractor/#output-location","title":"Output Location","text":"<p>Output files are saved in the directory specified by <code>--outdir</code>. Filenames follow the format <code>&lt;input_filename&gt;_p&lt;page_number&gt;_extract.json</code>.</p> <pre><code>results/\n  document_p1_extract.json\n  document_p1_layout.jpg       # with --vis\n  document_p1_ocr.jpg          # with --vis\n  document_p1_extract_vis.jpg  # with --vis\n</code></pre>"},{"location":"en/extractor/#json-format","title":"JSON Format","text":"<p>The output JSON has the following structure:</p> <pre><code>{\n  \"fields\": {\n    \"&lt;field_name&gt;\": { ... }\n  },\n  \"metadata\": {\n    \"schema_version\": \"1.0\"\n  }\n}\n</code></pre>"},{"location":"en/extractor/#kv-scalar-field-output","title":"KV (Scalar) Field Output","text":"<pre><code>{\n  \"fields\": {\n    \"phone_number\": {\n      \"structure\": \"kv\",\n      \"value\": \"03-1234-5678\",\n      \"raw_text\": \"\uff10\uff13\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\",\n      \"confidence\": \"high\",\n      \"source\": \"cell_id\",\n      \"cell_ids\": [\"c43\"],\n      \"bboxes\": [[450, 120, 700, 160]]\n    }\n  }\n}\n</code></pre> Key Description <code>structure</code> Always <code>\"kv\"</code> <code>value</code> Extracted value after normalization <code>raw_text</code> Original text before normalization <code>confidence</code> Confidence level (<code>high</code>, <code>medium</code>, <code>low</code>) <code>source</code> Extraction source (<code>cell_id</code>, <code>bbox</code>, <code>kv</code>, <code>paragraph</code>, <code>not_found</code>) <code>cell_ids</code> Cell IDs of the value <code>bboxes</code> Bounding boxes of the value"},{"location":"en/extractor/#table-field-output","title":"Table Field Output","text":"<pre><code>{\n  \"fields\": {\n    \"usage_date\": {\n      \"structure\": \"table\",\n      \"records\": [\n        {\n          \"date\": {\n            \"value\": \"20240315\",\n            \"cell_ids\": [\"c20\"],\n            \"raw_text\": \"\u4ee4\u548c6\u5e743\u670815\u65e5\",\n            \"bboxes\": [[100, 200, 300, 240]]\n          },\n          \"entrance_time\": {\n            \"value\": \"14\u664230\u5206\",\n            \"cell_ids\": [\"c21\"],\n            \"raw_text\": \"14:30\",\n            \"bboxes\": [[310, 200, 450, 240]]\n          }\n        }\n      ],\n      \"source\": \"grid\"\n    }\n  }\n}\n</code></pre> Key Description <code>structure</code> Always <code>\"table\"</code> <code>records</code> Array of row data. Each row is a dictionary keyed by column name <code>source</code> Extraction source (<code>grid</code>, <code>not_found</code>) <p>Each cell value includes <code>value</code> (after normalization), <code>raw_text</code> (before normalization), <code>cell_ids</code>, and <code>bboxes</code>.</p>"},{"location":"en/extractor/#simple-format","title":"Simple Format","text":"<p>When the <code>--simple</code> option is specified, the output uses a simple <code>{name: value}</code> format without metadata such as bbox, cell_ids, confidence, and source.</p>"},{"location":"en/extractor/#kv-scalar-fields_1","title":"KV (Scalar) Fields","text":"<pre><code>{\n  \"phone_number\": \"03-1234-5678\",\n  \"company_name\": \"Test Corporation\"\n}\n</code></pre>"},{"location":"en/extractor/#table-fields_1","title":"Table Fields","text":"<pre><code>{\n  \"usage_date\": [\n    {\n      \"date\": \"20240315\",\n      \"entrance_time\": \"14\u664230\u5206\",\n      \"leave_time\": \"16:00:00\"\n    }\n  ]\n}\n</code></pre> <p>The simple format is convenient for downstream processing and system integration. Normalization is applied in the same way as the standard format.</p>"},{"location":"en/extractor/#visualization-images","title":"Visualization Images","text":"<p>When the <code>--vis</code> option is specified, the following images are output:</p> Filename Content <code>*_layout.jpg</code> Layout analysis result visualization <code>*_ocr.jpg</code> OCR result visualization <code>*_extract_vis.jpg</code> Highlighted positions of extracted fields (with field name labels) <p>In the extraction visualization image, highlight intensity varies inversely with confidence level. Lower confidence fields are highlighted more intensely, making items that need review easy to spot (<code>low</code>: intense &gt; <code>medium</code> &gt; <code>high</code>: subtle).</p>"},{"location":"en/","title":"\ud83c\udf1f Introduction","text":"<p>YomiToku is a Document AI engine specialized in Japanese document image analysis. It provides full OCR (optical character recognition) and layout analysis capabilities, enabling the recognition, extraction, and conversion of text and diagrams from images.</p> <ul> <li>\ud83e\udd16 Equipped with four AI models trained on Japanese datasets: text detection, text recognition, layout analysis, and table structure recognition. All models are independently trained and optimized for Japanese documents, delivering high-precision inference.</li> <li>\ud83c\uddef\ud83c\uddf5 Each model is specifically trained for Japanese document images, supporting the recognition of over 7,000 Japanese characters, including vertical text and other layout structures unique to Japanese documents. (It also supports English documents.)</li> <li>\ud83d\udcc8 By leveraging layout analysis, table structure parsing, and reading order estimation, it extracts information while preserving the semantic structure of the document layout.</li> <li>\ud83d\udcc4 Supports a variety of output formats, including HTML, Markdown, JSON, and CSV. It also allows for the extraction of diagrams and images contained within the documents.It also supports converting document images into fully text-searchable PDFs.</li> <li>\u26a1 Operates efficiently in GPU environments, enabling fast document transcription and analysis. It requires less than 8GB of VRAM, eliminating the need for high-end GPUs. In efficient mode, fast inference is possible even on a CPU.</li> </ul>"},{"location":"en/#q-is-it-possible-to-use-yomitoku-in-an-environment-without-internet-access","title":"Q. Is it possible to use YomiToku in an environment without internet access?","text":"<p>A. Yes, it is possible. YomiToku connects to Hugging Face Hub to automatically download model files during the first execution, requiring internet access at that time. However, you can manually download the files in advance, allowing YomiToku to operate in an offline environment. For details, please refer to Module Usage under the section \"Using YomiToku in an Offline Environment.\"</p>"},{"location":"en/#q-is-commercial-use-allowed","title":"Q. Is commercial use allowed?","text":"<p>Yes. For commercial use of YomiToku, we provide a licensed product edition through the options below. The commercial edition includes numerous enhancements such as improved handwriting recognition accuracy, automatic image orientation correction, and advanced layout analysis features that are available only in the product version.</p> <ul> <li>Guideline for Determining Commercial / Non-Commercial Use</li> </ul>"},{"location":"en/#on-premises-local-pc-commercial-use","title":"On-Premises / Local PC Commercial Use","text":"<p>If you wish to use YomiToku commercially in an on-premises environment or on a local PC, we offer a dedicated on-premises commercial license. For more details, please contact us via:</p> <ul> <li>https://www.mlism.com/</li> </ul>"},{"location":"en/#cloud-based-commercial-use-aws-marketplace","title":"Cloud-Based Commercial Use (AWS Marketplace)","text":"<p>The commercial edition of YomiToku is also available on AWS Marketplace. All processing is executed entirely within your own AWS environment, with no external network communication or transmission to third-party servers. This ensures safe usage even for workloads involving confidential documents, internal corporate materials, or personal information.</p> <ul> <li>AWS Marketplace \u2013 YomiToku-Pro Document Analyzer https://aws.amazon.com/marketplace/search/results?searchTerms=yomitoku</li> <li>Usage guide (YomiToku-Client documentation) https://mlism-inc.github.io/yomitoku-client/</li> </ul>"},{"location":"en/installation/","title":"Installation","text":"<p>This package requires Python 3.10 or later and PyTorch 2.5 or later for execution. PyTorch must be installed according to your CUDA version. In normal mode, the model is optimized for a GPU, and a GPU with at least 8GB of VRAM is recommended. While it can run on a CPU, expect long execution times. In efficient mode, it is designed to provide fast inference even on a CPU.</p>"},{"location":"en/installation/#from-pypi","title":"from PYPI","text":"<pre><code>pip install yomitoku\n</code></pre>"},{"location":"en/installation/#using-uv","title":"using uv","text":"<p>This repository uses the package management tool uv. After installing uv, clone the repository and execute the following commands:</p> <pre><code>uv sync\n</code></pre> <p>Inferencing with ONNX Runtime on a GPU</p> <pre><code>uv sync --extra gpu\n</code></pre> <p>When using uv, you need to modify the following part of the pyproject.toml file to match your CUDA version. By default, PyTorch compatible with CUDA 12.4 will be downloaded.</p> <pre><code>[[tool.uv.index]]\nname = \"pytorch-cuda124\"\nurl = \"https://download.pytorch.org/whl/cu124\"\nexplicit = true\n</code></pre>"},{"location":"en/installation/#using-docker","title":"Using docker","text":"<p>A Dockerfile is provided in the root of the repository, which you are welcome to use.</p> <pre><code>docker build -t yomitoku .\n</code></pre> GPUCPU <pre><code>docker run -it --gpus all -v $(pwd):/workspace --name yomitoku yomitoku /bin/bash\n</code></pre> <pre><code>docker run -it -v $(pwd):/workspace --name yomitoku yomitoku /bin/bash\n</code></pre>"},{"location":"en/installation/#using-yomitoku-in-offline-environments","title":"Using YomiToku in Offline Environments","text":"<p>YomiToku automatically downloads the model from Hugging Face Hub on its first run. An internet connection is required at that time but, by manually pre-downloading the model using the following command, you can prepare YomiToku to run in environments without internet access:</p> <pre><code>download_model\n</code></pre> <p>By placing the downloaded repository folder <code>KotaroKinoshita</code> in the current directory at runtime, the local repository model will be loaded and executed without any internet connection.</p>"},{"location":"en/mcp/","title":"MCP","text":"<p>This section explains how to use the YomiToku MCP server in conjunction with Claude Desktop.</p>"},{"location":"en/mcp/#installing-yomitoku","title":"Installing YomiToku","text":"<p>First, install YomiToku by following the \"Installation with uv\" section in Installation.</p> <p>However, to add <code>mcp</code> as a dependency during installation, include <code>mcp</code> in <code>--extra</code> as shown below.</p> <pre><code>uv sync --extra mcp\n</code></pre>"},{"location":"en/mcp/#setting-up-claude-desktop","title":"Setting up Claude Desktop","text":"<p>Next, add the following configuration to the <code>mcpServers</code> section of the Claude Desktop configuration file. (Refer to here for how to open the configuration file)</p> <pre><code>{\n  \"mcpServers\": {\n    \"yomitoku\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"(Absolute path of the directory where YomiToku was cloned)\",\n        \"run\",\n        \"yomitoku_mcp\"\n      ],\n      \"env\": {\n        \"RESOURCE_DIR\": \"(Absolute path of the directory containing files for OCR)\"\n      }\n    }\n  }\n}\n</code></pre> <p>For example, if you executed <code>git clone https://github.com/kotaro-kinoshita/yomitoku.git</code> in <code>/Users/your-username/workspace</code>, then <code>(Directory where YomiToku was cloned)</code> would be <code>/Users/your-username/workspace/yomitoku</code>, and if you use <code>sample.pdf</code> in the <code>yomitoku/demo</code> directory, specify <code>(Directory containing files for OCR)</code> as <code>/Users/your-username/workspace/yomitoku/demo</code>.</p>"},{"location":"en/mcp/#using-claude-desktop","title":"Using Claude Desktop","text":"<ul> <li>Please restart Claude Desktop to apply changes to the configuration file.</li> </ul> <p>For example, if you use <code>yomitoku/demo/sample.pdf</code> as a sample, instruct as follows:</p> <pre><code>Analyze sample.pdf using OCR and translate it into English.\n</code></pre>"},{"location":"en/mcp/#starting-the-sse-server","title":"Starting the SSE Server","text":"<p>Set the path to the folder containing the images to be processed by OCR in the resource directory.</p> <pre><code>export RESOURCE_DIR=\"path of dataset\"\n</code></pre> <p>Start the SSE server using the following command:</p> <pre><code>uv run yomitoku_mcp -t sse\n</code></pre> <p>The SSE server endpoint will be available at <code>http://127.0.0.1:8000/sse</code>.</p>"},{"location":"en/module/","title":"Module Usage","text":"<p>This page explains how to use YomiToku as a Python library.</p>"},{"location":"en/module/#using-document-analyzer","title":"Using Document Analyzer","text":"<p>The Document Analyzer performs OCR and layout analysis, integrating these results into a comprehensive analysis output. It can be used for various use cases, including paragraph and table structure analysis, extraction, and figure/table detection.</p> <p>Following 4 models are utilized in the module:</p> <ul> <li>Text Recognizer</li> <li>Text Detector</li> <li>Layout Parser</li> <li>Table Structure Recognizer</li> </ul> demo/simple_document_analysis.py <pre><code>import cv2\n\nfrom yomitoku import DocumentAnalyzer\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    PATH_IMGE = \"demo/sample.pdf\"\n    analyzer = DocumentAnalyzer(visualize=True, device=\"cuda\")\n    imgs = load_pdf(PATH_IMGE)\n\n    for i, img in enumerate(imgs):\n        results, ocr_vis, layout_vis = analyzer(img)\n\n        results.to_html(f\"output_{i}.html\", img=img)\n\n        cv2.imwrite(f\"output_ocr_{i}.jpg\", ocr_vis)\n        cv2.imwrite(f\"output_layout_{i}.jpg\", layout_vis)\n</code></pre> Option Name Type Description Notes <code>visualize</code> <code>bool</code> Specifies whether to visualize the processing results. We recommend <code>False</code> if not for debugging. If <code>True</code>, the OCR results are returned as the 2nd return value and the layout analysis results as the 3rd return value. If <code>False</code>, <code>None</code> is returned. <code>device</code> <code>str</code> Specifies the device to be used for processing. The default is <code>\"cuda\"</code>. If a GPU is unavailable, it automatically switches to <code>\"cpu\"</code>. <code>configs</code> <code>dict</code> Used to set more detailed parameters for module processing. Refer to Model Detailed Config for details. <p>The results of DocumentAnalyzer can be exported in the following formats:</p> Method Output Format <code>to_json()</code> JSON format (*.json) <code>to_html()</code> HTML format (*.html) <code>to_csv()</code> Comma-separated CSV format (*.csv) <code>to_markdown()</code> Markdown format (*.md)"},{"location":"en/module/#using-ai-ocr-only","title":"Using AI-OCR Only","text":"<p>AI-OCR performs text detection and then executes recognition processing on the detected text to return the position (location) of the characters within the image and the reading result.</p> <p>Following 2 models are utilized in the module:</p> <ul> <li>Text Recognizer</li> <li>Text Detector</li> </ul> demo/simple_ocr.py <pre><code>import cv2\n\nfrom yomitoku import OCR\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    ocr = OCR(visualize=True, device=\"cuda\")\n    imgs = load_pdf(\"demo/sample.pdf\")\n\n    for i, img in enumerate(imgs):\n        results, ocr_vis = ocr(img)\n\n        results.to_json(f\"output_{i}.json\")\n        cv2.imwrite(f\"output_ocr_{i}.jpg\", ocr_vis)\n</code></pre> Option Name Type Description Notes <code>visualize</code> <code>bool</code> Specifies whether to visualize the processing results. We recommend <code>False</code> if not for debugging. If <code>True</code>, the OCR results are returned as the 2nd return value. If <code>False</code>, <code>None</code> is returned. <code>device</code> <code>str</code> Specifies the device to be used for processing. The default is <code>\"cuda\"</code>. If a GPU is unavailable, it automatically switches to <code>\"cpu\"</code>. <code>configs</code> <code>dict</code> Used to set more detailed parameters for module processing. Refer to Model Detailed Config for details. <p>The results of OCR processing support export in JSON format (<code>to_json()</code>) only.</p>"},{"location":"en/module/#using-layout-analyzer-only","title":"Using Layout Analyzer only","text":"<p>The <code>LayoutAnalyzer</code> performs text detection, followed by AI-based paragraph, figure/table detection, and table structure analysis. It analyzes the layout structure within the document.</p> <p>Following 2 models are utilized in the module:</p> <ul> <li>Layout Parser</li> <li>Table Structure Recognizer</li> </ul> demo/simple_layout.py <pre><code>import cv2\n\nfrom yomitoku import LayoutAnalyzer\nfrom yomitoku.data.functions import load_pdf\n\nif __name__ == \"__main__\":\n    analyzer = LayoutAnalyzer(visualize=True, device=\"cuda\")\n\n    imgs = load_pdf(\"demo/sample.pdf\")\n    for i, img in enumerate(imgs):\n        results, layout_vis = analyzer(img)\n\n        results.to_json(f\"output_{i}.json\")\n        cv2.imwrite(f\"output_layout_{i}.jpg\", layout_vis)\n</code></pre> Option Name Type Description Notes <code>visualize</code> <code>bool</code> Specifies whether to visualize the processing results. We recommend <code>False</code> if not for debugging. If <code>True</code>, the layout analysis results as the 2nd return value. If <code>False</code>, <code>None</code> is returned. <code>device</code> <code>str</code> Specifies the device to be used for processing. The default is <code>\"cuda\"</code>. If a GPU is unavailable, it automatically switches to <code>\"cpu\"</code>. <code>configs</code> <code>dict</code> Used to set more detailed parameters for module processing. Refer to Model Detailed Config for details. <p>The results of LayoutAnalyzer processing support export only in JSON format (to_json()).</p>"},{"location":"en/module/#model-config","title":"Model Detailed Config","text":"<p>By providing a config, you can adjust the behavior in greater detail. The following parameters can be set for the model:</p> Option Name Type Description <code>model_name</code> <code>str</code> Specifies the model name to be used. <code>path_cfg</code> <code>str</code> Inputs the path to the config file containing the hyperparameters. <code>device</code> <code>str</code> Specifies the device to be used for inference. (Allowed Values: <code>cuda</code> | <code>cpu</code> | <code>mps</code>) <code>visualize</code> <code>bool</code> Specifies whether to perform visualization. <code>from_pretrained</code> <code>bool</code> Specifies whether to use a Pretrained Model (a previously trained model). <code>infer_onnx</code> <code>bool</code> Specifies whether to use ONNX Runtime instead of PyTorch for inference."},{"location":"en/module/#supported-model-names-model_name","title":"Supported Model Names (<code>model_name</code>)","text":"Model Type Model Name <code>TextRecognizer</code> <code>\"parseq\"</code>, <code>\"parseq-small\"</code>, <code>\"parseq-tiny\"</code> <code>TextDetector</code> <code>\"dbnet\"</code> <code>LayoutParser</code> <code>\"rtdetrv2\"</code> <code>TableStructureRecognizer</code> <code>\"rtdetrv2\"</code>"},{"location":"en/module/#how-to-write-config","title":"How to Write Config","text":"<p>The config is provided in dictionary format. By using a config, you can execute processing on different devices for each model and set detailed parameters.</p> <p>For example, the following config allows the OCR processing to run on a GPU, while the layout analysis is performed on a CPU:</p> <pre><code>from yomitoku import DocumentAnalyzer\n\nif __name__ == \"__main__\":\n    configs = {\n        \"ocr\": {\n            \"text_detector\": {\n                \"device\": \"cuda\",\n            },\n            \"text_recognizer\": {\n                \"device\": \"cuda\",\n            },\n        },\n        \"layout_analyzer\": {\n            \"layout_parser\": {\n                \"device\": \"cpu\",\n            },\n            \"table_structure_recognizer\": {\n                \"device\": \"cpu\",\n            },\n        },\n    }\n\n    DocumentAnalyzer(configs=configs)\n</code></pre>"},{"location":"en/module/#defining-parameters-in-an-yaml-file","title":"Defining Parameters in an YAML File","text":"<p>By providing the path to a YAML file in the config, you can adjust detailed parameters for inference. Examples of YAML files can be found in the <code>configs</code> directory within the repository. While the model's network parameters cannot be modified, certain aspects like post-processing parameters and input image size can be adjusted. Refer to Model Config for configurable parameters.</p> <p>For instance, you can define post-processing thresholds for the Text Detector in a YAML file and set its path in the config. The config file does not need to include all parameters; you only need to specify the parameters that require changes.</p> <pre><code>post_process:\n  thresh: 0.1\n  unclip_ratio: 2.5\n</code></pre> <p>The path to the YAML file can be stored in the Config, as follows:</p> demo/setting_document_anaysis.py <pre><code>from yomitoku import DocumentAnalyzer\n\nif __name__ == \"__main__\":\n    configs = {\"ocr\": {\"text_detector\": {\"path_cfg\": \"demo/text_detector.yaml\"}}}\n\n    analyzer = DocumentAnalyzer(configs=configs, visualize=True, device=\"cuda\")\n</code></pre>"},{"location":"en/schemas/","title":"Module Output","text":"<p>This page explains the output of each module.</p>"},{"location":"en/schemas/#document-analyzer","title":"Document Analyzer","text":"<p>The Document Analyzer Module outputs the following variables as a <code>tuple</code>.</p> Variable Name Type Description results <code>DocumentAnalyzerSchema</code> Module output results ocr_vis <code>np.ndarray</code> | <code>None</code> Visualization of the output of the AI-OCR (Only when <code>visualizer=True</code>) layout_vis <code>np.ndarray</code> | <code>None</code> Visualization of the output of the Layout Analyzer (Only when <code>visualizer=True</code>) <p>The specification for the <code>DocumentAnalyzerSchema</code> that the <code>results</code> variable conforms to is as follows:</p> DocumentAnalyzerSchema No Additional Propsobject # DocumentAnalyzerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields paragraphs List of detected paragraphs Requiredarray # DocumentAnalyzerSchema \u203a paragraphs List of detected paragraphs Typearray Nested fields ParagraphSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the paragraph in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a box Bounding box of the paragraph in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the paragraph RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a contents Text content of the paragraph TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the paragraph in the document RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a order Order of the paragraph in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) RequiredanyOf # DocumentAnalyzerSchema \u203a paragraphs \u203a ParagraphSchema \u203a role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) TypeanyOf Nested fields Any of 1 string # Any of 2 null # tables List of detected tables Requiredarray # DocumentAnalyzerSchema \u203a tables List of detected tables Typearray Nested fields TableStructureRecognizerSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a box Bounding box of the table in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # n_row Number of rows in the table Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_row Number of rows in the table Typeinteger n_col Number of columns in the table Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_col Number of columns in the table Typeinteger rows List of table lines representing rows Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows List of table lines representing rows Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cols List of table lines representing columns Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols List of table lines representing columns Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber spans List of table lines representing spans Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans List of table lines representing spans Typearray Nested fields TableLineSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cells List of table cells Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells List of table cells Typearray Nested fields TableCellSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields col Column index of the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col Column index of the cell Typeinteger row Row index of the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row Row index of the cell Typeinteger col_span Number of columns spanned by the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col_span Number of columns spanned by the cell Typeinteger row_span Number of rows spanned by the cell Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row_span Number of rows spanned by the cell Typeinteger box Bounding box of the cell in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a box Bounding box of the cell in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the cell RequiredanyOf # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a contents Text content of the cell TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the table in the document Requiredinteger # DocumentAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a order Order of the table in the document Typeinteger words List of recognized words Requiredarray # DocumentAnalyzerSchema \u203a words List of recognized words Typearray Nested fields WordPrediction No Additional Propsobject # DocumentAnalyzerSchema \u203a words \u203a WordPrediction Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Requiredarray # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields ArrayItem array # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a points \u203a ArrayItem Typearray Constraints <ul><li>Minimum items: <code>2</code></li><li>Maximum items: <code>2</code></li></ul> Nested fields Item integer # content Text content of the word Requiredstring # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a content Text content of the word Typestring direction Text direction, e.g., 'horizontal' or 'vertical' Requiredstring # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a direction Text direction, e.g., 'horizontal' or 'vertical' Typestring rec_score Confidence score of the word recognition Requirednumber # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a rec_score Confidence score of the word recognition Typenumber det_score Confidence score of the word detection Requirednumber # DocumentAnalyzerSchema \u203a words \u203a WordPrediction \u203a det_score Confidence score of the word detection Typenumber figures List of detected figures Requiredarray # DocumentAnalyzerSchema \u203a figures List of detected figures Typearray Nested fields FigureSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the figure in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a box Bounding box of the figure in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # order Order of the figure in the document RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a order Order of the figure in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # paragraphs List of paragraphs associated with the figure Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs List of paragraphs associated with the figure Typearray Nested fields ParagraphSchema No Additional Propsobject # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the paragraph in the format [x1, y1, x2, y2] Requiredarray # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a box Bounding box of the paragraph in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the paragraph RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a contents Text content of the paragraph TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the paragraph in the document RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a order Order of the paragraph in the document TypeanyOf Nested fields Any of 1 integer # Any of 2 null # role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a paragraphs \u203a ParagraphSchema \u203a role Role of the paragraph, e.g., ['section_headings', 'page_header', 'page_footer']) TypeanyOf Nested fields Any of 1 string # Any of 2 null # direction Text direction, e.g., ['horizontal' or 'vertical'] RequiredanyOf # DocumentAnalyzerSchema \u203a figures \u203a FigureSchema \u203a direction Text direction, e.g., ['horizontal' or 'vertical'] TypeanyOf Nested fields Any of 1 string # Any of 2 null #"},{"location":"en/schemas/#ai-ocr","title":"AI-OCR","text":"<p>The AI-OCR module outputs the following variables as a <code>tuple</code>.</p> Variable Name Type Description results <code>OCRSchema</code> Module output results ocr_vis <code>np.ndarray</code> | <code>None</code> Visualization of the output of the AI-OCR (Only when <code>visualizer=True</code>) <p>The specification for the <code>OCRSchema</code> that the <code>results</code> variable conforms to is as follows:</p> OCRSchema No Additional Propsobject # OCRSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields words List of recognized words with their bounding boxes, content, direction, and scores Requiredarray # OCRSchema \u203a words List of recognized words with their bounding boxes, content, direction, and scores Typearray Nested fields WordPrediction No Additional Propsobject # OCRSchema \u203a words \u203a WordPrediction Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Requiredarray # OCRSchema \u203a words \u203a WordPrediction \u203a points Bounding box of the word in the format [[x1, y1], [x2, y2], [x3, y3], [x4, y4]] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields ArrayItem array # OCRSchema \u203a words \u203a WordPrediction \u203a points \u203a ArrayItem Typearray Constraints <ul><li>Minimum items: <code>2</code></li><li>Maximum items: <code>2</code></li></ul> Nested fields Item integer # content Text content of the word Requiredstring # OCRSchema \u203a words \u203a WordPrediction \u203a content Text content of the word Typestring direction Text direction, e.g., 'horizontal' or 'vertical' Requiredstring # OCRSchema \u203a words \u203a WordPrediction \u203a direction Text direction, e.g., 'horizontal' or 'vertical' Typestring rec_score Confidence score of the word recognition Requirednumber # OCRSchema \u203a words \u203a WordPrediction \u203a rec_score Confidence score of the word recognition Typenumber det_score Confidence score of the word detection Requirednumber # OCRSchema \u203a words \u203a WordPrediction \u203a det_score Confidence score of the word detection Typenumber"},{"location":"en/schemas/#layout-analyzer","title":"Layout Analyzer","text":"<p>The Layout Analyzer module outputs the following variables as a <code>tuple</code>.</p> Variable Name Type Description results <code>LayoutAnalyzerSchema</code> Module output results layout_vis <code>np.ndarray</code> | <code>None</code> Visualization of the output of the Layout Analyzer (Only when <code>visualizer=True</code>) <p>The specification for the <code>LayoutAnalyzerSchema</code> that the <code>results</code> variable conforms to is as follows:</p> LayoutAnalyzerSchema No Additional Propsobject # LayoutAnalyzerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields paragraphs List of detected paragraphs Requiredarray # LayoutAnalyzerSchema \u203a paragraphs List of detected paragraphs Typearray Nested fields Element No Additional Propsobject # LayoutAnalyzerSchema \u203a paragraphs \u203a Element Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the layout element in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a box Bounding box of the layout element in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the layout element detection Requirednumber # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a score Confidence score of the layout element detection Typenumber role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] RequiredanyOf # LayoutAnalyzerSchema \u203a paragraphs \u203a Element \u203a role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # tables List of detected tables Requiredarray # LayoutAnalyzerSchema \u203a tables List of detected tables Typearray Nested fields TableStructureRecognizerSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a box Bounding box of the table in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # n_row Number of rows in the table Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_row Number of rows in the table Typeinteger n_col Number of columns in the table Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a n_col Number of columns in the table Typeinteger rows List of table lines representing rows Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows List of table lines representing rows Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a rows \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cols List of table lines representing columns Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols List of table lines representing columns Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cols \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber spans List of table lines representing spans Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans List of table lines representing spans Typearray Nested fields TableLineSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the table line in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a box Bounding box of the table line in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the table line detection Requirednumber # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a spans \u203a TableLineSchema \u203a score Confidence score of the table line detection Typenumber cells List of table cells Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells List of table cells Typearray Nested fields TableCellSchema No Additional Propsobject # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields col Column index of the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col Column index of the cell Typeinteger row Row index of the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row Row index of the cell Typeinteger col_span Number of columns spanned by the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a col_span Number of columns spanned by the cell Typeinteger row_span Number of rows spanned by the cell Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a row_span Number of rows spanned by the cell Typeinteger box Bounding box of the cell in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a box Bounding box of the cell in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # contents Text content of the cell RequiredanyOf # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a cells \u203a TableCellSchema \u203a contents Text content of the cell TypeanyOf Nested fields Any of 1 string # Any of 2 null # order Order of the table in the document Requiredinteger # LayoutAnalyzerSchema \u203a tables \u203a TableStructureRecognizerSchema \u203a order Order of the table in the document Typeinteger figures List of detected figures Requiredarray # LayoutAnalyzerSchema \u203a figures List of detected figures Typearray Nested fields Element No Additional Propsobject # LayoutAnalyzerSchema \u203a figures \u203a Element Typeobject Constraints <ul><li>Additional properties are not allowed</li></ul> Nested fields box Bounding box of the layout element in the format [x1, y1, x2, y2] Requiredarray # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a box Bounding box of the layout element in the format [x1, y1, x2, y2] Typearray Constraints <ul><li>Minimum items: <code>4</code></li><li>Maximum items: <code>4</code></li></ul> Nested fields Item integer # score Confidence score of the layout element detection Requirednumber # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a score Confidence score of the layout element detection Typenumber role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] RequiredanyOf # LayoutAnalyzerSchema \u203a figures \u203a Element \u203a role Role of the element, e.g., ['section_headings', 'page_header', 'page_footer', 'list_item', 'caption', 'inline_formula', 'display_formula', 'index'] TypeanyOf Nested fields Any of 1 string # Any of 2 null # <p>Auto-generated from JSON Schema files.</p>"},{"location":"en/table_semantic_parser/","title":"Using the Table Semantic Parser","text":"<p><code>TableSemanticParser</code> is a module that detects tables from form/document images and converts them into structured data. It also automatically estimates and analyzes semantic structures such as cell roles (e.g., <code>header</code> / <code>cell</code>) and Key-Value pairs (label \u2192 value).</p> <p>Key features</p> <ul> <li>Table region detection</li> <li>Cell segmentation (estimating cell boundaries)</li> <li>OCR (reading text inside cells)</li> <li>Cell role estimation (header / value)</li> <li>Key-Value estimation (data represented as 1:1 relationships between keys and values)</li> <li>Grid structure estimation (matrix-like, grid-shaped data)</li> <li>Search/export per table ID (<code>t0</code>, <code>t1</code>, ...)</li> </ul> <p>All of these processes are performed end-to-end in a single pipeline.</p> <p>In the following sections, we explain the functionality with source code and examples.</p> <p>Note: Only forms that have separator lines (ruled lines) are supported. Tables without separator lines are not supported.</p>"},{"location":"en/table_semantic_parser/#sample-data","title":"Sample Data","text":""},{"location":"en/table_semantic_parser/#sample-code","title":"Sample Code","text":"demo/simple_table_semantic_analysis.py <pre><code>import cv2\n\nfrom pprint import pprint\n\n\n\nfrom yomitoku.table_semantic_parser import TableSemanticParser\n\nfrom yomitoku.data.functions import load_image\n\n\n\npath_img = \"demo/samples/table.jpg\"\n\n\n\nanalyzer = TableSemanticParser(\n\n    device=\"cuda\",\n\n    visualize=True,\n\n)\n\n\n\nimgs = load_image(path_img)\n\n\n\nresults, vis_layout, vis_ocr = analyzer(\n\n    imgs[0],\n\n)\n\n\n\n# \u89e3\u6790\u7d50\u679c\u3092JSON\u3067\u4fdd\u5b58\n\nresults.to_json(\"result.json\")\n\n\n\n# OCR\u306e\u8aad\u307f\u53d6\u308a\u7d50\u679c\u3092\u53ef\u8996\u5316\n\ncv2.imwrite(\"vis_ocr.jpg\", vis_ocr)\n\n\n\n# \u30bb\u30eb\u691c\u51fa\u7d50\u679c\u3092\u53ef\u8996\u5316\n\ncv2.imwrite(\"vis_cell.jpg\", vis_layout)\n\n\n\n\n\n# \u5229\u7528\u60c5\u5831\u3092\u8868\u793a\n\n# t0\u3068\u3044\u3046ID\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u53d6\u5f97\n\ntable = results.find_table_by_id(table_id=\"t0\")\n\n\n\n# \u30c6\u30fc\u30d6\u30eb\u306e\u3059\u3079\u3066\u306e\u30b9\u30ad\u30fc\u30de\u3092\u8868\u793a\n\npprint(table.view.kv_items_to_dict())\n\n\"\"\"\n\n&gt;&gt;{'\u5229\u7528\u76ee\u7684': '\u30bb\u30df\u30ca\u30fc', '\u5b9f\u65bd\u5185\u5bb9': 'YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a', '\u65bd\u8a2d\u540d\u79f0': 'MLism\u682a\u5f0f\u4f1a\u793e'}\n\n\"\"\"\n\n\n\npprint(table.view.grids_to_dict())\n\n\"\"\"\n\n&gt;&gt;[{'id': 'g0',\n\n&gt;&gt;  'rows': [{'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n\n&gt;&gt;           {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}]\n\n&gt;&gt;}]\n\n\"\"\"\n\n\n\n\n\n# \u89e3\u6790\u7d50\u679c\u304b\u3089\u56e3\u4f53\u540d\u3092\u691c\u7d22\u3057\u3066\u8868\u793a\n\ntable = results.find_table_by_id(table_id=\"t1\")\n\npprint(table.search_kv_items_by_key(key=\"\u56e3\u4f53\u540d\"))\n\n\"\"\"\n\n&gt;&gt; [{'key': [CellSchema(meta={}, contents='\u56e3 \u4f53 \u540d', role='header', id='c1', box=[149, 1393, 364, 1539], row=None, col=None, row_span=None, col_span=None)],\n\n&gt;&gt;  'value': CellSchema(meta={}, contents='\u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3', role='cell', id='c2', box=[365, 1393, 1498, 1444], row=None, col=None, row_span=None, col_span=None)},\n\n&gt;&gt; {'key': [CellSchema(meta={}, contents='\u56e3 \u4f53 \u540d', role='header', id='c1', box=[149, 1393, 364, 1539], row=None, col=None, row_span=None, col_span=None)],\n\n&gt;&gt;  'value': CellSchema(meta={}, contents='MLism \u682a\u5f0f\u4f1a\u793e', role='cell', id='c3', box=[365, 1444, 1498, 1539], row=None, col=None, row_span=None, col_span=None)}]\n\n\"\"\"\n\n\n\n\n\n# \u89e3\u6790\u7d50\u679c\u304b\u3089\u4f4f\u6240\u3092\u691c\u7d22\u3057\u3066\u8868\u793a\n\npprint(table.search_kv_items_by_key(key=\"\u4f4f\u6240\"))\n\n\"\"\"\n\n[{'key': [CellSchema(meta={}, contents='\u4f4f \u6240', role='header', id='c7', box=[149, 1686, 364, 1788], row=None, col=None, row_span=None, col_span=None)],\n\n  'value': CellSchema(meta={}, contents='\u3012277-8520\u5343\u8449\u770c\u67cf\u5e02\u82e5\u67f4 178 \u756a\u5730 4 \u67cf\u306e\u8449\u30ad\u30e3\u30f3\u30d1\u30b9 148 \u8857\u533a 2 \u30b7\u30e7\u30c3\u30d7&amp;\u30aa\u30d5\u30a3\u30b9\u68df 6F', role='cell', id='c8', box=[365, 1686, 1498, 1788], row=None, col=None, row_span=None, col_span=None)}]\n\n\"\"\"\n</code></pre>"},{"location":"en/table_semantic_parser/#output-of-the-table-semantic-parser","title":"Output of the Table Semantic Parser","text":"<p>See the schema for details.</p> <ul> <li><code>paragraphs</code>: Information about textual components such as paragraphs and titles in the document. It includes text strings and layout-related text information.</li> <li> <p><code>tables</code>: A table region within the document. It contains information such as <code>cells</code>, <code>kv_items</code>, and <code>grids</code>.</p> </li> <li> <p><code>cells</code>: Holds each cell in the table, including the text content inside the cell and the cell role (e.g., <code>header</code> or <code>cell</code>).</p> </li> <li><code>kv_items</code>, <code>grids</code>: Semantically structured information derived from the table. Details are explained later.</li> <li><code>words</code>: Information about text in the document. This is obtained from the text detection model and includes positions and the recognized text within the regions.</li> </ul>"},{"location":"en/table_semantic_parser/#visualization-of-the-results","title":"Visualization of the Results","text":""},{"location":"en/table_semantic_parser/#two-types-of-structured-outputs-kv_items-and-grids","title":"Two Types of Structured Outputs: <code>kv_items</code> and <code>grids</code>","text":"<p>The Table Semantic Parser not only reconstructs a table as a \u201cset of cells,\u201d but also estimates and outputs the semantic structure of the table. The key concepts are <code>kv_items</code> and <code>grids</code>.</p>"},{"location":"en/table_semantic_parser/#kv_items-key-value","title":"<code>kv_items</code> (Key-Value)","text":"<p><code>kv_items</code> represent information in a table where a header (label) and a value correspond 1:1.</p> <p>For example, in the sample form, the following items correspond to <code>kv_items</code> (highlighted with red boxes in the visualization):</p> <ul> <li><code>\u5229\u7528\u76ee\u7684</code> \u2192 <code>\u30bb\u30df\u30ca\u30fc</code></li> <li><code>\u65bd\u8a2d\u540d\u79f0</code> \u2192 <code>MLism\u682a\u5f0f\u4f1a\u793e</code></li> <li><code>\u5b9f\u65bd\u5185\u5bb9</code> \u2192 <code>YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a</code></li> </ul> <p>In other words, <code>kv_items</code> are defined as data where a label and a value are semantically paired and it is natural to treat them as a dictionary (Key-Value).</p>"},{"location":"en/table_semantic_parser/#grids-grid-tabular-records","title":"<code>grids</code> (Grid / Tabular Records)","text":"<p><code>grids</code> represent data that can be interpreted as a row/column grid structure, i.e., data that can be interpreted as a matrix (highlighted with blue boxes in the visualization).</p> <p>For example, the \u201c\u5229\u7528\u5e0c\u671b\u65e5\u201d section in the sample form can be expressed as repeating rows with columns such as <code>\u65e5\u4ed8</code>, <code>\u5165\u5ba4\u6642\u523b</code>, and <code>\u9000\u5ba4\u6642\u523b</code>, and thus corresponds to a <code>grid</code>:</p> <ul> <li><code>2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)</code> / <code>10\u664200\u5206</code> / <code>17\u664200\u5206</code></li> <li><code>2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)</code> / <code>10\u664200\u5206</code> / <code>17\u664200\u5206</code></li> <li>...</li> </ul> <p>In other words, <code>grids</code> are defined as grid-shaped data where multiple rows exist as records and columns are defined as attributes.</p>"},{"location":"en/table_semantic_parser/#cells","title":"Cells","text":"<p>Cells inside each table are stored in a schema called <code>cells</code>. Each cell is assigned a table-unique identifier <code>id</code> (e.g., <code>c0</code>).</p> <p><code>kv_items</code> and <code>grids</code> store cell IDs, and by referencing these IDs you can access detailed cell information. In addition to using structured data such as <code>kv_items</code> and <code>grids</code>, APIs are also provided to reference cells by <code>id</code> or to retrieve specific cell information based on positional relationships.</p>"},{"location":"en/table_semantic_parser/#python-api","title":"Python API","text":"<p>The analysis results produced by the Table Semantic Parser can be accessed via APIs to retrieve information by searching IDs, strings, or keys, and to convert/export the data into structured formats.</p> <p>Some APIs apply to the entire document, while others apply to a specific table. For clarity, functions applied to the whole document are prefixed with <code>results.</code>, and functions applied at the table level are prefixed with <code>table.</code> in this documentation.</p> <p>To apply processing to a specific table, first obtain the table object using one of the following two functions.</p> <p>There are two ways to specify a table: by ID or by position. After obtaining the table, you can reference cells or use semantic structures to extract specific information.</p>"},{"location":"en/table_semantic_parser/#resultsfind_table_by_id","title":"<code>results.find_table_by_id</code>","text":"<p>Retrieve a specific table by ID. The <code>table_id</code> can be identified from the JSON output or the visualization. Since sorting and ID assignment follow a deterministic order based on positions, the same format is likely to yield the same ID. However, IDs may change due to false positives or missed detections.</p> <p>Arguments</p> <ul> <li><code>table_id: str</code>: The table ID to retrieve</li> </ul> <p>Returns</p> <ul> <li><code>TableSemanticContentsSchema</code>: Holds structured information for the specified table.</li> </ul> <p>Example</p> <pre><code>table = results.find_table_by_id(\"t0\")\n</code></pre>"},{"location":"en/table_semantic_parser/#resultsfind_table_by_position","title":"<code>results.find_table_by_position</code>","text":"<p>Retrieve table information that overlaps with the specified region. This is useful when ID-based selection is unstable due to false positives or missed detections.</p> <p>Arguments</p> <ul> <li><code>box: List[int]</code>: <code>[x1, y1, x2, y2]</code>   The rectangle is defined by two points: the top-left <code>(x1, y1)</code> and the bottom-right <code>(x2, y2)</code>.   <code>x1, y1</code> are the coordinates of the top-left corner, and <code>x2, y2</code> are the coordinates of the bottom-right corner.</li> </ul> <p>Returns</p> <ul> <li><code>TableSemanticContentsSchema</code>: Holds structured information for the specified table.</li> </ul> <p>Example</p> <pre><code>table = results.find_table_by_position([149, 498, 1503, 1293])\n</code></pre>"},{"location":"en/table_semantic_parser/#retrieving-information-by-position-and-cells-id-position-neighborhood","title":"Retrieving Information by Position and Cells (ID / Position / Neighborhood)","text":""},{"location":"en/table_semantic_parser/#a-search-the-entire-document","title":"A. Search the Entire Document","text":""},{"location":"en/table_semantic_parser/#resultssearch_words_by_position","title":"<code>results.search_words_by_position</code>","text":"<p>Retrieve <code>words</code> contained within the specified region to check OCR text. This is useful when you already know that the target text is located in a specific area.</p> <p>Arguments</p> <ul> <li><code>box: List[int]</code>: <code>[x1, y1, x2, y2]</code>   The rectangle is defined by the top-left <code>(x1, y1)</code> and bottom-right <code>(x2, y2)</code> points.</li> </ul> <p>Returns</p> <ul> <li><code>str</code>: The text string contained in the region</li> </ul> <p>Example</p> <pre><code>word = results.search_words_by_position([365, 1444, 1498, 1539])\nprint(word)\n</code></pre> <p>Output</p> <pre><code>MLism \u682a\u5f0f\u4f1a\u793e\n</code></pre>"},{"location":"en/table_semantic_parser/#b-search-within-a-specific-table-table-object","title":"B. Search Within a Specific Table (<code>table</code> object)","text":""},{"location":"en/table_semantic_parser/#tablefind_cell_by_id","title":"<code>table.find_cell_by_id</code>","text":"<p>Retrieve a cell in the table by <code>cell_id</code>. Since sorting and ID assignment follow a deterministic order based on positions, the same format is likely to yield the same ID. However, IDs may change due to false positives or missed detections.</p> <p>If IDs change, you may not be able to extract information correctly. In such cases, try extraction methods based on relative positions or semantic structures.</p> <p>Arguments</p> <ul> <li><code>cell_id: str</code>: Cell ID (e.g., <code>\"c0\"</code>)</li> </ul> <p>Returns</p> <ul> <li><code>CellSchema</code>: Contains detailed cell information such as ID, text, bounding box, and row/column indices.</li> </ul> <p>Example</p> <pre><code>cell = table.find_cell_by_id(\"c0\")\nprint(cell.id, cell.contents, cell.box)\n</code></pre> <p>Output</p> <pre><code>c0 \u5229\u7528\u60c5\u5831 [149, 498, 1501, 550]\n</code></pre>"},{"location":"en/table_semantic_parser/#tablesearch_cells_by_query","title":"<code>table.search_cells_by_query</code>","text":"<p>List cells whose text content partially matches the given query.</p> <p>Arguments</p> <ul> <li><code>query: str</code>: Text to search for</li> </ul> <p>Returns</p> <ul> <li><code>List[CellSchema]</code>: A list of matching cells</li> </ul> <p>Example</p> <pre><code>cells = table.search_cells_by_query(\"2025\")\nfor c in cells:\n    print(c.id, c.contents, c.box)\n</code></pre> <p>Output</p> <pre><code>c11 2025\u5e74 01\u6708 30\u65e5(\u6708 \u66dc\u65e5) [365, 888, 946, 968]\nc14 2025\u5e74 02\u6708 1\u65e5(\u706b \u66dc\u65e5) [365, 968, 946, 1049]\n</code></pre> <p>Use cases</p> <ul> <li>Extract cells that contain a specific string</li> <li>Retrieve the position of cells containing a specific string</li> </ul>"},{"location":"en/table_semantic_parser/#tablesearch_cells_right_of_key_text-tablesearch_cells_below_key_text","title":"<code>table.search_cells_right_of_key_text</code> / <code>table.search_cells_below_key_text</code>","text":"<p>Retrieve neighboring cells to the right (or below) the cell containing the given key string.</p> <p>Many Japanese forms have a specific key and store the information to retrieve at a relative position from that key. This API uses that property to get neighboring cell information to the right or below. Key matching is done by partial match.</p> <p>Arguments</p> <ul> <li><code>key: str</code> (partial match)</li> </ul> <p>Returns</p> <ul> <li><code>List[CellSchema]</code>: A list of matching neighboring cells</li> </ul> <p>Example</p> <pre><code># Retrieve the neighboring cell(s) to the right of the cell containing \"\u5b9f\u65bd\u5185\u5bb9\"\nvals = table.search_cells_right_of_key_text(\"\u5b9f\u65bd\u5185\u5bb9\")\nfor v in vals:\n    print(v.id, v.contents)\n\n# Retrieve the cell(s) directly below the cell containing \"\u5b9f\u65bd\u5185\u5bb9\"\nvals = table.search_cells_below_key_text(\"\u5b9f\u65bd\u5185\u5bb9\")\nfor v in vals:\n    print(v.id, v.contents)\n</code></pre> <p>Output</p> <pre><code>c6 YomiToku \u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\nc7 \u5229\u7528\u5e0c\u671b\u65e5\n</code></pre>"},{"location":"en/table_semantic_parser/#extracting-information-from-semantic-structures-kv_items-grids","title":"Extracting Information from Semantic Structures (<code>kv_items</code> / <code>grids</code>)","text":"<p>Semantic-structure-based retrieval uses key-to-value mapping (<code>kv_items</code>) and matrix structures (<code>grids</code>). This approach is robust to minor format variations in documents. Since structuring is estimated automatically, it may fail in some cases. If extraction does not work well, try using cell IDs or relative-position-based methods.</p>"},{"location":"en/table_semantic_parser/#a-search-the-entire-document-no-table-specified","title":"A. Search the Entire Document (No Table Specified)","text":""},{"location":"en/table_semantic_parser/#resultssearch_kv_items_by_key","title":"<code>results.search_kv_items_by_key</code>","text":"<p>Search <code>kv_items</code> across the entire analysis result (possibly including multiple tables) by partial matching on the key.</p> <p>Arguments</p> <ul> <li><code>key: str</code>: Search key (partial match)</li> </ul> <p>Returns</p> <ul> <li><code>List[dict]</code>: Each element is <code>{\"key\": [CellSchema, ...], \"value\": [CellSchema, ...]}</code></li> </ul> <p>Example</p> <pre><code>kv_items = results.search_kv_items_by_key(key=\"\u56e3\u4f53\u540d\")\nfor kv in kv_items:\n    keys = \"_\".join([k.contents for k in kv[\"key\"]])\n    val = kv[\"value\"].contents\n    print(keys, val)\n</code></pre> <p>Output</p> <pre><code>\u56e3 \u4f53 \u540d \u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3\n\u56e3 \u4f53 \u540d MLism \u682a\u5f0f\u4f1a\u793e\n</code></pre> <p>Note If cells have nested structures, the key may consist of multiple cells, so <code>key</code> is returned as a list. Multiple values may also exist depending on the search, so results are returned as a list.</p>"},{"location":"en/table_semantic_parser/#b-search-within-a-specific-table-table-object_1","title":"B. Search Within a Specific Table (<code>table</code> object)","text":""},{"location":"en/table_semantic_parser/#tablesearch_kv_items_by_key","title":"<code>table.search_kv_items_by_key</code>","text":"<p>Search for kv_items within table <code>t0</code> only by partial matching on the key.</p> <p>Arguments</p> <ul> <li><code>key: str</code></li> </ul> <p>Returns</p> <ul> <li><code>List[dict]</code>: <code>{\"key\": [CellSchema], \"value\": [CellSchema]}</code></li> </ul> <p>Example</p> <pre><code>hits = table.search_kv_items_by_key(key=\"\u5229\u7528\u76ee\u7684\")\nprint(hits)\n</code></pre> <p>Output</p> <pre><code>[\n    {\n        'key': [\n            CellSchema(\n                meta={},\n                contents='\u5229 \u7528 \u76ee \u7684',\n                role='header',\n                id='c3',\n                box=[149, 645, 364, 741],\n                row=None,\n                col=None,\n                row_span=None,\n                col_span=None\n            )\n        ], \n        'value': CellSchema(\n            meta={}, \n            contents='\u30bb\u30df\u30ca\u30fc', \n            role='cell', \n            id='c4', \n            box=[365, 645, 1498, 741], \n            row=None, \n            col=None, \n            row_span=None, \n            col_span=None\n        )\n    }\n]\n</code></pre>"},{"location":"en/table_semantic_parser/#tableviewkv_items_to_dict","title":"<code>table.view.kv_items_to_dict</code>","text":"<p>Expand cell references in <code>kv_items</code> and convert them into a dictionary (<code>key string \u2192 value string</code>).</p> <p>Returns</p> <ul> <li><code>dict[str, str]</code></li> </ul> <p>Example</p> <pre><code>kv = table.view.kv_items_to_dict()\nprint(kv)\nprint(kv.get(\"\u5229\u7528\u76ee\u7684\"))\n</code></pre> <p>Output</p> <pre><code>{\n  \"\u65bd\u8a2d\u540d\u79f0\": \"MLism\u682a\u5f0f\u4f1a\u793e\",\n  \"\u5229\u7528\u76ee\u7684\": \"\u30bb\u30df\u30ca\u30fc\",\n  \"\u5b9f\u65bd\u5185\u5bb9\": \"YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\"\n}\n\u30bb\u30df\u30ca\u30fc\n</code></pre>"},{"location":"en/table_semantic_parser/#tableviewgrids_to_dict","title":"<code>table.view.grids_to_dict()</code>","text":"<p>Convert structured <code>grid</code> information into a list of record dictionaries.</p> <p>Returns</p> <ul> <li><code>list[dict]</code>: <code>[{ \"id\": grid_id, \"rows\": [ {...}, ...]}]</code></li> </ul> <p>Example</p> <pre><code>grids = table.view.grids_to_dict()\nfor g in grids:\n    print(\"grid:\", g[\"id\"])\n    for row in g[\"rows\"]:\n        print(row)\n</code></pre> <p>Output</p> <pre><code>grid: g0\n{'\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'}\n{'\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '10\u664200\u5206', '\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n{'\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}\n</code></pre>"},{"location":"en/table_semantic_parser/#exporting-structured-data-json-csv","title":"Exporting Structured Data (JSON / CSV)","text":"<p>You can export the semantic analysis results into JSON or CSV for integration with other systems. You can export data for the entire document or for a specific table.</p>"},{"location":"en/table_semantic_parser/#a-export-the-entire-document","title":"A. Export the Entire Document","text":""},{"location":"en/table_semantic_parser/#resultsto_json","title":"<code>results.to_json</code>","text":"<p>Save the analysis result of the entire document as JSON.</p> <p>Arguments</p> <ul> <li><code>out_path: str</code>: Path to the output JSON file</li> </ul> <p>Example</p> <pre><code>analyzer = TableSemanticParser(\n    device=\"cuda\",\n    visualize=True,\n)\nimgs = load_pdf(path_img)\nresults, vis_layout, vis_ocr = analyzer(imgs[0])\n\n# Save the document analysis result as JSON\nresults.to_json(\"out/result.json\")\n</code></pre>"},{"location":"en/table_semantic_parser/#tablesemanticparserschemaload_json","title":"<code>TableSemanticParserSchema.load_json</code>","text":"<p><code>load_json</code> is a utility that reads a saved JSON result and restores it as <code>TableSemanticParserSchema</code> (= <code>results</code>). This enables re-running extraction logic without reprocessing with AI. Page-count billing (or processing count) is performed only when AI is invoked. Therefore, running extraction on results loaded via <code>load_json</code> does not count toward processing.</p> <p>During development/validation, or when you want to reduce processing time, it is recommended to save once with <code>to_json</code> and then reload with <code>load_json</code>.</p> <p>Arguments</p> <ul> <li><code>json_path: str</code>: Path to the JSON file</li> </ul> <p>Example</p> <pre><code>from yomitoku.schemas.table_semantic_parser import TableSemanticParserSchema\n\njson_path = \"out/result.json\"\nresults = TableSemanticParserSchema.load_json(json_path)\n</code></pre>"},{"location":"en/table_semantic_parser/#resultsto_dict","title":"<code>results.to_dict</code>","text":"<p><code>to_dict</code> is a utility method that aggregates, for every table in the document, the following by table ID:</p> <ul> <li><code>kv_items</code> (Key-Value structures)</li> <li><code>grids</code> (matrix structures)</li> </ul> <p>It converts the result into a Python <code>dict</code> (structured data). It reduces information such as cell bounding boxes and converts into structured data composed primarily of text.</p> <p>This is suitable when you want to use the parsed results directly in application logic or API responses, or when you want to feed structured document information into a generative AI model.</p> <p>Example</p> <pre><code>from pprint import pprint\nparsed = results.to_dict()\npprint(parsed)\n</code></pre> <p>Output</p> <pre><code>{\n    't0': {\n        'grids': [\n            {\n                'id': 'g0',\n                'rows': [\n                    {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206','\u65e5\u4ed8': '2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)','\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '10\u664200\u5206','\u65e5\u4ed8': '2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)','\u9000\u5ba4\u6642\u523b': '17\u664200\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'},\n                    {'\u5165\u5ba4\u6642\u523b': '\u6642\u5206', '\u65e5\u4ed8': '\u5e74\u6708\u65e5(\u66dc\u65e5)', '\u9000\u5ba4\u6642\u523b': '\u6642\u5206'}]\n            }\n        ],\n        'kv_items': {\n            '\u5229\u7528\u76ee\u7684': '\u30bb\u30df\u30ca\u30fc',\n            '\u5b9f\u65bd\u5185\u5bb9': 'YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a',\n            '\u65bd\u8a2d\u540d\u79f0': 'MLism\u682a\u5f0f\u4f1a\u793e'\n        }\n    },\n    't1': {\n        'grids': [],\n        'kv_items': {\n            '\u4ee3\u8868\u8005_0': '\u30ad\u30ce\u30b7\u30bf\u30b3\u30a6\u30bf\u30ed\u30a6',\n            '\u4ee3\u8868\u8005_1': '\u6728\u4e4b\u4e0b\u6ec9\u5927\u90ce',\n            '\u4f4f\u6240': '\u3012277-8520\u5343\u8449\u770c\u67cf\u5e02\u82e5\u67f4178\u756a\u57304\u67cf\u306e\u8449\u30ad\u30e3\u30f3\u30d1\u30b9148\u8857\u533a2\u30b7\u30e7\u30c3\u30d7&amp;\u30aa\u30d5\u30a3\u30b9\u68df6F',\n            '\u56e3\u4f53\u540d_0': '\u30a8\u30e0\u30ea\u30ba\u30e0\u30ab\u30d6\u30b7\u30ad\u30ac\u30a4\u30b7\u30e3',\n            '\u56e3\u4f53\u540d_1': 'MLism\u682a\u5f0f\u4f1a\u793e',\n            '\u96fb\u8a71\u756a\u53f7': '090-1234-5678'\n        }\n    }\n}\n</code></pre>"},{"location":"en/table_semantic_parser/#b-export-per-table","title":"B. Export Per Table","text":""},{"location":"en/table_semantic_parser/#tablekv_items_to_json","title":"<code>table.kv_items_to_json</code>","text":"<p>Export <code>kv_items</code> in the table into a single JSON file.</p> <p>Arguments</p> <ul> <li><code>out_path: str</code></li> </ul> <p>Returns</p> <ul> <li><code>dict</code> (In addition to writing a file, it also returns the dictionary in memory.)</li> </ul> <p>Example</p> <pre><code>table = results.find_table_by_id(\"t0\")\nkv = table.export.kv_items_to_json(\"out/kv_items.json\")\nprint(kv)\n</code></pre> <p>Output</p> <pre><code>{\n    \"\u65bd\u8a2d\u540d\u79f0\": \"MLism\u682a\u5f0f\u4f1a\u793e\",\n    \"\u5229\u7528\u76ee\u7684\": \"\u30bb\u30df\u30ca\u30fc\",\n    \"\u5b9f\u65bd\u5185\u5bb9\": \"YomiToku\u306e\u5229\u7528\u65b9\u6cd5\u306b\u95a2\u3059\u308b\u8aac\u660e\u4f1a\"\n}\n</code></pre>"},{"location":"en/table_semantic_parser/#tablegrids_to_json","title":"<code>table.grids_to_json</code>","text":"<p>Export <code>grids</code> in the table into a single JSON file. Since a table may contain multiple grids, the output is a list.</p> <p>Arguments</p> <ul> <li><code>out_path: str</code></li> </ul> <p>Returns</p> <ul> <li><code>list[dict]</code>: Dictionary data converted from grids into record rows</li> </ul> <p>Example</p> <pre><code>table = results.find_table_by_id(\"t0\")\ngrids = table.export.grids_to_json(\"out/grids.json\")\nprint(grids)\n</code></pre> <p>Output</p> <pre><code>[\n    {\n        \"id\": \"g0\",\n        \"rows\": [\n            {\n                \"\u65e5\u4ed8\": \"2025\u5e7401\u670830\u65e5(\u6708\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"10\u664200\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"17\u664200\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"2025\u5e7402\u67081\u65e5(\u706b\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"10\u664200\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"17\u664200\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            },\n            {\n                \"\u65e5\u4ed8\": \"\u5e74\u6708\u65e5(\u66dc\u65e5)\",\n                \"\u5165\u5ba4\u6642\u523b\": \"\u6642\u5206\",\n                \"\u9000\u5ba4\u6642\u523b\": \"\u6642\u5206\"\n            }\n        ]\n    }\n]\n</code></pre>"},{"location":"en/table_semantic_parser/#tablegrids_to_csv","title":"<code>table.grids_to_csv</code>","text":"<p>Export <code>grids</code> in the table as CSV. You can optionally specify column names to export only certain fields.</p> <p>Arguments</p> <ul> <li><code>out_path: str</code>: Path to the output CSV file</li> <li><code>columns: List[str] | None = None</code>: Column names to export (matched by partial match)</li> <li><code>ignore_space: bool = True</code>: Whether to remove spaces when exporting</li> </ul> <p>Returns</p> <ul> <li><code>List[List[str]]</code> (2D array representing CSV rows)</li> </ul> <p>In the example below, columns are specified. If columns are not specified, all information in the grid is exported.</p> <p>Example</p> <pre><code>table = results.find_table_by_id(\"t0\")\ncsvs = table.export.grids_to_csv(\"out/grid.csv\", columns=[\"\u5165\u5ba4\", \"\u9000\u5ba4\"])\n</code></pre> <p>Output Exporting only \u201c\u5165\u5ba4\u201d and \u201c\u9000\u5ba4\u201d as columns:</p> <pre><code>\u5165\u5ba4\u6642\u523b,\u9000\u5ba4\u6642\u523b\n10\u664200\u5206,17\u664200\u5206\n10\u664200\u5206,17\u664200\u5206\n\u6642\u5206,\u6642\u5206\n\u6642\u5206,\u6642\u5206\n\u6642\u5206,\u6642\u5206\n</code></pre> <p>Generated file names</p> <ul> <li>A suffix with the <code>grid_id</code> is added, e.g. <code>out/grid_0.csv</code>.   If multiple grids exist in the table, the suffix changes accordingly, e.g. <code>out/grid_1.csv</code>.</li> </ul>"}]}